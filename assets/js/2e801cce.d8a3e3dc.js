"use strict";(self.webpackChunkgx_blog=self.webpackChunkgx_blog||[]).push([[9116],{16029:function(n){n.exports=JSON.parse('{"blogPosts":[{"id":"/2022/01/31/dart\u4e4b\u5f02\u6b65\u7f16\u7a0b","metadata":{"permalink":"/2022/01/31/dart\u4e4b\u5f02\u6b65\u7f16\u7a0b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-31-dart\u4e4b\u5f02\u6b65\u7f16\u7a0b/index.md","source":"@site/blog/2022-01-31-dart\u4e4b\u5f02\u6b65\u7f16\u7a0b/index.md","title":"dart\u4e4b \u5f02\u6b65\u7f16\u7a0b","description":"headerimg","date":"2022-01-31T00:00:00.000Z","formattedDate":"2022\u5e741\u670831\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":10.34,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4b \u5f02\u6b65\u7f16\u7a0b","tags":["dart"]},"nextItem":{"title":"dart\u4e4b \u6cdb\u578b","permalink":"/2022/01/30/dart\u4e4b\u6cdb\u578b"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bdart\u7684\u5f02\u6b65\u76f8\u5173\u3002\u5728\u4e86\u89e3\u5f02\u6b65\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u4e0bdart\u7684`Isolates`\u548c`event loop`\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u4e4b\u540e\u6211\u4eec\u4e86\u89e3\u4e0b\u5e38\u7528\u7684Future\u3001Stream\u3001await/async\u3001\u751f\u6210\u5668\u3002\\n\\n##  Isolates\\n\\n\u5927\u591a\u6570\u8ba1\u7b97\u673a\uff0c\u751a\u81f3\u5728\u79fb\u52a8\u5e73\u53f0\u4e0a\uff0c\u90fd\u5177\u6709\u591a\u6838 CPU\u3002\u4e3a\u4e86\u5229\u7528\u6240\u6709\u8fd9\u4e9b\u5185\u6838\uff0c\u6211\u4eec\u4e00\u822c\u90fd\u4f1a\u4f7f\u7528\u5e76\u53d1\uff0c\u4f46\u662f\u5e76\u53d1\u6d89\u53ca\u5230\u8bbf\u95ee\u5171\u4eab\u72b6\u6001\uff0c\u800c\u8bbf\u95ee\u5171\u4eab\u72b6\u6001\u7ecf\u5e38\u90fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u9519\u8bef\u53d1\u751f\u3002\\n\\nDart\u5e76\u4e0d\u76f4\u63a5\u64cd\u4f5c\u7ebf\u7a0b\uff0c\u800c\u662f\u5c01\u88c5\u4e86\u4e00\u4e2a\u53eb\u505aisolates\u7684\u4e1c\u897f\uff0c\u6240\u6709\u7684dart\u4ee3\u7801\u90fd\u662f\u5728*isolates*\u4e2d\u8fd0\u884c\u3002\u6bcf\u4e2a isolates\u90fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u4f1a\u8fd0\u884c\u8fd9\u4e2aisolates\u7684event loop\uff0cisolates\u4e4b\u95f4\u4e0d\u5171\u4eab\u5185\u5b58\uff0c\u4ed6\u4eec\u6709\u81ea\u5df1\u5355\u72ec\u7684\u5806\u5185\u5b58\uff0c\u56e0\u6b64\u4e5f\u4e0d\u7528\u62c5\u5fc3\u8bbf\u95ee\u5171\u4eab\u72b6\u6001\u52a0\u9501\u7684\u95ee\u9898\u3002\\n\\n### main isolate\\n\\n![image-20220517155140433](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bgc3yrytj20bu0budg2.jpg)\\n\\n\u901a\u5e38dart app\u7684\u4ee3\u7801\u90fd\u662f\u5728main isolate\u4e2d\u6267\u884c\u7684\u3002\\n\\n### isolate life cycle\\n\\n\u4e0b\u9762\u7684\u56fe\u7247\u663e\u793a\u4e86isolate\u7684\u751f\u547d\u5468\u671f\u3002\u4f60\u7684\u4ee3\u7801\u4f1a\u6ce8\u518c\u4e00\u4e9bevent listeners \uff0c\u6bd4\u5982\u54cd\u5e94\u952e\u76d8\u3001\u6587\u4ef6I/O\u7b49\u7b49\u3002\\n\\n\u5f53isolate\u7684\u521d\u59cb\u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u5982\u679c\u5b83\u9700\u8981\u5904\u7406\u4e8b\u4ef6\uff0cisolate\u5c31\u4f1a\u7559\u4e0b\u6765\u3002\u5904\u7406\u5b8c\u4e8b\u4ef6\u540e\uff0cisolate \u5c31\u9000\u51fa\u4e86\u3002\\n\\n![image-20220517155526963](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bgfzxs6xj20bg0gqt96.jpg)\\n\\n### event loop\\n\\n\u6240\u6709\u7684event\u90fd\u4f1a\u653e\u5230\u4e00\u4e2aevent queue\u4e2d\uff0c\u6240\u8c13\u7684event loop\u5c31\u662f\u4e00\u4e2a\u5faa\u73af\uff0c\u4e0d\u65ad\u4ecequeue\u4e2d\u53d6\u51faevent\u4ea4\u7ed9isolate\u6267\u884c\u3002\\n\\n![image-20220517155817432](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bgiyonbaj20uc06m74h.jpg)\\n\\n![image-20220517155833263](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bgj8hgruj210g0ikabe.jpg)\\n\\n\u5b9e\u9645\u7684event queue\u8fd8\u4f1a\u5206\u7684\u66f4\u7ec6\u4e00\u70b9\uff0c\u5206\u4e3aevent queue \u548c microtask queue\u3002\u5728\u4e00\u4e2aevent\u6267\u884c\u5b8c\u6210\u540e\u4f1a\u67e5\u770bmicrotask queue\u662f\u5426\u4e3a\u7a7a\uff0c\u5982\u679c\u4e0d\u4e3a\u7a7a\u5219\u53d6microtask\u6267\u884c\uff0c\u77e5\u9053microtask queue\u4e3a\u7a7a\uff0c\u7136\u540e\u624d\u662f\u53d6\u4e0b\u4e00\u4e2aevent\u3002\\n\\n![image-20220517162757633](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bhduegnnj20uy0tmabc.jpg)\\n\\n### \u521b\u5efa\u65b0\u7684isolate\\n\\n\u5982\u679c\u6211\u4eec\u5728main isolate\u4e0a\u7684\u67d0\u4e2aevent\u6267\u884c\u65f6\u95f4\u8fc7\u957f\uff0c\u5c31\u4f1a\u5f71\u54cdUI\u7684\u5237\u65b0\uff0c\u5f15\u8d77\u6389\u5e27\uff0c\u5361\u987f\u3002\\n\\n![image-20220517161435977](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bgzxc9p4j20nq0pydgs.jpg)\\n\\n\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5c06\u8017\u65f6\u64cd\u4f5c\u653e\u5230\u53e6\u4e00\u4e2aisolate\u4e2d\u6267\u884c\uff0c\u4e0d\u5f71\u54cdmain isolate\u3002\u4e0d\u540cisolate\u901a\u8fc7message\u901a\u4fe1\u3002\\n\\n![image-20220517161523430](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bh0qrlkmj210c0c2t9j.jpg)\\n\\n\u6211\u4eec\u6765\u770b\u4e2a\u7b80\u5355\u7684demo\\n\\n```dart\\nvoid main() async {\\n  // Read some data.\\n  final jsonData = await _parseInBackground();\\n\\n  // Use that data\\n  print(\'Number of JSON keys: ${jsonData.length}\');\\n}\\n\\nFuture<void> _readAndParseJson(SendPort p) async {\\n  final fileData = await File(filename).readAsString();\\n  final jsonData = jsonDecode(fileData);\\n  //\u9000\u51faisolate\uff0c\u5e76\u5c06\u6570\u636e\u4f20\u9012\u7ed9sendPort\\n  Isolate.exit(p, jsonData);\\n}\\n\\n// Spawns an isolate and waits for the first message\\nFuture<Map<String, dynamic>> _parseInBackground() async {\\n//\u9996\u5148\u521b\u5efa\u4e00\u4e2aRecivePort\u80fd\u63a5\u6536\u540e\u53f0isolate\u53d1\u8fc7\u6765\u7684\u6570\u636e\u3002\\n  final p = ReceivePort(); \\n  //\u8c03\u7528Isolate.spawn(),\u521b\u5efa\u5e76\u5f00\u59cb\u53e6\u4e00\u4e2aisolate\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4f20\u7ed9\u7b2c\u4e00\u4e2a\u51fd\u6570\u7684\u53c2\u6570\u3002\\n  await Isolate.spawn(_readAndParseJson, p.sendPort);\\n  //await RecivePort\u4e2d\u7684\u6570\u636e\\n  return await p.first as Map<String, dynamic>;\\n}\\n```\\n\\n![image-20220517162303650](https://tva1.sinaimg.cn/large/e6c9d24egy1h2bh8qcsv0j21260ewgmu.jpg)\\n\\n \\n\\n## Future\\n\\nFuture\u548c\u5176\u4ed6\u8bed\u8a00\u7684Promise\u7c7b\u4f3c\u3002\u4e5f\u4ee3\u8868\u5c06\u6765\u4f1a\u8fd4\u56de\u67d0\u4e2avalue\u7684\u5bf9\u8c61\u3002\\n\\n### \u521d\u59cb\u5316\u65b9\u6cd5\\n\\n```dart\\n///\u8fd9\u4e2a\u4e24\u4e2a\u65b9\u6cd5\u90fd\u662f\u6dfb\u52a0\u4e00\u4e2a\u4efb\u52a1\u5230event queue\u7684\u961f\u5c3e\uff0c\u5185\u90e8\u662f\u901a\u8fc7Timer\u5b9e\u73b0\u7684\\nFuture(FutureOr<T> computation())\\nFuture.delayed(Duration duration, [FutureOr<T> computation()?])\\n  \\nvar f = Future(() => 123);  \\n```\\n\\n```dart\\n//complete with error\u3002\u4f1a\u751f\u6210\u4e00\u4e2amicrotask\u6dfb\u52a0\u5230microtask queue\u4e2d\u3002\\nFuture.error(Object error, [StackTrace? stackTrace])\\n```\\n\\n```dart\\n//\u4f1a\u751f\u6210\u4e00\u4e2amicrotask\u6dfb\u52a0\u5230microtask queue\u4e2d\u3002\u5185\u90e8\u662f\u901a\u8fc7scheduleMicrotask\u5b9e\u73b0\u7684\\nFuture.microtask(FutureOr<T> computation())\\n```\\n\\n```dart\\n///\u4f1a\u7acb\u9a6c\u540c\u6b65\u6267\u884ccomputation, \u5e76\u4e14\u6784\u9020\u7684Future\u5728\u5fae\u4efb\u52a1\u961f\u5217\u8c03\u5ea6\u5b8c\u6210\u3002\\nFuture.sync(FutureOr<T> computation())\\n```\\n\\n```dart\\n//\u6784\u9020\u7684Future\u5728microtask queue\u91cc\u8c03\u5ea6\u5b8c\u6210\uff0c\u5982\u679c\u4f20\u5165\u7684value\u662fFuture,\u90a3\u4e48\u8be5\u4efb\u52a1\u4f1a\u7b49\u5f85\u5230\u4f20\u5165\u7684Future\u7ed3\u675f\u540e\u6267\u884c\\nFuture.value([FutureOr<T>? value])\\n```\\n\\n### \u65b9\u6cd5\\n\\n```dart\\n/**\\n\u5982\u679cFuture\u6ca1\u6709error\uff0c\u90a3\u4e48\u4e0d\u4f1a\u8c03catchError\uff0cFuture\u76f4\u63a5complete\u67d0\u4e2avalue\\n\u5982\u679cFuture\u6709error\uff0c\u90a3\u4e48\u5c31\u4f1a\u8c03catchError\uff0c\u9996\u5148\u8c03\u7b2c\u4e8c\u4e2a\u53c2\u6570test\uff0c\u5224\u65ad\u8fd9\u4e2acatchError\u662f\u5426\u80fd\u591f\u5904\u7406\u8fd9\u4e2aerror\uff0c\u5982\u679ctest\u8fd4\u56detrue\uff0c\u90a3\u4e48\u4ee3\u8868\u80fd\u591f\u5904\u7406\uff0c\u4f1a\u63a5\u7740\u8c03\u7528onError\uff0c\u5982\u679ctest\u8fd4\u56defalse\uff0c\u90a3\u4e48\u4ee3\u8868\u4e0d\u80fd\u5904\u7406, \u8fd4\u56de\u4e00\u4e2acomplete \u8fd9\u4e2aerror\u7684Future\uff0c\u5982\u679c\u6ca1\u63d0\u4f9btest\u53c2\u6570\uff0c\u90a3\u4e48\u9ed8\u8ba4test\u8fd4\u56detrue\u3002\\n*/\\ncatchError(Function onError, {bool test(Object error)?}) \u2192 Future<T>\\n```\\n\\n```dart\\n// \u9996\u5148Future\u7684then()\u5e76\u6ca1\u6709\u5c06\u4efb\u52a1\u6dfb\u52a0\u5230\u4efb\u4f55\u961f\u5217\u4e2d\uff0c\u5b83\u4ec5\u4ec5\u53ea\u662f\u6ce8\u518c\u5f53future complete\u65f6\u7684\u56de\u8c03\uff0c\u5728Future\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u4f1a\u6267\u884c\u8be5\u56de\u8c03\u65b9\u6cd5\uff0c\u5e76\u4e14\u4f1a\u5c06Future\u7684\u7ed3\u679c\u4f20\u9012\u8fc7\u53bb\u3002\u5728\u5982\u679c\u5728\u8c03\u7528\u4e00\u4e2aFuture\u7684then()\u4e4b\u524d\u8be5Future\u5df2\u7ecfcomplete\u4e86\uff0c\u90a3\u4e48\u8be5\u4efb\u52a1\u4f1a\u88ab\u6dfb\u52a0\u5230microtask queue\u4e2d\\nFuture<R> then<R>(FutureOr<R> onValue(T value),{Function? onError})\\n```\\n\\n```dart\\n// \u5982\u679cFuture timeout\u4e86\uff0c\u4f1a\u6267\u884conTimeout\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u4f9bonTimeout\uff0c\u4f1a\u629b\u51faTimeoutException\\nFuture<T> timeout(Duration timeLimit,{FutureOr<T> onTimeout()?})\\n```\\n\\n```dart\\n// \u6ce8\u518c\u56de\u8c03\uff0c\u53ea\u8981complete\u5c31\u4f1a\u8c03\u7528\uff0c\u4e0d\u7ba1\u662fcomplete value\u6216\u8005complete error\u3002\\nFuture<T> whenComplete(FutureOr<void> action());\\n```\\n\\n## Stream\\n\\nStream \u63d0\u4f9b\u4e86\u4e00\u79cd\u63a5\u6536\u4e00\u7cfb\u5217event\u7684\u65b9\u6cd5\u3002\u6bcf\u4e2aevent\u8981\u4e48\u662fvalue event\uff0c\u8981\u4e48\u662ferror event\u3002\u5f53\u4e00\u4e2a\u6d41\u5df2\u7ecf\u53d1\u51fa\u5b83\u7684\u6240\u6709event\u65f6\uff0c\u4f1a\u7ed9listener\u53d1\u4e00\u4e2aDone event\u3002\\n\\n\u6709\u4e24\u79cdStream\uff1a\u201c\u5355\u8ba2\u9605\u201dStream\u548c\u201c\u5e7f\u64ad\u201dStream\u3002\\n\\n*\u5355\u8ba2\u9605Stream*\u5728\u6d41\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u5185\u53ea\u5141\u8bb8\u4e00\u4e2alistener\u3002\u5b83\u5728\u62e5\u6709listener\u4e4b\u524d\u4e0d\u4f1a\u5f00\u59cb\u751f\u6210event\uff0c\u5e76\u4e14\u5f53listener\u88ab\u53d6\u6d88\u8ba2\u9605\u65f6\u5b83\u4f1a\u505c\u6b62\u53d1\u9001event\uff0c\u5373\u4f7fevent source\u4ecd\u7136\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591aevent\u3002\u51fd\u6570\u521b\u5efa\u7684`async*`\u662f\u5355\u8ba2\u9605\u6d41\uff0c\u4f46\u6bcf\u6b21\u8c03\u7528\u51fd\u6570\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6b64\u7c7b\u6d41\u3002\\n\\n\u4e0d\u5141\u8bb8\u5728\u5355\u4e2a\u8ba2\u9605\u6d41\u4e0alistener\u4e24\u6b21\uff0c\u5373\u4f7f\u5728\u7b2c\u4e00\u4e2a\u8ba2\u9605\u5df2\u88ab\u53d6\u6d88\u540e\u4e5f\u662f\u5982\u6b64\u3002\\n\\n\\n\\n*\u5e7f\u64adStream*\u5141\u8bb8\u4efb\u610f\u6570\u91cf\u7684listener\uff0c\u5e76\u4e14\u5728\u4e8b\u4ef6\u51c6\u5907\u5c31\u7eea\u65f6\u89e6\u53d1\u5176event\uff0c\u65e0\u8bba\u662f\u5426\u6709listener\u3002\\n\\n\u5982\u679c\u591a\u4e2alistener\u60f3\u8981\u6536\u542c\u5355\u4e2a\u8ba2\u9605\u6d41\uff0c\u8bf7\u4f7f\u7528`asBroadcastStream`\u5c06\u5176\u8f6c\u6362\u4e3a\u5e7f\u64ad Stream\u3002\\n\\n\u5f53\u53d1\u9001Done event\u65f6\uff0c\u6240\u6709\u7684\u8ba2\u9605\u8005\u90fd\u4f1a\u5728\u63a5\u6536\u8fd9\u4e2aevent\u524d\u88ab\u53d6\u6d88\u8ba2\u9605\u3002\u8fd9\u4e2aevent\u53d1\u9001\u540e\uff0c\u5df2\u7ecf\u6ca1\u6709\u4e86\u8ba2\u9605\u8005\u3002\u867d\u7136\u8fd9\u4e2a\u65f6\u5019\u8fd8\u662f\u53ef\u4ee5\u6dfb\u52a0\u8ba2\u9605\u8005\uff0c\u4f46\u662f\u6dfb\u52a0\u540e\u4ed6\u4eec\u53ea\u4f1a\u7acb\u5373\u6536\u5230\u4e00\u4e2adone event\u3002\\n\\n### Constructors\\n\\n```dart\\n//\u7b80\u5355Stream\\nStream.empty()\\nStream.error(Object error, [StackTrace? stackTrace])\\nStream.value(T value)\\n```\\n\\n```dart\\n/// Future\\nStream.fromFuture(Future<T> future)\\nStream.fromFutures(Iterable<Future<T>> futures)\\nStream.fromIterable(Iterable<T> elements)\\n```\\n\\n```dart\\n//\u5176\u4ed6\\nStream.periodic(Duration period, [T computation(int computationCount)?])\\nStream.multi(void onListen(MultiStreamController<T>), {bool isBroadcast = false})\\nStream.eventTransformed(Stream source, EventSink mapSink(EventSink<T> sink))  \\n```\\n\\n### Methods\\n\\n```dart\\n//\u5982\u679ctest\u8fd4\u56detrue\uff0c\u90a3\u4e48Future complete true\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230true\uff0c\u90a3\u4e48complete false\\nany(bool test(T element)) \u2192 Future<bool>\\n//\u5c06\u8ba2\u9605\u6d41\u8f6c\u6362\u4e3a\u5e7f\u64ad\u6d41\\nasBroadcastStream({void onListen(StreamSubscription<T> subscription)?, void \\nonCancel(StreamSubscription<T> subscription)?}) \u2192 Stream<T>\\n//\u5c06\u6bcf\u4e2aelement\u8f6c\u6362\u6210\u4e00\u4e2aStream  \\nasyncExpand<E>(Stream<E>? convert(T event)) \u2192 Stream<E>\\n//\u7c7b\u4f3cmap\uff0c\u4f46\u662fconvert\u53ef\u4ee5\u8fd4\u56deFuture, \u4f1a\u7b49Future complete\\nasyncMap<E>(FutureOr<E> convert(T event)) \u2192 Stream<E>\\n//\u8f6c\u6362\\ncast<R>() \u2192 Stream<R>\\n//element\u662f\u5426\u5305\u542bneedle\uff0c\u901a\u8fc7Object.==\u6bd4\u8f83\\ncontains(Object? needle) \u2192 Future<bool>\\n//\u5982\u679c\u548c\u524d\u4e00\u4e2a\u76f8\u540c\uff0c\u90a3\u4e48\u5ffd\u7565\\ndistinct([bool equals(T previous, T next)?]) \u2192 Stream<T>\\n//\u5ffd\u7565value event\uff0c\u53ea\u63a5\u53d7error\u548cdone\\ndrain<E>([E? futureValue]) \u2192 Future<E>\\n//\u67d0\u4e2aelement\\nelementAt(int index) \u2192 Future<T>\\n//\u662f\u5426\u6bcf\u4e2aelement\u90fd\u901a\u8fc7test\\nevery(bool test(T element)) \u2192 Future<bool>\\n//\u5c06element\u8f6c\u6362\u6210Iterable\\nexpand<S>(Iterable<S> convert(T element)) \u2192 Stream<S>\\n//\u627e\u7b2c\u4e00\u4e2a\\nfirstWhere(bool test(T element), {T orElse()?}) \u2192 Future<T>\\n//\u4e0d\u65ad\u8c03\u7528combine\u5904\u7406element\\nfold<S>(S initialValue, S combine(S previous, T element)) \u2192 Future<S>\\n//foreach\\nforEach(void action(T element)) \u2192 Future\\n//\u5904\u7406\u9519\u8bef\uff0c\u53ef\u4ee5\u901a\u8fc7test\u8fc7\u6ee4\u8981\u5904\u7406\u7684\u9519\u8bef\\nhandleError(Function onError, {bool test(dynamic error)?}) \u2192 Stream<T>\\n// join\\njoin([String separator = \\"\\"]) \u2192 Future<String>\\n// last where\\nlastWhere(bool test(T element), {T orElse()?}) \u2192 Future<T>\\n//\u8ba2\u9605\u6d41\\nlisten(void onData(T event)?, {Function? onError, void onDone()?, bool? cancelOnError}) \u2192 StreamSubscription<T>\\n//map\\nmap<S>(S convert(T event)) \u2192 Stream<S>\\n//\u5c06event pipe\u5230streamConsumer\\npipe(StreamConsumer<T> streamConsumer) \u2192 Future\\n//reduce\\nreduce(T combine(T previous, T element)) \u2192 Future<T>\\n//\u7c7b\u4f3clastWhere\uff0c\u4f46\u662f\u5982\u679c\u6709\u591a\u4e2aelement\u4f1acomplete error\\nsingleWhere(bool test(T element), {T orElse()?}) \u2192 Future<T>\\n//skip\\nskip(int count) \u2192 Stream<T>\\nskipWhile(bool test(T element)) \u2192 Stream<T>\\n//take\\ntake(int count) \u2192 Stream<T>\\ntakeWhile(bool test(T element)) \u2192 Stream<T>\\n//timeout  \\ntimeout(Duration timeLimit, {void onTimeout(EventSink<T> sink)?}) \u2192 Stream<T>\\n//\u5c06\u6240\u6709element\u53d8\u6210List\\ntoList() \u2192 Future<List<T>>\\n//\u5c06\u6240\u6709element\u53d8\u6210Set\\ntoSet() \u2192 Future<Set<T>>\\n//\u5c06streamTransformer\u5e94\u7528\u5230Stream\u4e0a\\ntransform<S>(StreamTransformer<T, S> streamTransformer) \u2192 Stream<S>\\n//\u76f8\u5f53\u4e8efliter\\nwhere(bool test(T event)) \u2192 Stream<T>\\n```\\n\\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230Stream\u7684\u6982\u5ff5\u5176\u5b9e\u7c7b\u4f3c\u4e8eRxSwift\u7684Observable\u7684\u6982\u5ff5\uff0capi\u4e5f\u7c7b\u4f3c\u3002\\n\\n## await\u548casync\\n\\n\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u7c7b\u4f3c\\n\\n```dart\\nFuture<void> checkVersion() async {\\n  var version = await lookUpVersion();\\n  // Do something with version\\n}\\ntry {\\n  version = await lookUpVersion();\\n} catch (e) {\\n  // React to inability to look up the version\\n}\\n```\\n\\n\u5904\u7406Stream\\n\\n```dart\\nawait for (varOrType identifier in stream) {\\n  // Executes each time the stream emits a value.\\n}\\n```\\n\\n## \u751f\u6210\u5668Generators\\n\\n\u5206\u4e3a\u540c\u6b65\u751f\u6210\u5668\u548c\u5f02\u6b65\u751f\u6210\u5668\u3002\\n\\n- **Synchronous** generator: \u8fd4\u56de [`Iterable`](https://api.dart.dev/stable/dart-core/Iterable-class.html) object.\\n- **Asynchronous** generator: \u8fd4\u56de [`Stream`](https://api.dart.dev/stable/dart-async/Stream-class.html) object.\\n\\n```dart\\nIterable<int> naturalsTo(int n) sync* {\\n  int k = 0;\\n  while (k < n) yield k++;\\n}\\n```\\n\\n```dart\\nStream<int> asynchronousNaturalsTo(int n) async* {\\n  int k = 0;\\n  while (k < n) yield k++;\\n}\\n```\\n\\n```dart\\n//\u5982\u679c\u662f\u9012\u5f52\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7yeild *\u63d0\u5347\u6027\u80fd\\nIterable<int> naturalsDownFrom(int n) sync* {\\n  if (n > 0) {\\n    yield n;\\n    yield* naturalsDownFrom(n - 1);\\n  }\\n}\\n```"},{"id":"/2022/01/30/dart\u4e4b\u6cdb\u578b","metadata":{"permalink":"/2022/01/30/dart\u4e4b\u6cdb\u578b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-30-dart\u4e4b\u6cdb\u578b/index.md","source":"@site/blog/2022-01-30-dart\u4e4b\u6cdb\u578b/index.md","title":"dart\u4e4b \u6cdb\u578b","description":"headerimg","date":"2022-01-30T00:00:00.000Z","formattedDate":"2022\u5e741\u670830\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":1.05,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4b \u6cdb\u578b","tags":["dart"]},"prevItem":{"title":"dart\u4e4b \u5f02\u6b65\u7f16\u7a0b","permalink":"/2022/01/31/dart\u4e4b\u5f02\u6b65\u7f16\u7a0b"},"nextItem":{"title":"dart\u4e4b Class","permalink":"/2022/01/29/dart\u4e4bClass"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bdart\u7684\u6cdb\u578b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u6cdb\u578b\\n\\n\u540c\u5176\u4ed6\u8bed\u8a00\u4e00\u6837\uff0cdart\u4e5f\u652f\u6301\u6cdb\u578b\uff0c\u6765\u5e2e\u52a9\u6211\u4eec\u5904\u7406\u91cd\u590d\u4ee3\u7801\\n\\n```dart\\nabstract class ObjectCache {\\n  Object getByKey(String key);\\n  void setByKey(String key, Object value);\\n}\\nabstract class StringCache {\\n  String getByKey(String key);\\n  void setByKey(String key, String value);\\n}\\n//\u901a\u8fc7\u6cdb\u578b\u5b9a\u4e49\\nabstract class Cache<T> {\\n  T getByKey(String key);\\n  void setByKey(String key, T value);\\n}\\n```\\n\\n### collection \u5b57\u9762\u91cf\u4e2d\u4f7f\u7528\u6cdb\u578b\\n\\n```dart\\nvar names = <String>[\'Seth\', \'Kathy\', \'Lars\'];\\nvar uniqueNames = <String>{\'Seth\', \'Kathy\', \'Lars\'};\\nvar pages = <String, String>{\\n  \'index.html\': \'Homepage\',\\n  \'robots.txt\': \'Hints for web robots\',\\n  \'humans.txt\': \'We are people, not machines\'\\n};\\n```\\n\\n### \u6784\u9020\u5668\u4e2d\u4f7f\u7528\u6cdb\u578b\\n\\n```dart\\nvar nameSet = Set<String>.from(names);\\nvar views = Map<int, View>();\\n```\\n\\n### \u9650\u5236\u6cdb\u578b\u7c7b\u578b\\n\\n```dart\\nclass Foo<T extends Object> {\\n  // Any type provided to Foo for T must be non-nullable.\\n}\\n```\\n\\n### \u6cdb\u578b\u65b9\u6cd5\\n\\n```dart\\nT first<T>(List<T> ts) {\\n  // Do some initial work or error checking, then...\\n  T tmp = ts[0];\\n  // Do some additional checking or processing...\\n  return tmp;\\n}\\n```"},{"id":"/2022/01/29/dart\u4e4bClass","metadata":{"permalink":"/2022/01/29/dart\u4e4bClass","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-29-dart\u4e4bClass/index.md","source":"@site/blog/2022-01-29-dart\u4e4bClass/index.md","title":"dart\u4e4b Class","description":"headerimg","date":"2022-01-29T00:00:00.000Z","formattedDate":"2022\u5e741\u670829\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":10.36,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4b Class","tags":["dart"]},"prevItem":{"title":"dart\u4e4b \u6cdb\u578b","permalink":"/2022/01/30/dart\u4e4b\u6cdb\u578b"},"nextItem":{"title":"dart\u4e4b Function","permalink":"/2022/01/28/dart\u4e4b\u51fd\u6570"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bdart\u7684Class\u3002\\n\\n\x3c!--truncate--\x3e\\n## Classes\\n\\n### \u6784\u9020\u5668\\n\\n\u6211\u4eec\u901a\u8fc7\u6784\u9020\u5668\u521b\u5efa\u5bf9\u8c61\u3002\u6784\u9020\u5668\u540d\u79f0\u53ef\u4ee5\u662fClassName\u6216\u8005\u7c7bClassName.xxx\u3002\u6bd4\u5982:\u521b\u5efaPoint\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 `Point()` \u6216\u8005 `Point.fromJson()` \u3002\\n\\n```dart\\nvar p1 = Point(2, 2);\\nvar p2 = Point.fromJson({\'x\': 1, \'y\': 2});\\n```\\n\\n#### \u6784\u9020\u5668\u4fbf\u6377\u521d\u59cb\u5316\\n\\n```dart\\nclass Point {\\n  double x = 0;\\n  double y = 0;\\n\\n  Point(double x, double y) {\\n    this.x = x;\\n    this.y = y;\\n  }\\n}\\n\u7b49\u4ef7\u4e8e\\nclass Point {\\n  double x = 0;\\n  double y = 0;\\n\\n  Point(this.x, this.y);\\n}\\n```\\n\\n#### \u9ed8\u8ba4\u6784\u9020\u5668\\n\\n\u5982\u679c\u4f60\u6ca1\u6709\u58f0\u660e\u6784\u9020\u5668\uff0c\u90a3\u4e48\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u9ed8\u8ba4\u6784\u9020\u5668\uff0c\u4ed6\u662f\u65e0\u53c2\u7684\uff0c\u4f1a\u8c03\u7528\u7236\u7c7b\u7684\u65e0\u53c2\u6784\u9020\u5668\u3002\\n\\n#### \u6784\u9020\u5668\u4e0d\u7ee7\u627f\\n\\n\u5b50\u7c7b\u4e0d\u4f1a\u7ee7\u627f\u7236\u7c7b\u7684\u6784\u9020\u5668\u3002\\n\\n#### \u547d\u540d\u6784\u9020\u5668\\n\\n```dart\\nclass Point {\\n  final double x;\\n  final double y;\\n  // Named constructor\\n  Point.origin(double xOrigin, double yOrigin) {\\n    this.x = xOrigin;\\n    this.y = yOrigin;\\n  }\\n}\\n```\\n\\n#### Initializer list\\n\\nInitializer list\u53ef\u4ee5\u5728constructor body\u8fd0\u884c\u524d\u521d\u59cb\u5316\u5b9e\u4f8b\u53d8\u91cf\u3002\\n\\n```dart\\nPoint.fromJson(Map<String, double> json)\\n    : x = json[\'x\']!,\\n      y = json[\'y\']! {\\n  print(\'In Point.fromJson(): ($x, $y)\');\\n}\\n\u6211\u4eec\u53ef\u4ee5\u7528\u8fd9\u79cd\u51fd\u6570\u6765\u6821\u9a8c\u53c2\u6570\\nPoint.withAssert(this.x, this.y) : assert(x >= 0) {\\n  print(\'In Point.withAssert(): ($x, $y)\');\\n}  \\n```\\n\\n#### \u8c03\u7528\u7236\u7c7b\u7684\u975e\u9ed8\u8ba4\u6784\u9020\u5668\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b50\u7c7b\u7684\u6784\u9020\u5668\u4f1a\u8c03\u7528\u7236\u7c7b\u7684\u65e0\u53c2\u9ed8\u8ba4\u6784\u9020\u5668\u3002\u7236\u7c7b\u6784\u9020\u5668\u4f1a\u5728\u5b50\u7c7b\u6784\u9020\u5668body\u7684\u5f00\u59cb\u5904\u8c03\u7528\u3002\u5982\u679c\u5b50\u7c7b\u6784\u9020\u5668\u4f7f\u7528\u4e86`initializer list`\uff0c\u90a3\u4e48`initializer list`\u4f1a\u5728\u7236\u7c7b\u6784\u9020\u5668\u4e4b\u524d\u8c03\u7528\u3002\u6267\u884c\u987a\u5e8f\u5982\u4e0b:\\n\\n1. initializer list\\n2. \u7236\u7c7b\u7684\u65e0\u53c2\u6784\u9020\u5668\\n3. \u5b50\u7c7b\u6784\u9020\u5668\\n\\n\u5982\u679c\u7236\u7c7b\u6ca1\u6709\u65e0\u53c2\u6784\u9020\u5668\uff0c\u4f60\u5fc5\u987b\u624b\u52a8\u6307\u5b9a\u8c03\u7528\u7684\u7236\u7c7b\u6784\u9020\u5668\uff0c\u6307\u5b9a\u65b9\u5f0f\u5982\u4e0b\uff1a\\n\\n```dart\\nclass Person {\\n  String? firstName;\\n\\n  Person.fromJson(Map data) {\\n    print(\'in Person\');\\n  }\\n}\\n\\nclass Employee extends Person {\\n  // Person\u6ca1\u6709\u9ed8\u8ba4\u6784\u9020\u5668\\n  // \u6240\u4ee5\u6211\u4eec\u9700\u8981\u624b\u52a8\u6307\u5b9a\u5b50\u7c7b\u8c03\u7528\u7684\u7236\u7c7b\u7684\u6784\u9020\u5668 super.fromJson(data).\\n  Employee.fromJson(Map data) : super.fromJson(data) {\\n    print(\'in Employee\');\\n  }\\n}\\n```\\n\\n ```dart\\nclass Vector2d {\\n  final double x;\\n  final double y;\\n\\n  Vector2d(this.x, this.y);\\n}\\n\\nclass Vector3d extends Vector2d {\\n  final double z;\\n\\n  // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u5668\u7684\u4fbf\u6377\u521d\u59cb\u5316\u65b9\u6cd5\uff0c\u7b49\u4ef7\u4e8e\\n  // Vector3d(final double x, final double y, this.z) : super(x, y);\\n  Vector3d(super.x, super.y, this.z);\\n}\\n ```\\n\\n#### redirecting constructor\\n\\n\u6709\u65f6\uff0c\u6709\u7684\u6784\u9020\u5668\u7684\u76ee\u7684\u53ea\u662f\u8c03\u7528\u540c\u4e00\u4e2aclass\u4e2d\u7684\u53e6\u4e00\u4e2a\u6784\u9020\u5668\u3002\\n\\n`redirecting constructor`\u7684\u51fd\u6570\u4f53\u662f\u7a7a\u7684\u3002\u7528\u5192\u53f7\u6307\u5b9a\u4ee3\u7406\u7684\u6784\u9020\u5668\u3002\\n\\n```dart\\nclass Point {\\n  double x, y;\\n\\n  // The main constructor for this class.\\n  Point(this.x, this.y);\\n\\n  // Delegates to the main constructor.\\n  Point.alongXAxis(double x) : this(x, 0);\\n}\\n```\\n\\n#### Constant constructors\\n\\n\u5982\u679c\u4f60\u751f\u6210\u7684\u5bf9\u8c61\u6c38\u8fdc\u4e0d\u4f1a\u6539\u53d8\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8ba9\u90a3\u4e9b\u5bf9\u8c61\u6210\u4e3a\u7f16\u8bd1\u65f6\u5e38\u91cf(const)\u3002\u6240\u4ee5\u4f60\u5b9a\u4e49\u4e00\u4e2a`const` constructor\uff0c\u7136\u540e\u8ba9\u6240\u6709\u7684\u5b9e\u4f8b\u53d8\u91cf\u90fd\u662ffinal\u3002\\n\\n```dart\\nclass ImmutablePoint {\\n  static const ImmutablePoint origin = ImmutablePoint(0, 0);\\n\\n  final double x, y;\\n\\n  const ImmutablePoint(this.x, this.y);\\n}\\n```\\n\\n#### Factory constructors\\n\\n\u7528 `factory` \u5173\u952e\u5b57\u4fee\u9970\u7684\u6784\u9020\u5668\u4ee3\u8868\uff1a\u8fd9\u4e2a\u6784\u9020\u5668\u5e76\u4e0d\u603b\u662f\u8fd4\u56de\u8fd9\u4e2aClass\u7684\u65b0\u5bf9\u8c61\uff0c\u6bd4\u5982\uff1a\u53ef\u80fd\u8fd4\u56de\u7684\u662fcache\u4e2d\u7684\u5bf9\u8c61\uff0c\u6216\u8005\u8fd4\u56de\u7684\u662f\u8fd9\u4e2aclass\u7684\u5b50\u7c7b\u3002\\n\\n### methods\\n\\n#### Instance methods\\n\\n\u5b9e\u4f8b\u65b9\u6cd5\u53ef\u4ee5\u8bbf\u95ee\u5b9e\u4f8b\u53d8\u91cf\u548cthis\\n\\n```dart\\nimport \'dart:math\';\\n\\nclass Point {\\n  final double x;\\n  final double y;\\n\\n  Point(this.x, this.y);\\n\\n  double distanceTo(Point other) {\\n    var dx = x - other.x;\\n    var dy = y - other.y;\\n    return sqrt(dx * dx + dy * dy);\\n  }\\n}\\n```\\n\\n#### \u8fd0\u7b97\u7b26\u65b9\u6cd5\\n\\n\u4e0b\u9762\u662fdart\u5141\u8bb8\u5b9a\u4e49\u7684\u8fd0\u7b97\u7b26\u65b9\u6cd5\\n\\n| `<`  | `+`  | `|`  | `>>>` |\\n| ---- | ---- | ---- | ----- |\\n| `>`  | `/`  | `^`  | `[]`  |\\n| `<=` | `~/` | `&`  | `[]=` |\\n| `>=` | `*`  | `<<` | `~`   |\\n| `\u2013`  | `%`  | `>>` | `==`  |\\n\\n```dart\\nclass Vector {\\n  final int x, y;\\n\\n  Vector(this.x, this.y);\\n\\n  Vector operator +(Vector v) => Vector(x + v.x, y + v.y);\\n  Vector operator -(Vector v) => Vector(x - v.x, y - v.y);\\n}\\n\\nvoid main() {\\n  final v = Vector(2, 3);\\n  final w = Vector(2, 2);\\n\\n  assert(v + w == Vector(4, 5));\\n  assert(v - w == Vector(0, 1));\\n}\\n```\\n\\n#### Getters \u548c setters\\n\\n\u4e0b\u9762\u662fgetter\u548csetter\u7684\u5b9a\u4e49\\n\\n```dart\\nclass Rectangle {\\n  double left, top, width, height;\\n\\n  Rectangle(this.left, this.top, this.width, this.height);\\n\\n  // Define two calculated properties: right and bottom.\\n  double get right => left + width;\\n  set right(double value) => left = value - width;\\n  double get bottom => top + height;\\n  set bottom(double value) => top = value - height;\\n}\\n\\nvoid main() {\\n  var rect = Rectangle(3, 4, 20, 15);\\n  assert(rect.left == 3);\\n  rect.right = 12;\\n  assert(rect.left == -8);\\n}\\n```\\n\\n#### \u62bd\u8c61\u65b9\u6cd5\\n\\n\u62bd\u8c61\u65b9\u6cd5\u53ea\u80fd\u51fa\u73b0\u5728\u62bd\u8c61\u7c7b\u4e2d\u3002\\n\\n```dart\\nabstract class Doer {\\n  void doSomething(); // Define an abstract method.\\n}\\n\\nclass EffectiveDoer extends Doer {\\n  void doSomething() {\\n\\n  }\\n}\\n```\\n\\n### \u62bd\u8c61\u7c7b\\n\\n\u7528`abstract`\u5173\u952e\u5b57\u5b9a\u4e49\u62bd\u8c61\u7c7b\uff0c\u901a\u5e38\u62bd\u8c61\u7c7b\u7528\u4e8e\u5b9a\u4e49\u63a5\u53e3\u3002\\n\\n```dart\\nabstract class AbstractContainer {\\n  void updateChildren(); // Abstract method.\\n}\\n```\\n\\n### \u9690\u5f0f\u7684 interfaces\\n\\n\u6bcf\u4e2aclass\u90fd\u9690\u5f0f\u7684\u5b9a\u4e49\u4e86\u4e00\u4e2ainterface\uff0c\u5305\u542b\u6240\u6709\u7684instance members \u548c\u4ed6\u5b9e\u73b0\u7684\u6240\u6709Interface\u3002\\n\\n\u5982\u679c\u4f60\u521b\u5efa\u4e86class A\uff0c\u60f3\u8981B\u7684\u529f\u80fd\uff0c\u4f46\u662f\u53c8\u4e0d\u60f3\u7ee7\u627f\uff0c\u90a3\u4e48\u53ef\u4ee5\u5b9e\u73b0\u63a5\u53e3B\u3002\\n\\n```dart\\n// A person. The implicit interface contains greet().\\nclass Person {\\n  // In the interface, but visible only in this library.\\n  final String _name;\\n\\n  // Not in the interface, since this is a constructor.\\n  Person(this._name);\\n\\n  // In the interface.\\n  String greet(String who) => \'Hello, $who. I am $_name.\';\\n}\\n\\n// An implementation of the Person interface.\\nclass Impostor implements Person {\\n  String get _name => \'\';\\n\\n  String greet(String who) => \'Hi $who. Do you know who I am?\';\\n}\\n\\nString greetBob(Person person) => person.greet(\'Bob\');\\n\\nvoid main() {\\n  print(greetBob(Person(\'Kathy\')));\\n  print(greetBob(Impostor()));\\n}\\n```\\n\\ndart\u662f\u6ca1\u6709interface\u6765\u5b9a\u4e49\u63a5\u53e3\u7684\uff0c\u901a\u5e38\u5b9e\u73b0\u63a5\u53e3\u90fd\u662fabstract class \u7684\u9690\u5f0f\u63a5\u53e3\u6765\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\u3002\\n\\n###  \u7ee7\u627f\\n\\n\u4f7f\u7528extends\u5173\u952e\u5b57\u6765\u7ee7\u627f\u67d0\u4e2aclass\\n\\n```dart\\nclass Television {\\n  void turnOn() {\\n    _illuminateDisplay();\\n    _activateIrSensor();\\n  }\\n  // \xb7\xb7\xb7\\n}\\n\\nclass SmartTelevision extends Television {\\n  void turnOn() {\\n    super.turnOn();\\n    _bootNetworkInterface();\\n    _initializeMemory();\\n    _upgradeApps();\\n  }\\n  // \xb7\xb7\xb7\\n}\\n```\\n\\n#### \u91cd\u8f7d\\n\\n\u4f7f\u7528` @override`\u91cd\u8f7d\u65b9\u6cd5\\n\\n```dart\\nclass Television {\\n  // \xb7\xb7\xb7\\n  set contrast(int value) {...}\\n}\\n\\nclass SmartTelevision extends Television {\\n  @override\\n  set contrast(num value) {...}\\n  // \xb7\xb7\xb7\\n}\\n```\\n\\n#### noSuchMethod()\\n\\n\u91cd\u8f7dnoSuchMethod\u65b9\u6cd5\u6765\u68c0\u6d4b\u662f\u5426\u8c03\u7528\u4e86\u6ca1\u6709\u7684\u65b9\u6cd5\u3002\\n\\n```dart\\nclass A {\\n  // Unless you override noSuchMethod, using a\\n  // non-existent member results in a NoSuchMethodError.\\n  @override\\n  void noSuchMethod(Invocation invocation) {\\n    print(\'You tried to use a non-existent member: \'\\n        \'${invocation.memberName}\');\\n  }\\n}\\n```\\n\\n###  Extension\\n\\n\u7c7b\u4f3cswift\u7684extension\uff0c\u53ef\u4ee5\u5728\u4e0d\u77e5\u9053\u6e90\u7801\u7684\u60c5\u51b5\u4e0b\u4e3a\u5bf9\u8c61\u6dfb\u52a0\u65b9\u6cd5\uff0c\u4e0d\u80fd\u6dfb\u52a0\u5b9e\u4f8b\u53d8\u91cf\u3002\u53ef\u4ee5\u6dfb\u52a0\u9759\u6001\u65b9\u6cd5\u548c\u9759\u6001\u53d8\u91cf\uff0c\u4f46\u662f\u4e0d\u80fd\u76f4\u63a5\u5728\u539fClass\u4e0a\u76f4\u63a5\u8c03\u7528\uff0c\u9700\u8981\u7528Extension\u7684\u540d\u5b57\u8c03\u7528\u3002\\n\\n```dart\\nextension NumberParsing on String {\\n  int parseInt() {\\n    return int.parse(this);\\n  }\\n\\n  double parseDouble() {\\n    return double.parse(this);\\n  }\\n}\\n```\\n\\n```dart\\nclass Person {\\n  var age = 0;\\n}\\nextension PersonExtension on Person {\\n  static void sayHello() {\\n    print(\\"age is \\");\\n  }\\n  static var address = \\"\\";\\n}\\n\\nPersonExtension.sayHello();// extension \u540d\u79f0\u4e0b\u8c03\u7528\\nPersonExtension.address;// extension \u540d\u79f0\u4e0b\u8c03\u7528\\n```\\n\\n### \u679a\u4e3e\u7c7b\u578b\\n\\n#### \u58f0\u660e\u7b80\u5355\u679a\u4e3e\\n\\n```dart\\nenum Color { red, green, blue }\\n```\\n\\n\u6211\u4eec\u6ca1\u529e\u6cd5\u76f4\u63a5\u50cf\u5176\u4ed6\u8bed\u8a00\u4e00\u6837\u7ed9\u679a\u4e3e\u8d4b\u503c\uff0c\u6bd4\u5982\u5728swift\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\\n\\n```swift\\nenum Color : Int {\\n  red = 100\\n  blue = 200\\n  yellow = 300\\n}\\n```\\n\\n```dart\\n//\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u65b9\u6cd5\u6765\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\\nenum Color {\\n  red,\\n  blue,\\n  yellow;\\n\\n  int value() {\\n    switch (this) {\\n      case Color.red:\\n        return 100;\\n      case Color.blue:\\n        return 200;\\n      case Color.yellow:\\n        return 300;\\n    }\\n  }\\n}\\n```\\n\\n```dart\\n//\u6216\u8005\u4f7f\u7528\u4e4b\u540e\u7684\u589e\u5f3a\u679a\u4e3e\\nenum Color {\\n  red(100),\\n  blue(200),\\n  yellow(300);\\n\\n  const Color(this.value);\\n  final int value;\\n}\\n```\\n\\n#### \u58f0\u660e\u589e\u5f3a\u679a\u4e3e\\n\\ndart\u5141\u8bb8\u679a\u4e3e\u50cfclass\u4e00\u6837\u5b9a\u4e49\u5b9e\u4f8b\u53d8\u91cf\u3001\u65b9\u6cd5\u548c\u5e38\u91cf\u6784\u9020\u5668\u3002\u4f46\u662f\u6709\u4e9b\u9650\u5236\uff1a\\n\\n- \u5b9e\u4f8b\u53d8\u91cf\u5fc5\u987b\u90fd\u662f `final`\\n- \u5b9a\u4e49\u7684\u6784\u9020\u5668\u90fd\u5fc5\u987b\u662f const constructor\u3002\\n- Factory constructors\u53ea\u80fd\u8fd4\u56de\u56fa\u5b9a\u7684\u5df2\u77e5\u7684\u679a\u4e3e\u5b9e\u4f8b\u3002\\n- \u4e0d\u80fd\u7ee7\u627f\\n- \u4e0d\u80fd\u91cd\u8f7d  `index`, `hashCode`, `==`.\\n- \u4e0d\u80fd\u5b9a\u4e49 `values` , \u56e0\u4e3a\u4f1a\u548c\u81ea\u52a8\u751f\u6210\u7684static `values` getter\u51b2\u7a81\\n- \u679a\u4e3e\u5fc5\u987b\u5b9a\u4e49\u5728\u5f00\u59cb\u4f4d\u7f6e\u3002\\n\\n```dart\\nenum Vehicle implements Comparable<Vehicle> {\\n  car(tires: 4, passengers: 5, carbonPerKilometer: 400),\\n  bus(tires: 6, passengers: 50, carbonPerKilometer: 800),\\n  bicycle(tires: 2, passengers: 1, carbonPerKilometer: 0);\\n\\n  const Vehicle({\\n    required this.tires,\\n    required this.passengers,\\n    required this.carbonPerKilometer,\\n  });\\n\\n  final int tires;\\n  final int passengers;\\n  final int carbonPerKilometer;\\n\\n  int get carbonFootprint => (carbonPerKilometer / passengers).round();\\n\\n  @override\\n  int compareTo(Vehicle other) => carbonFootprint - other.carbonFootprint;\\n}\\n```\\n\\n#### \u4f7f\u7528\u679a\u4e3e\\n\\n```dart\\n/// \u6709index\\nassert(Color.red.index == 0);\\nassert(Color.green.index == 1);\\nassert(Color.blue.index == 2);\\n//values\u83b7\u53d6\u6240\u6709\u679a\u4e3e\\nList<Color> colors = Color.values;\\nassert(colors[2] == Color.blue);\\n//\u83b7\u53d6\u679a\u4e3e\u540d\u79f0\\nprint(Color.blue.name); // \'blue\'\\n```\\n\\n### mixin\\n\\n#### \u5b9a\u4e49\\n\\n```dart\\nmixin Musical {\\n  bool canPlayPiano = false;\\n  bool canCompose = false;\\n  bool canConduct = false;\\n\\n  void entertainMe() {\\n    if (canPlayPiano) {\\n      print(\'Playing piano\');\\n    } else if (canConduct) {\\n      print(\'Waving hands\');\\n    } else {\\n      print(\'Humming to self\');\\n    }\\n  }\\n}\\n```\\n\\n#### \u4f7f\u7528\\n\\n`with`\u5173\u952e\u5b57\\n\\n```dart\\nclass Musician extends Performer with Musical {\\n  // \xb7\xb7\xb7\\n}\\n\\n```\\n\\n#### \u73b0\u5728mixin\u4f7f\u7528\u7c7b\u578b\\n\\n```dart\\nclass Musician {\\n  // ...\\n}\\nmixin MusicalPerformer on Musician {\\n  // ...\\n}\\nclass SingerDancer extends Musician with MusicalPerformer {\\n  // ...\\n}\\n```\\n\\n### \u7c7b\u53d8\u91cf\u548c\u7c7b\u65b9\u6cd5\\n\\n```dart\\nclass Queue {\\n  static const initialCapacity = 16;\\n  // \xb7\xb7\xb7\\n}\\n\\nvoid main() {\\n  assert(Queue.initialCapacity == 16);\\n}\\n```\\n\\n```dart\\nimport \'dart:math\';\\n\\nclass Point {\\n  double x, y;\\n  Point(this.x, this.y);\\n\\n  static double distanceBetween(Point a, Point b) {\\n    var dx = a.x - b.x;\\n    var dy = a.y - b.y;\\n    return sqrt(dx * dx + dy * dy);\\n  }\\n}\\n\\nvoid main() {\\n  var a = Point(2, 2);\\n  var b = Point(4, 4);\\n  var distance = Point.distanceBetween(a, b);\\n  assert(2.8 < distance && distance < 2.9);\\n  print(distance);\\n}\\n```"},{"id":"/2022/01/28/dart\u4e4b\u51fd\u6570","metadata":{"permalink":"/2022/01/28/dart\u4e4b\u51fd\u6570","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-28-dart\u4e4b\u51fd\u6570/index.md","source":"@site/blog/2022-01-28-dart\u4e4b\u51fd\u6570/index.md","title":"dart\u4e4b Function","description":"headerimg","date":"2022-01-28T00:00:00.000Z","formattedDate":"2022\u5e741\u670828\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":2.5,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4b Function","tags":["dart"]},"prevItem":{"title":"dart\u4e4b Class","permalink":"/2022/01/29/dart\u4e4bClass"},"nextItem":{"title":"dart\u4e4b Control Flow","permalink":"/2022/01/27/dart\u4e4b\u63a7\u5236\u6d41"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bdart\u7684\u51fd\u6570\u3002\\n\\n\x3c!--truncate--\x3e\\n## \u51fd\u6570\\n\\ndart\u7684\u51fd\u6570\u98ce\u683c\u7c7b\u4f3cc\u548cjava\u3002\\n\\n![image-20220516172132503](https://tva1.sinaimg.cn/large/e6c9d24egy1h2adbbnrs5j20ue0bm3zc.jpg)\\n\\n\\n\\n### \u53c2\u6570\\n\\n\u5fc5\u987b\u7684\u4f4d\u7f6e\u53c2\u6570  \u548c\uff08\u547d\u540d\u53c2\u6570 | optional \u4f4d\u7f6e\u53c2\u6570\uff09\u4e8c\u9009\u4e00\u3002\\n\\n\u5fc5\u987b\u7684\u4f4d\u7f6e\u53c2\u6570: name\u548cage\\n\\n```dart\\nvoid person(String name, int age) {\\n  \\n}\\n```\\n\\n\u547d\u540d\u53c2\u6570\u3002\u4f20\u53c2\u65f6\u9700\u8981\u6307\u5b9a\u540d\u5b57\u3002\u53ef\u4ee5\u662frequired\u6216\u8005optional\u3002\\n\\n```dart\\nvoid person(String name, {required int age}) {}//\u53ef\u7528required\u8868\u793a\u5fc5\u4f20\\nvoid person1(String name, {int? age}) {}//\u53ef\u9009\u547d\u540d\u53c2\u6570\\n\\nvoid main() {\\n  person(\\"123\\", age: 123);\\n  person1(\\"123\\");\\n  person1(\\"123\\", age: 123);\\n}\\n```\\n\\noptional \u4f4d\u7f6e\u53c2\u6570\\n\\n```dart\\nvoid person(String name, [int? age]) {}\\n```\\n\\n\u53ef\u5bf9\u547d\u540d\u53c2\u6570\u548c\u4f4d\u7f6e\u53c2\u6570\u8bbe\u7f6e\u9ed8\u8ba4\u503c\\n\\n```dart\\nvoid person(String name, [int? age = 1]) {}\\nvoid person1(String name, {int? age = 2}){}\\nvoid person(String name, [int age = 1]) {}\\nvoid person1(String name, {int age = 2}) {}\\n```\\n\\n### main\u51fd\u6570\\n\\nmain\u51fd\u6570\u662f\u7a0b\u5e8f\u5165\u53e3\\n\\n```dart\\nvoid main() {\\n  print(\'Hello, World!\');\\n}\\n///\u5e26\u53c2\u6570\\nvoid main(List<String> arguments) {\\n  print(arguments);\\n}\\n```\\n\\n### \u51fd\u6570\u4f5c\u4e3a\u4e00\u7b49\u516c\u6c11\\n\\n\u51fd\u6570\u4f5c\u4e3a\u4e00\u7b49\u516c\u6c11\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u3002\\n\\n```dart\\nvoid printElement(int element) {\\n  print(element);\\n}\\nvar list = [1, 2, 3];\\nlist.forEach(printElement);\\n\\n///\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\\nFunction applyMultiplier(num multiplier) {\\n  return (num value) {\\n    return value * multiplier;\\n  };\\n}\\n//\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\\n void namedFunction(Function anonymousFunction) {\\n  // function body\\n}\\n```\\n\\n\u4e5f\u53ef\u628a\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf\\n\\n```dart\\nvar loudify = (msg) => \'!!! ${msg.toUpperCase()} !!!\';\\nassert(loudify(\'hello\') == \'!!! HELLO !!!\');\\n```\\n\\n### \u533f\u540d\u51fd\u6570\\n\\n\u5176\u4ed6\u8bed\u8a00\u4e5f\u53eb *lambda* \u6216\u8005 *closure*\u3002\\n\\n![image-20220516172414695](https://tva1.sinaimg.cn/large/e6c9d24egy1h2ade344ghj20si0680t3.jpg)\\n\\n\\n\\n\u683c\u5f0f\\n\\n```dart\\n(\u53c2\u6570) {\\n  \u51fd\u6570\u4f53\\n}\\n```\\n\\n\u5982\u679c\u51fd\u6570\u4f53\u53ea\u6709\u4e00\u4e2a\u8868\u8fbe\u5f0f\u3002\u53ef\u4ee5\u4f7f\u7528\u7bad\u5934\u7b80\u5199\\n\\n```dart\\n(\u53c2\u6570) => print(\\"hello world\\")\\n```\\n\\n### \u8bcd\u6cd5\u4f5c\u7528\u57df\\n\\n```dart\\nbool topLevel = true;\\n\\nvoid main() {\\n  var insideMain = true;\\n\\n  void myFunction() {\\n    var insideFunction = true;\\n\\n    void nestedFunction() {\\n      var insideNestedFunction = true;\\n\\n      assert(topLevel);\\n      assert(insideMain);\\n      assert(insideFunction);\\n      assert(insideNestedFunction);\\n    }\\n  }\\n}\\n```\\n\\n```dart\\nFunction makeAdder(int addBy) {\\n  //\u80fd\u591f\u8bbf\u95eescope\u4e2d\u7684addBy\\n  return (int i) => addBy + i;\\n}\\n\\nvoid main() {\\n  // Create a function that adds 2.\\n  var add2 = makeAdder(2);\\n  // Create a function that adds 4.\\n  var add4 = makeAdder(4);\\n  assert(add2(3) == 5);\\n  assert(add4(3) == 7);\\n}\\n```\\n\\n### \u8fd4\u56de\u503c\\n\\n\u5982\u679c\u6ca1\u6709\u6307\u5b9areturn\u4ec0\u4e48\uff0c\u90a3\u4e48\u9ed8\u8ba4return null\u3002\\n\\n```dart\\nfoo() {}\\nassert(foo() == null);\\n```"},{"id":"/2022/01/27/dart\u4e4b\u63a7\u5236\u6d41","metadata":{"permalink":"/2022/01/27/dart\u4e4b\u63a7\u5236\u6d41","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-27-dart\u4e4b\u63a7\u5236\u6d41/index.md","source":"@site/blog/2022-01-27-dart\u4e4b\u63a7\u5236\u6d41/index.md","title":"dart\u4e4b Control Flow","description":"headerimg","date":"2022-01-27T00:00:00.000Z","formattedDate":"2022\u5e741\u670827\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":1.56,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4b Control Flow","tags":["dart"]},"prevItem":{"title":"dart\u4e4b Function","permalink":"/2022/01/28/dart\u4e4b\u51fd\u6570"},"nextItem":{"title":"dart\u4e4bType & Operator","permalink":"/2022/01/26/dart\u4e4bType-Operations"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bdart\u7684\u63a7\u5236\u6d41\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u63a7\u5236\u6d41\\n\\n###  If  else\\n\\n\u6ce8\u610f\u6761\u4ef6\u5fc5\u987b\u662fbool\\n\\n```dart\\nif (isRaining()) {\\n  you.bringRainCoat();\\n} else if (isSnowing()) {\\n  you.wearJacket();\\n} else {\\n  car.putTopDown();\\n}\\n```\\n\\n### for\u5faa\u73af\\n\\n```dart\\nvar message = StringBuffer(\'Dart is fun\');\\nfor (var i = 0; i < 5; i++) {\\n  message.write(\'!\');\\n}\\n//for in\\nfor (final candidate in candidates) {\\n  candidate.interview();\\n}\\n//forEach\\nvar collection = [1, 2, 3];\\ncollection.forEach(print); // 1 2 3\\n```\\n\\n### while\u548cdo white\\n\\n```dart\\nwhile (!isDone()) {\\n  doSomething();\\n}\\n\\ndo {\\n  printLine();\\n} while (!atEndOfPage());\\n```\\n\\n### Break \u548c continue\\n\\n```dart\\nwhile (true) {\\n  if (shutDownRequested()) break;\\n  processIncomingRequests();\\n}\\n\\nfor (int i = 0; i < candidates.length; i++) {\\n  var candidate = candidates[i];\\n  if (candidate.yearsExperience < 5) {\\n    continue;\\n  }\\n  candidate.interview();\\n}\\n\\n//\u5e94\u8be5\u548c\u5176\u4ed6\u8bed\u8a00\u4e00\u6837\u652f\u6301\u6807\u7b7e\uff0c\u4f46\u662f\u6ca1\u770b\u5230\u5b98\u65b9\u6587\u6863\u8bf4\u660e, \u4f46\u8fd0\u884c\u662f\u6ca1\u95ee\u9898\u7684\\naa:\\nfor (final i in [1, 2, 3, 4]) {\\n  for (final j in [6, 7, 8, 9]) {\\n    if (i * j == 18) {\\n      break aa;\\n    }\\n    print(\\"$i  $j\\");\\n  }\\n}\\n```\\n\\n### Switch  case\\n\\n\u548c\u5176\u4ed6\u8bed\u8a00\u7684switch\u57fa\u672c\u7c7b\u578b\u3002\u6ce8\u610f\u6bcf\u4e2acase\u90fd\u9700\u8981break\u3002\\n\\n```dart\\nvar command = \'OPEN\';\\nswitch (command) {\\n  case \'CLOSED\':\\n    executeClosed();\\n    break;\\n  case \'PENDING\':\\n    executePending();\\n    break;\\n  case \'APPROVED\':\\n    executeApproved();\\n    break;\\n  case \'DENIED\':\\n    executeDenied();\\n    break;\\n  case \'OPEN\':\\n    executeOpen();\\n    break;\\n  default:\\n    executeUnknown();\\n}\\n```\\n\\n###  Assert\\n\\nproduct\u6a21\u5f0f\u4e0b\uff0cassert\u4f1a\u88ab\u5ffd\u7565\\n\\n```dart\\n// Make sure the variable has a non-null value.\\nassert(text != null);\\n// Make sure the value is less than 100.\\nassert(number < 100);\\n// Make sure this is an https URL.\\nassert(urlString.startsWith(\'https\'));\\n```"},{"id":"/2022/01/26/dart\u4e4bType-Operations","metadata":{"permalink":"/2022/01/26/dart\u4e4bType-Operations","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-26-dart\u4e4bType-Operations/index.md","source":"@site/blog/2022-01-26-dart\u4e4bType-Operations/index.md","title":"dart\u4e4bType & Operator","description":"headerimg","date":"2022-01-26T00:00:00.000Z","formattedDate":"2022\u5e741\u670826\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":4.1,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4bType & Operator","tags":["dart"]},"prevItem":{"title":"dart\u4e4b Control Flow","permalink":"/2022/01/27/dart\u4e4b\u63a7\u5236\u6d41"},"nextItem":{"title":"dart\u4e4bExpressions & Variables & Constants","permalink":"/2022/01/25/dart\u4e4b\u8868\u8fbe\u5f0f-\u53d8\u91cf-\u5e38\u91cf"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bdart\u7684\u7c7b\u578b\u548c\u64cd\u4f5c\u7b26\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5185\u7f6e\u7c7b\u578b\\n\\n### number\u7c7b\u578b\\n\\nDart \u652f\u6301\u4e24\u79cd Number \u7c7b\u578b\uff1a\\n\\n- int\\n- double\\n\\n###  Strings\\n\\n\u5305\u542b\u7684\u662f UTF-16 \u7f16\u7801\u7684\u5b57\u7b26\u5e8f\u5217\u3002\u6240\u4ee5length\u662fUTF-16\u7684\u4e2a\u6570\uff0c\u53ef\u80fd\u548c\u6211\u4eec\u7684\u53ef\u89c6\u5316\u5b57\u7b26\u6570\u5e76\u4e0d\u4e00\u81f4\\n\\n```dart\\nvoid main() {\\n  var person = \\"\u4f60\ud83d\ude01\\";\\n  print(\\"${person.length}\\");// 3\\n}\\n```\\n\\n\u4e0b\u9762\u662f\u521b\u5efa\u5b57\u7b26\u4e32\u7684\u65b9\u5f0f:\\n\\n```dart\\nvoid main() {\\n  var str1 = \\"hello world\\"; //\u53cc\u5f15\u53f7\\n  var str2 = \'hello world\'; //\u5355\u5f15\u53f7\\n  var str3 = \'\'\'hello world \\n    hello world\\n  \'\'\'; // \u521b\u5efa\u591a\u884c\u6587\u672c\\n  var str4 = r\'hello \\\\n world\'; // \u539f\u59cb\u5b57\u7b26\u4e32\uff0c\u4e0d\u5904\u7406\u8f6c\u4e49\\n  var str5 = r\\"hello \\\\n world\\"; // \u539f\u59cb\u5b57\u7b26\u4e32\uff0c\u4e0d\u5904\u7406\u8f6c\u4e49\\n  print(str1);\\n  print(str2);\\n  print(str3);\\n  print(str4);\\n  print(str5);\\n}\\n```\\n\\n\u5b57\u7b26\u4e32\u63d2\u503c\\n\\n```dart\\nvar age = 123;\\nvar str = \\"age is $age\\";\\nvar str1 = \\"age is ${age + 1}\\";//dart\u63a8\u8350\u98ce\u683c\u662f\u53d8\u91cf\u4e0d\u52a0{}\uff0c \u8868\u8fbe\u5f0f\u52a0{}\\n```\\n\\n### bool\u7c7b\u578b\\n\\ntrue\u548cfalse\u3002Dart \u7684\u7c7b\u578b\u5b89\u5168\u4e0d\u5141\u8bb8\u4f60\u4f7f\u7528\u7c7b\u4f3c `if (nonbooleanValue)` \u6216\u8005 `assert (nonbooleanValue)` \u8fd9\u6837\u7684\u4ee3\u7801\u68c0\u67e5\u5e03\u5c14\u503c\u3002\u6211\u4eec\u5e94\u8be5\u603b\u662f\u663e\u793a\u5730\u68c0\u67e5\u5e03\u5c14\u503c\uff0c\u6bd4\u5982\u50cf\u4e0b\u9762\u7684\u4ee3\u7801\u8fd9\u6837\uff1a\\n\\n```dart\\n// Check for zero.\\nvar hitPoints = 0;\\nassert(hitPoints <= 0);\\n\\nif(3) {// error, \\n  \\n}\\n```\\n\\n### Lists\\n\\n\u6570\u7ec4\uff0c\u5bf9\u5e94\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684Array\u3002\\n\\n```dart\\nvar list1 = [1, 2, 3];//\u5b57\u9762\u91cf\\nvar lsit2 = List.filled(10, 34);//\u65b9\u6cd5\\n```\\n\\n\u5b57\u9762\u91cf\u4e2d\u8fd8\u53ef\u4ee5\u7528spread\u64cd\u4f5c\u7b26\\n\\n```dart\\nvar list = [1,2,3]\\nvar list2 = [4,5,...list];\\nvar lsit3 = [4, 5, 6, ...?list1];\\n```\\n\\n\u5b57\u9762\u91cf\u4e2d\u8fd8\u53ef\u4ee5\u4f7f\u7528if\u548cfor\\n\\n```dart\\nvar age = 100;\\nvar list = [1, 2, 3, if (age > 50) 99];\\nvar list1 = [1, 2, 3, for (var i in list) i];\\nprint(list);\\nprint(list1);\\n```\\n\\n###  Sets\\n\\n\u521d\u59cb\u5316\\n\\n```dart\\nvar halogens = {\'fluorine\', \'chlorine\', \'bromine\', \'iodine\', \'astatine\'};\\nhalogens.add(\'fluorine11\');\\n```\\n\\n\u540cList\uff0c\u4e5f\u652f\u6301spread\u64cd\u4f5c\u7b26\uff0cif\uff0cfor\u3002\\n\\n### Maps\\n\\n\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684Dictionary\u3002\\n\\n```dart\\nvar gifts = {\\n  // Key:    Value\\n  \'first\': \'partridge\',\\n  \'second\': \'turtledoves\',\\n  \'fifth\': \'golden rings\'\\n};\\n\\nvar nobleGases = {\\n  2: \'helium\',\\n  10: \'neon\',\\n  18: \'argon\',\\n};\\n```\\n\\n\u540cList\uff0c\u4e5f\u652f\u6301spread\u64cd\u4f5c\u7b26\uff0cif\uff0cfor\u3002\\n\\n###  Runes and grapheme clusters\\n\\n\u4e4b\u524d\u8bf4\u8fc7String\u662fUTF-16\u5b57\u7b26\u4e32\u3002\u6240\u4ee5\u6211\u4eec\u5728\u5224\u65ad\u5b57\u7b26\u65f6\u5c31\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c\u539f\u59cb\u5b57\u7b26\u4e32\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7characters\u6765\u83b7\u53d6unicode\u5b57\u7b26\u3002\u6ce8\u610f\u5bfc\u5165\u5bf9\u5e94\u7684\u5305\u3002\\n\\n```dart\\nimport \'package:characters/characters.dart\';\\n\\nvoid main() {\\n  var str = \\"\u7b11\ud83d\ude01\\";\\n  print(\\"${str.characters.length}\\");\\n}\\n```\\n\\n###  Symbols\\n\\n\u4ee5#\u5f00\u5934\uff0c\u662f\u7f16\u8bd1\u65f6\u5e38\u91cf\u3002\\n\\n## \u64cd\u4f5c\u7b26\\n\\n\u548c\u5176\u4ed6\u8bed\u8a00\u57fa\u672c\u5dee\u4e0d\u591a\\n\\n| Description              | Operator                                                     |\\n| ------------------------ | ------------------------------------------------------------ |\\n| unary postfix            | `expr++`  `expr--`  `()`  `[]`  `?[]`  `.`  `?.`  `!`        |\\n| unary prefix             | `-expr`  `!expr`  `~expr`  `++expr`  `--expr`   `await expr` |\\n| multiplicative           | `*`  `/`  `%` `~/`                                           |\\n| additive                 | `+`  `-`                                                     |\\n| shift                    | `<<`  `>>`  `>>>`                                            |\\n| bitwise AND              | `&`                                                          |\\n| bitwise XOR              | `^`                                                          |\\n| bitwise OR               | `|`                                                          |\\n| relational and type test | `>=`  `>`  `<=`  `<`  `as`  `is`  `is!`                      |\\n| equality                 | `==`  `!=`                                                   |\\n| logical AND              | `&&`                                                         |\\n| logical OR               | `||`                                                         |\\n| if null                  | `??`                                                         |\\n| conditional              | `expr1 ? expr2 : expr3`                                      |\\n| cascade                  | `..`  `?..`                                                  |\\n| assignment               | `=`  `*=`  `/=`  `+=`  `-=`  `&=`  `^=`  *etc.*              |\\n\\n\u6ce8\u610f\u9664\u6cd5 5 / 2 = 2.5 \uff0c\u4e0d\u662f\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684\u6574\u6570\u30025 ~/ 2 = 2\uff0c\u8fd9\u4e2a\u624d\u662f\u7ed3\u679c\u53d6\u6574\u6570\u3002\\n\\ncascade\u662fdart\u7279\u6709\u7684\u64cd\u4f5c\u7b26\uff1a\\n\\n```dart\\nvar paint = Paint()\\n  ..color = Colors.black\\n  ..strokeCap = StrokeCap.round\\n  ..strokeWidth = 5.0;\\n\u7b49\u4ef7\u4e8e\\nvar paint = Paint();\\npaint.color = Colors.black;\\npaint.strokeCap = StrokeCap.round;\\npaint.strokeWidth = 5.0;\\n//\u5982\u679c\u53ef\u80fd\u4e3anull\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528?..\\nvar button = querySelector(\'#confirm\') // Get an object.\\n  ?..text = \'Confirm\' // Use its members.\\n  ..classes.add(\'important\')\\n  ..onClick.listen((e) => window.alert(\'Confirmed!\'));\\n\u7b49\u4ef7\u4e8e\\nvar button = querySelector(\'#confirm\');\\nbutton?.text = \'Confirm\';\\nbutton?.classes.add(\'important\');\\nbutton?.onClick.listen((e) => window.alert(\'Confirmed!\'));\\n```"},{"id":"/2022/01/25/dart\u4e4b\u8868\u8fbe\u5f0f-\u53d8\u91cf-\u5e38\u91cf","metadata":{"permalink":"/2022/01/25/dart\u4e4b\u8868\u8fbe\u5f0f-\u53d8\u91cf-\u5e38\u91cf","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-25-dart\u4e4b\u8868\u8fbe\u5f0f-\u53d8\u91cf-\u5e38\u91cf/index.md","source":"@site/blog/2022-01-25-dart\u4e4b\u8868\u8fbe\u5f0f-\u53d8\u91cf-\u5e38\u91cf/index.md","title":"dart\u4e4bExpressions & Variables & Constants","description":"headerimg","date":"2022-01-25T00:00:00.000Z","formattedDate":"2022\u5e741\u670825\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":1.78,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4bExpressions & Variables & Constants","tags":["dart"]},"prevItem":{"title":"dart\u4e4bType & Operator","permalink":"/2022/01/26/dart\u4e4bType-Operations"},"nextItem":{"title":"dart\u4e4bHello,dart","permalink":"/2022/01/24/dart\u4e4bHello-dart"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u4e4b\u524d\u5df2\u7ecf\u8bbe\u7f6e\u597d\u4e86\u73af\u5883\uff0c\u73b0\u5728\u5f00\u59cb\u6765\u770b\u770b\u5982\u4f55\u521b\u5efa\u53d8\u91cf\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u6ce8\u91ca\\n\\ndart\u7684\u6ce8\u91ca\u57fa\u672c\u548c\u5176\u4ed6\u8bed\u8a00\u4e00\u6837.\\n\\n```dart\\n// \u5355\u884c\u6ce8\u91ca\\n /* \u591a\u884c\u6ce8\u91ca */\\n/// \u6587\u6863\u6ce8\u91ca\\n/**\\n * \u6587\u6863\u6ce8\u91ca\\n */\\n```\\n\\n## Statements\u548cExpressions\\n\\n### Statements\\n\\n\u7b80\u5355\u7684\u8bed\u53e5\u662f\u4ee5\u5206\u53f7\u7ed3\u5c3e\u7684\u3002\\n\\n```dart\\nprint(\'Hello,world\');\\n```\\n\\n\u590d\u6742\u7684\u8bed\u53e5\u4f7f\u7528\u5927\u62ec\u53f7\u5305\u88f9\u4ee3\u7801\u5757\u3002\\n\\n```dart\\nif (someCondition) {\\n// code block\\n}\\n```\\n\\n### Expressions\\n\\n\u8868\u8fbe\u5f0f\u901a\u5e38\u662f\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u80fd\u88ab\u8ba1\u7b97\u4e3a\u4e00\u4e2a\u503c\u3002\\n\\n\u503c\u53ef\u4ee5\u662fnumber\u3001String\u6216\u8005\u5176\u4ed6\u7c7b\u578b\u3002\u4e5f\u53ef\u4ee5\u662f\u53d8\u91cf\uff0c\u6bd4\u5982: x\u3002\\n\\n```dart\\n42\\n3+2\\n\'Hello, world\' \\n x\\n```\\n\\n## \u64cd\u4f5c\u7b26\\n\\n- +\\n- -\\n- *\\n- /\uff0c \u9700\u8981\u6ce8\u610f\u9664\u6cd5\uff0c\u6bd4\u5982:`22 / 7`,\u5982\u679c\u662f\u5176\u4ed6\u8bed\u8a00\u7ed3\u679c\u662f3\uff0c \u4f46\u662fdart\u662f`3.142857142857143`\u3002\u5982\u679c\u4f60\u60f3\u8981\u6574\u9664\uff0c\u90a3\u4e48\u7528`22 ~/ 7`\u3002\\n- % : \u53d6\u4f59\\n- \u62ec\u53f7\u589e\u52a0\u4f18\u5148\u7ea7\uff0c((8000 / (5 * 10)) - 32) ~/ (29 % 5)\\n- \u3002\u3002\u3002\u7b49\u7b49\\n\\n## Variables\\n\\n\u5b9a\u4e49\u53d8\u91cf\\n\\n```dart\\nint number = 10;//\u6307\u5b9a\u7c7b\u578b\\nvar someNumber = 10;//\u81ea\u52a8\u63a8\u65ad\u7c7b\u578b\\n```\\n\\n## Constants\\n\\n\u7f16\u8bd1\u65f6\u5e38\u91cf\u3002\u4e14\u8d4b\u7684\u503c\u4e5f\u53ea\u80fd\u662f\u5e38\u91cf\u6216\u8005\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u662f\u5bf9\u8c61\uff0c\u4e0d\u80fd\u6539\u53d8\u5bf9\u8c61\u5c5e\u6027\u3002\\n\\nconst\u8fd8\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u5e38\u91cf\u503c\\n\\n```dart\\nconst baz = [1,2,3];// baz = [4,5,6] ==> failed\\nvar foo = const [1,2,3]; // foo = [4,5,6] ==> ok, foo[1] = 999 ==> failed\\n```\\n\\n## final\\n\\n\u8fd0\u884c\u65f6\u5e38\u91cf\u3002\u53ea\u80fd\u88ab\u8d4b\u503c\u4e00\u6b21\u3002\\n\\n\u5982\u679c\u4fee\u9970\u5bf9\u8c61\u7684\u8bdd\uff0c\u53ef\u4ee5\u4fee\u6539\u5bf9\u8c61\u7684\u5b57\u6bb5(const \u4e0d\u80fd)\u3002"},{"id":"/2022/01/24/dart\u4e4bHello-dart","metadata":{"permalink":"/2022/01/24/dart\u4e4bHello-dart","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-24-dart\u4e4bHello-dart/index.md","source":"@site/blog/2022-01-24-dart\u4e4bHello-dart/index.md","title":"dart\u4e4bHello,dart","description":"headerimg","date":"2022-01-24T00:00:00.000Z","formattedDate":"2022\u5e741\u670824\u65e5","tags":[{"label":"dart","permalink":"/tags/dart"}],"readingTime":2.43,"truncated":true,"authors":[],"frontMatter":{"title":"dart\u4e4bHello,dart","tags":["dart"]},"prevItem":{"title":"dart\u4e4bExpressions & Variables & Constants","permalink":"/2022/01/25/dart\u4e4b\u8868\u8fbe\u5f0f-\u53d8\u91cf-\u5e38\u91cf"},"nextItem":{"title":"\u51c6\u5907\u5b66\u4e60\u4e0bflutter","permalink":"/2022/01/23/\u51c6\u5907\u5b66\u4e60\u4e0bflutter"}},"content":"![headerimg](./Header.png)\\n\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u3002\u9996\u5148\u6765\u5b89\u88c5sdk\uff0c\u9009\u62e9IDE\uff0c\u7136\u540e\u8dd1\u8d77\u7b2c\u4e00\u4e2aHello world\u7a0b\u5e8f\u3002\\n\x3c!--truncate--\x3e\\n\\n## IDE\\n\\nIDE\u6211\u4eec\u9009\u62e9Visual studio code\u3002\u600e\u4e48\u5b89\u88c5\u5c31\u4e0d\u8bf4\u4e86\u3002\\n\\n## SDK\\n\\n\u56e0\u4e3a\u6211\u4eec\u8981\u5f00\u53d1flutter\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u5355\u72ec\u5b89\u88c5dart\u7684sdk\uff0c\u800c\u662f\u9009\u62e9\u5b89\u88c5flutter\uff0c\u4f7f\u7528flutter\u4e2d\u7684dart sdk\u5c31\u884c\u4e86\u3002\u81f3\u4e8e\u600e\u4e48\u5b89\u88c5flutter sdk\u4e5f\u4e0d\u8bf4\u4e86\uff0c\u770b\u5b98\u65b9\u6587\u6863\u53bb\u3002\\n\\n## \u6821\u9a8c\u5b89\u88c5\u7ed3\u679c\\n\\n```shell\\n#\u5982\u679c\u80fd\u591f\u770b\u5230\u7248\u672c\uff0c\u90a3\u4e48\u5b89\u88c5\u6210\u529f\\ndart --version\\n```\\n\\n## dart \u547d\u4ee4\\n\\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7`dart help`\u67e5\u770b\u547d\u4ee4\u7684\u7528\u6cd5\u3002\\n\\n| Sub command | \u4f5c\u7528                      |\\n| ----------- | ------------------------- |\\n| analyze     | \u5206\u6790dart\u4ee3\u7801              |\\n| compile     | \u7f16\u8bd1dart\u4ee3\u7801              |\\n| create      | \u521b\u5efadart project          |\\n| devtools    | \u6253\u5f00DevTools              |\\n| doc         | \u751f\u6210project\u7684\u6587\u6863         |\\n| fix         | \u81ea\u52a8\u4fee\u590ddart\u4ee3\u7801          |\\n| format      | \u683c\u5f0f\u5316\u4ee3\u7801                |\\n| migrate     | \u5c06\u9879\u76ee\u8fdb\u884cnull safety\u8fc1\u79fb |\\n| pub         | packages\u76f8\u5173              |\\n| run         | \u8fd0\u884cdart                  |\\n| test        | \u8fd0\u884c\u9879\u76ee\u7684test            |\\n\\n## \u521b\u5efaProject\\n\\n\u521b\u5efa\u4e00\u4e2aconsole project\\n\\n```dart\\ndart create helloworld\\ncd helloworld\\ndart run\\n```\\n\\n\u6211\u4eec\u521b\u5efaproject\u65f6\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5176\u4ed6\u6a21\u677f\\n\\n```dart\\n dart create --template console-full hello_dart_project\\n```\\n\\n## \u4f7f\u7528VsCode\u5f00\u53d1\\n\\n1. \u5b89\u88c5dart extension\\n2. \u6309`Command+Shift+P`, \u8f93\u5165dart\uff0c\u9009\u62e9`dart: New Project`\u3002\\n3. \u9009\u62e9\u6a21\u677f,\u6211\u4eec\u9009\u4e2a`console application`\\n\\n\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u548c\u547d\u4ee4\u884c\u521b\u5efa\u9879\u76ee\u4e00\u6837\u7684\u6548\u679c\u3002\\n\\n## \u8fd0\u884c\\n\\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u7684\\n\\n```dart\\ndart run\\n```\\n\\nvscode\u7684\u8bdd\uff0c\u5728main\u51fd\u6570\u9876\u90e8\u6709`Run | Debug`\uff0c\u6211\u4eec\u70b9\u51fbrun\u5c31\u884c\u4e86\\n\\n\u5728\u5de5\u5177\u680f\u4e5f\u6709\u4e2a\u64ad\u653e\u6309\u94ae\u25b6\ufe0f\u4e00\u6837\u7684\uff0c\u70b9\u51fb\u4e5f\u662f\u8fd0\u884c\u3002\\n\\n\u5982\u679c\u6211\u4eec\u70b9\u51fb\uff0c\u4ed6\u63d0\u793a\u6211\u4eec\u521b\u5efa` launch.json`\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u5982\u4e0b\u7684:\\n\\n```json\\n{\\n    \\"version\\": \\"0.2.0\\",\\n    \\"configurations\\": [\\n        {\\n            \\"name\\": \\"Dart\\",//\u9879\u76ee\u7684config name\uff0c\u968f\u4fbf\u547d\u540d\\n            \\"type\\": \\"dart\\",//\u8ba9vscode\u77e5\u9053project\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u544a\u8bc9vscode\u8fd9\u662f\u4e00\u4e2adart project\\n            \\"request\\": \\"launch\\",//\u544a\u8bc9vscode\u4f60\u60f3\u8981\u8fd0\u884cproject\\n            \\"program\\": \\"bin/hello_dart_project.dart\\"//\u544a\u8bc9vscode\u7a0b\u5e8f\u7684\u4f4d\u7f6e\uff0cvscode\u4f1a\u5bfb\u627emain\u51fd\u6570\uff0c\u5f00\u59cb\u6267\u884c\\n\\t\\t} ]\\n}\\n```"},{"id":"/2022/01/23/\u51c6\u5907\u5b66\u4e60\u4e0bflutter","metadata":{"permalink":"/2022/01/23/\u51c6\u5907\u5b66\u4e60\u4e0bflutter","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-23-\u51c6\u5907\u5b66\u4e60\u4e0bflutter/index.md","source":"@site/blog/2022-01-23-\u51c6\u5907\u5b66\u4e60\u4e0bflutter/index.md","title":"\u51c6\u5907\u5b66\u4e60\u4e0bflutter","description":"headerimg","date":"2022-01-23T00:00:00.000Z","formattedDate":"2022\u5e741\u670823\u65e5","tags":[{"label":"flutter","permalink":"/tags/flutter"}],"readingTime":0.51,"truncated":true,"authors":[],"frontMatter":{"title":"\u51c6\u5907\u5b66\u4e60\u4e0bflutter","tags":["flutter"]},"prevItem":{"title":"dart\u4e4bHello,dart","permalink":"/2022/01/24/dart\u4e4bHello-dart"},"nextItem":{"title":"SwiftUI\u4e13\u8f91080-SwiftUI\u7684\u6d4b\u8bd5","permalink":"/2022/01/22/SwiftUI\u4e13\u8f91-080-SwiftUI\u7684\u6d4b\u8bd5"}},"content":"![headerimg](./Header.png)\\n\u4e4b\u524d\u4e5f\u4e86\u89e3\u8fc7\u4e00\u4e9bflutter\uff0c\u4e0d\u8fc7\u5927\u90fd\u662f\u8dd1\u8dd1demo\uff0c\u770b\u770b\u5b98\u65b9\u6587\u6863\uff0c\u8fd9\u6b21\u51c6\u5907\u7cfb\u7edf\u7684\u5b66\u4e60\u4e0bflutter\uff0c\u5305\u62ec\u7ec4\u4ef6\u3001\u9879\u76ee\u7ec4\u7ec7\u3001\u72b6\u6001\u7ba1\u7406\u7b49\u7b49\u3002\u4ee5\u4fbf\u4ee5\u540e\u6280\u672f\u9009\u578b\u65f6\u591a\u4e00\u79cd\u9009\u62e9\u3002\\n\x3c!--truncate--\x3e\\n\u6211\u9884\u8ba1\u5206\u4e3a\u4ee5\u4e0b4\u90e8\u5206\u6765\u5b66\u4e60\uff1a\\n\\n1. dart\u8bed\u8a00\u5b66\u4e60\\n2. flutter\u57fa\u7840\u7ec4\u4ef6\\n3. flutter\u5f02\u6b65\u548c\u7f51\u7edc\\n4. flutter\u72b6\u6001\u7ba1\u7406"},{"id":"/2022/01/22/SwiftUI\u4e13\u8f91-080-SwiftUI\u7684\u6d4b\u8bd5","metadata":{"permalink":"/2022/01/22/SwiftUI\u4e13\u8f91-080-SwiftUI\u7684\u6d4b\u8bd5","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-22-SwiftUI\u4e13\u8f91-080-SwiftUI\u7684\u6d4b\u8bd5/index.md","source":"@site/blog/2022-01-22-SwiftUI\u4e13\u8f91-080-SwiftUI\u7684\u6d4b\u8bd5/index.md","title":"SwiftUI\u4e13\u8f91080-SwiftUI\u7684\u6d4b\u8bd5","description":"headerimg","date":"2022-01-22T00:00:00.000Z","formattedDate":"2022\u5e741\u670822\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":6.7,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91080-SwiftUI\u7684\u6d4b\u8bd5","tags":["swiftUI"]},"prevItem":{"title":"\u51c6\u5907\u5b66\u4e60\u4e0bflutter","permalink":"/2022/01/23/\u51c6\u5907\u5b66\u4e60\u4e0bflutter"},"nextItem":{"title":"SwiftUI\u4e13\u8f91079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868","permalink":"/2022/01/21/SwiftUI\u4e13\u8f91-079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u6765\u770b\u770bSwiftUI\u7684\u6d4b\u8bd5\u3002\\n\x3c!--truncate--\x3e\\n\\n## snapshot test\\n\\n\\nsnapshot test \u5305\u542b2\u4e2a\u6b65\u9aa4\uff1a\\n\\n- \u5728\u67d0\u4e2astate\u4e0b\uff0c\u622a\u4e0b\u5c4f\u5e55\u56fe\u7247\\n- \u622a\u4e0b\u7684\u56fe\u7247\u548c\u901a\u7528state\u6b63\u5e38\u56fe\u7247\u5bf9\u6bd4\u662f\u5426\u4e00\u81f4\\n\\n### Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**SnapshotTestingSwiftUI**\\n\\n\u5bfc\u5165SnapshotTesting\uff0c `pod \'SnapshotTesting\', \'~> 1.9.0\'`\\n\\n### How to do it\u2026\\n\\n\u6211\u4eec\u5c06\u7528\u4e09\u5f20\u5361\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u89c6\u56fe\uff0c\u6a21\u62df\u4e09\u5f20\u4e0d\u540c\u7684\u4fe1\u7528\u5361\u3002\\n\\n\u7136\u540e\uff0c\u6211\u4eec\u5c06\u8fd0\u884csnapshot test\u5f97\u5230\u4e00\u5f20\u6807\u51c6\u7684\u56fe\u7247\uff0c\u8fd9\u662f\u4e00\u4e2a\u6211\u4eec\u9884\u8ba1\u6b63\u786e\u7684\u56fe\u50cf\uff0c\u4ee5\u9632\u6b62\u6211\u4eec\u610f\u5916\u66f4\u6539\u8be5\u89c6\u56fe\u3002\\n\\n\u6700\u540e\uff0c\u6211\u4eec\u5c06\u66f4\u6539\u5361\u7247\u7684\u987a\u5e8f\uff0c\u770b\u770b\u8fd0\u884c\u6d4b\u8bd5\u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\u3002\u4ee5\u4e0b\u662f\u6b65\u9aa4\uff1a\\n\\n1. \u9996\u5148\u51c6\u5907\u6570\u636e\u548cview\\n```swift\\nstruct ContentView: View {\\n    let cards: [(title: String, color: Color)] = [\\n        (\\"Visa Card\\", .yellow),\\n        (\\"Mastercard Credit Card\\", .red),\\n        (\\"Apple Credit Card\\", .black),\\n    ]\\n    var body: some View {\\n        VStack(spacing: 16) {\\n            ForEach(0..<cards.count) { index in\\n                Text(cards[index].title)\\n                    .font(.system(.title))\\n                    .frame(maxWidth: .infinity, maxHeight: .infinity)\\n                    .foregroundColor(.white)\\n                    .background(cards[index].color)\\n                    .cornerRadius(16)\\n            }\\n        }.padding(.horizontal, 16)\\n    }\\n}\\n```\\n\\n\u6b64\u65f6\uff0c\u6211\u4eec\u7684app\u957f\u8fd9\u6837\\n\\n![image-20220117155400912](https://tva1.sinaimg.cn/large/008i3skNgy1gygq1iuh6fj30c20ow0td.jpg)\\n\\n2. \u5199\u597d\u6d4b\u8bd5\uff0c\u8fd0\u884c\u4e00\u6b21\uff0c\u6b64\u65f6\u56e0\u4e3a\u6ca1\u6709\u6807\u51c6\u56fe\u7247\uff0c\u4f1a\u5931\u8d25\uff0c\u6b64\u65f6\u4f1a\u751f\u6210\u4e00\u5f20\u56fe\u7247\u5f53\u505a\u6807\u51c6\u56fe\u7247\uff0c\u6211\u4eec\u518d\u6b21\u8fd0\u884c\uff0c\u6709\u4e86\u6807\u51c6\u56fe\u7247\u4f5c\u6bd4\u8f83\uff0c\u6d4b\u8bd5\u901a\u8fc7\\n```swift\\nextension Snapshotting where Value:View, Format == UIImage {\\n    public static func image(on config: ViewImageConfig) -> Snapshotting {\\n        Snapshotting<UIViewController,UIImage>.image(on:config)\\n            .pullback(UIHostingController.init(rootView:))\\n    }\\n}\\n\\nclass TheStacksTests: XCTestCase {\\n\\n    override class func setUp() {\\n            diffTool = \\"ksdiff\\"\\n    }\\n\\n    func testContentView() throws {\\n        assertSnapshot(matching: ContentView(), as: .image(on: .iPhoneXsMax))\\n    }\\n}\\n```\\n\\n3. \u6211\u4eec\u4fee\u6539\u4e00\u4e0bstate\u7684\u987a\u5e8f, \u518d\u8fd0\u884c\u4e0b\u6d4b\u8bd5, \u5c06\u5931\u8d25\uff0c\u5e76\u5728\u63a7\u5236\u53f0\u6253\u5370\u51fa\u4e24\u4e2a\u56fe\u7247\u4f4d\u7f6e\\n```swift\\n let cards: [(title: String, color: Color)] = [\\n    (\\"Mastercard Credit Card\\", .red),\\n   (\\"Visa Card\\", .yellow),\\n    (\\"Apple Credit Card\\", .black),\\n]\\n```\\n\\n4. \u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7**Kaleidoscope** \uff0c\u8fd0\u884c\u547d\u4ee4\u76f4\u63a5\u67e5\u770b\u4e24\u5f20\u56fe\u7247\u7684\u5bf9\u6bd4.\\n\\n### How it works\u2026\\n\\nSwift Snapshot Testing \u6709\u4e00\u79cd\u673a\u5236\u53eb\u505a  **pullback**, \u4ee3\u8868\u6211\u4eec\u60f3\u8981\u6d4b\u8bd5\u7684component\u4e0a\u8981\u6267\u884c\u7684test operation \u3002\u6bd4\u5982\u4e00\u4e2a SwiftUI **View**, \u88ab\u8f6c\u6362\u6210library\u5df2\u7ecf\u652f\u6301\u7684test operation( **UIViewController** \u548c **UIImage**)\\n\\n\u6211\u4eec\u7684demo\u4e2d,  component \u5df2\u7ecf\u652f\u6301\u7684\u662f **UIViewController**, \u6240\u4ee5 **pullback** \u4f1a\u6865\u63a5\u6211\u4eec\u7684 **View** t\u5230**UIViewController**, \u628a\u4ed6\u5d4c\u5165\u4e00\u4e2a **UIHostingController**.\\n\\n\u6211\u4eec\u6765\u770b\u770b\u6574\u4e2a\u6d41\u7a0b\uff1a\\n\\n\u9996\u5148\uff0c\u4f60\u5f97\u51b3\u5b9a\u60a8\u5c06\u4f7f\u7528\u54ea\u79cd\u8bbe\u5907\u8fdb\u884c\u6d4b\u8bd5\u3002\u8fd9\u662f\u56e0\u4e3a\u622a\u56fe\u5bc6\u5ea6\u53d6\u51b3\u4e8e\u8bbe\u5907\u5c4f\u5e55\u7684\u5bc6\u5ea6\uff0c\u4f8b\u5982\uff0c\u4f7f\u7528 iPhone 13 Pro Max \u622a\u53d6\u7684\u622a\u56fe\u65e0\u6cd5\u4e0e\u4f7f\u7528 SE 2 \u622a\u53d6\u7684\u622a\u56fe\u8fdb\u884c\u6bd4\u8f83\u3002\\n\\n\u7136\u540e\uff0c\u60a8\u8fd8\u5fc5\u987b\u8fd0\u884c\u4e00\u6b21\u6d4b\u8bd5\u4ee5\u521b\u5efa\u53c2\u8003\u56fe\u7247\u3002\\n\\n\u4e4b\u540e\uff0c\u60a8\u5fc5\u987b\u68c0\u67e5\u5feb\u7167\u662f\u5426\u7b26\u5408\u60a8\u7684\u9884\u671f\u3002\\n\\n\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\u6bd4\u8f83\u56fe\u50cf\uff0c\u53d1\u73b0\u5dee\u5f02\uff0c\u6bd4\u5982\uff1a Kaleidoscope \u3002\\n\\n\u6700\u540e\u662f**diffTool**\u5168\u5c40\u53d8\u91cf\uff0c\u5982\u679c\u4f60\u8bbe\u7f6e\u4e86\uff0c\u90a3\u4e48\u6d4b\u8bd5\u5931\u8d25\u7684\u6d88\u606f\u4e2d\u4f1a\u4ee5\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5f00\u5934\u3002\\n\\n\u5982\u679c\u8bbe\u7f6e\u4e86**diffTool**\u5168\u5c40\u53d8\u91cf\uff0c\u5185\u5bb9\u4f1a\u5728\u6d4b\u8bd5\u5931\u8d25\u7684\u6d88\u606f\u4e2d\u5448\u73b0\u51fa\u6765\\n\\n![image-20220117161631726](https://tva1.sinaimg.cn/large/008i3skNgy1gygqoya13qj30w80gkq5i.jpg)\\n\\n## \u4f7f\u7528ViewInspector\u8fdb\u884c\u6d4b\u8bd5\\n\\n**XCTest**\u548c**XCUITest**\u662f\u6210\u719f\u7684\u6846\u67b6\uff0c\u6240\u4ee5\u4f60\u5e0c\u671b SwiftUI \u6709\u7c7b\u4f3c\u7684\u4e1c\u897f\u3002\\n\\n\u4e0d\u5e78\u7684\u662f\uff0cSwiftUI \u6ca1\u6709\u6765\u81ea Apple \u7684\u4efb\u4f55\u6d4b\u8bd5\u529f\u80fd\u3002\u8981\u6d4b\u8bd5 SwiftUI \u89c6\u56fe\uff0c\u60a8\u53ef\u4ee5\u4f9d\u8d56\u672c\u8d28\u4e0a\u4e0d\u7a33\u5b9a\u7684**UI**\u6d4b\u8bd5\uff0c\u6216\u8005\u4f7f\u7528\u4e0a\u4e00\u7ae0\u8bb2\u7684\u5feb\u7167\u6d4b\u8bd5\u3002\\n\\n\u7136\u800c\uff0c\u5f00\u6e90\u7684\u7f8e\u5999\u4e4b\u5904\u5728\u4e8e\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u95ee\u9898\uff0c\u793e\u533a\u4f1a\u4ee5\u67d0\u79cd\u65b9\u5f0f\u627e\u5230\u89e3\u51b3\u65b9\u6848\u3002SwiftUI \u5355\u5143\u6d4b\u8bd5\u548c**ViewInspector**\u5c31\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u68c0\u67e5\u548c\u6d4b\u8bd5 SwiftUI \u89c6\u56fe\u7684\u6846\u67b6\u3002\\n\\n### Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**TestingSwiftUI**\\n\\n\u5f15\u5165**ViewInspector**\uff0c `pod \'ViewInspector\'`\\n\\n### How to do it\u2026\\n\\n\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u9009\u62e9\u56fd\u5bb6\u7684\u529f\u80fd\uff0c\u6709\u591a\u4e2a\u6309\u94ae\uff0c\u6bcf\u4e2a\u4ee3\u8868\u4e00\u4e2a\u56fd\u5bb6\uff0c\u9009\u62e9\u5bf9\u5e94\u56fd\u5bb6\u540e\uff0c\u5e95\u90e8\u7684\u6587\u6848\u4f1a\u53d8\u6210\u5bf9\u5e94\u7684\u56fd\u5bb6\u3002\\n\\n1. \u6211\u4eec\u9996\u5148\u5b9e\u73b0\u529f\u80fd\\n```swift\\nstruct ContentView: View {\\n    private let countries = [\\n        \\"USA\\",\\n        \\"France\\",\\n        \\"Germany\\",\\n        \\"Italy\\"\\n    ]\\n\\n    @State var originCountry: Int = 0\\n    \\n    var body: some View {\\n        VStack(spacing: 12) {\\n            Text(\\"What is your country of origin?\\")\\n            HStack(spacing: 12) {\\n                ForEach(0..<countries.count) { idx in\\n                    Button {\\n                        originCountry = idx\\n                    } label: {\\n                        Text(countries[idx])\\n                            .frame(width: 80, height: 40)\\n                            .background((originCountry == idx ? Color.red : Color.blue).opacity(0.6))\\n                            .cornerRadius(5)\\n                            .foregroundColor(.white)\\n                    }\\n                }\\n            }\\n            Spacer()\\n            Text(countries[originCountry])\\n                .font(.system(size: 40))\\n            Spacer()\\n        }\\n    }\\n}\\n```\\n\\n![Figure_15.12_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gygrh2if8yj30go0gimxs.jpg)\\n\\n2. \u6211\u4eec\u5f00\u59cb\u5199\u6d4b\u8bd5, \u9996\u5148\u5e94\u8be5\u9ed8\u8ba4\u663e\u793aUSA\\n```swift\\n//\u5bfc\u5165ViewInspector\\nimport ViewInspector\\nextension ContentView: Inspectable { }//\u9075\u5faaInspectable\u534f\u8bae\\n\\nclass TheStacksTests: XCTestCase {\\n    func testStartWithUSASelected() throws {\\n         let view = ContentView()\\n         let buttons = try view.inspect().vStack().hStack(1).forEach(0)\\n         XCTAssertEqual(try buttons.button(0).labelView().text().string(), \\"USA\\")\\n         XCTAssertEqual(try buttons.button(1).labelView().text().string(), \\"France\\")\\n         XCTAssertEqual(try buttons.button(2).labelView().text().string(), \\"Germany\\")\\n         XCTAssertEqual(try buttons.button(3).labelView().text().string(), \\"Italy\\")\\n\\n         let country = try view.inspect().vStack().text(3)\\n         XCTAssertEqual(try country.string(), \\"USA\\")\\n     }\\n\\n}\\n```\\n\\n3. \u5f53\u6211\u4eec\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u5e94\u8be5\u663e\u793a\u5bf9\u5e94\u7684\u56fd\u5bb6\u3002\u8fd9\u4e2a\u529f\u80fd\u4f9d\u8d56@State\u53d8\u91cf\uff0c\u4e0d\u5e78\u7684\u662f\uff0cViewInspector\u5f53\u524d\u8fd8\u4e0d\u652f\u6301@State\u53d8\u91cf\uff0c\u6211\u4eec\u5fc5\u987b\u624b\u52a8\u4fee\u6539\u4e0bContentView\u7684\u4ee3\u7801\u6765\u514b\u670d\u8fd9\u4e2a\u9650\u5236\u3002\\n```swift   \\nstruct ContentView: View {\\n    //...\\n    var didAppear: ((Self) -> Void)?\\n    var body: some View {\\n       VStack(spacing: 12) {\\n        //...\\n        }\\n        .onAppear { didAppear?(self) }\\n    }\\n}\\n```\\n\\n4. \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u6211\u4eec\u7684\u6d4b\u8bd5\u4e86\\n```swift\\nfunc testSelectItaly() throws {\\n    var view = ContentView()\\n    let exp = view.on(\\\\.didAppear) { view in\\n        XCTAssertEqual(try view.actualView().originCountry, 0)\\n        try view.actualView().inspect().vStack().hStack(1).forEach(0).button(3).tap()\\n        XCTAssertEqual(try view.actualView().originCountry, 3)\\n    }\\n    ViewHosting.host(view: view)\\n    wait(for: [exp], timeout: 0.1)\\n}\\n```\\n\\n### How it works\u2026\\n\\n\u6700\u91cd\u8981\u7684\u662fextension, \u6211\u4eec\u7684View\u9700\u8981\u9075\u5faa**Inspectable**\u534f\u8bae\u3002\\n\\n\u6211\u4eec\u8c03\u7528**inspect()**\u540e\u4f1a\u5f97\u5230\u4e00\u4e2aView\u5c42\u7ea7\u7ed3\u6784\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u6e90\u7801\u4e2d\u7684index\u53bb\u83b7\u53d6\u5bf9\u5e94\u7684\u7ec4\u4ef6\u3002\\n\\n```swift\\ntry view.inspect().vStack().text(0)\\ntry view.inspect().vStack().hStack(1)\\ntry view.inspect().vStack().spacer(2)\\ntry view.inspect().vStack().text(3)\\n```\\n\\n\u5982\u679c\u5b58\u5728\u4ea4\u4e92\uff0c\u90a3\u5c31\u6ca1\u8fd9\u4e48\u7b80\u5355\u4e86\uff0c\u6211\u4eec\u5fc5\u987b\u589e\u52a0\u4e00\u4e2a\u95ed\u5305\u6765\u6355\u83b7actual view \uff0c\u4e4b\u540e\u6211\u4eec\u624d\u80fd\u5728\u6d4b\u8bd5\u7684\u95ed\u5305\u4e2d\u4f7f\u7528actual view \u3002\\n\\n```swift\\nlet exp = view.on(\\\\.didAppear) { view in\\n    XCTAssertEqual(try view.actualView().originCountry, 0)\\n    try view.actualView().inspect().vStack().hStack(1).forEach(0).button(3).tap()\\n  XCTAssertEqual(try view.actualView().originCountry, 3)\\n}\\n```"},{"id":"/2022/01/21/SwiftUI\u4e13\u8f91-079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868","metadata":{"permalink":"/2022/01/21/SwiftUI\u4e13\u8f91-079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-21-SwiftUI\u4e13\u8f91-079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868/index.md","source":"@site/blog/2022-01-21-SwiftUI\u4e13\u8f91-079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868/index.md","title":"SwiftUI\u4e13\u8f91079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868","description":"headerimg","date":"2022-01-21T00:00:00.000Z","formattedDate":"2022\u5e741\u670821\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"async","permalink":"/tags/async"}],"readingTime":1.825,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868","tags":["swiftUI","async"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91080-SwiftUI\u7684\u6d4b\u8bd5","permalink":"/2022/01/22/SwiftUI\u4e13\u8f91-080-SwiftUI\u7684\u6d4b\u8bd5"},"nextItem":{"title":"SwiftUI\u4e13\u8f91078-completionBlock\u8f6c\u5316\u4e3aasync/await","permalink":"/2022/01/20/SwiftUI\u4e13\u8f91-078-completionBlock\u8f6c\u5316\u4e3aasync-await"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**CoolGifList**\\n\\n\u7531\u4e8e\u6211\u4eec\u8981\u663e\u793aGif\uff0c**AsyncImage**\u5e76\u4e0d\u652f\u6301\uff0c\u6211\u4eec\u5c06\u7528**NukeUI**\u3002\\n\\n\u7136\u540e\u53bbhttps://developers.giphy.com/\u6ce8\u518c\u4e2a\u8d26\u53f7\uff0c\u521b\u5efaapp\uff0c\u62ff\u5230apiKey\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u521b\u5efa\u6211\u4eec\u7684Model\\n```swift\\nstruct Response: Codable {\\n    let data: [Gif]\\n}\\n\\nstruct Gif: Identifiable, Codable, Equatable {\\n    static func == (lhs: Gif, rhs: Gif) -> Bool {\\n        lhs.id == rhs.id\\n    }\\n\\n    let id: String\\n    let title: String\\n    var url: String {\\n        images.downsized.url\\n    }\\n    let images: Images\\n}\\n\\nstruct Images: Codable {\\n    let downsized: Image\\n}\\n\\nstruct Image: Codable {\\n    let url: String\\n}\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2aservice\\n```swift\\nstruct Service {\\n    private let apiKey = \\"Your Apikey\\"\\n    private let pageSize = 10\\n    private let query = \\"cat\\"\\n    \\n    private let decoder: JSONDecoder = {\\n        let decoder = JSONDecoder()\\n        decoder.keyDecodingStrategy = .convertFromSnakeCase\\n        return decoder\\n    }()\\n\\n    func fetchGifs(page: Int) async -> [Gif] {\\n        let offset = page * pageSize\\n        guard let url = URL(string: \\"https://api.giphy.com/v1/gifs/search?api_key=\\\\(apiKey)&q=\\\\(query)&limit=\\\\(pageSize)&offset=\\\\(offset)\\") else {\\n            return []\\n        }\\n        do {\\n            let (data, _) = try await URLSession.shared.data(from: url)\\n            let response = try decoder.decode(Response.self, from: data)\\n            return response.data\\n        } catch {\\n            print(error)\\n            return []\\n        }\\n    }\\n}\\n```\\n\\n3. \u663e\u793a\u548c\u8bf7\u6c42\u6570\u636e\\n```swift\\nstruct ContentView: View {\\n    let service = Service()\\n    @State var gifs: [Gif] = []\\n    @State var page = 1\\n    var body: some View {\\n        List(gifs) { gif in\\n            VStack {\\n                LazyImage(source: gif.url).aspectRatio(contentMode: .fit)\\n                Text(gif.title)\\n            }\\n            .task {\\n               if gif == gifs.last {\\n                   page += 1\\n                   gifs += await service.fetchGifs(page: page)\\n                }\\n            }\\n        }\\n        .listStyle(.plain)\\n        .task {\\n            gifs = await service.fetchGifs(page: page)\\n        }\\n    }\\n}\\n```\\n\\n![image-20220117151140247](https://tva1.sinaimg.cn/large/008i3skNgy1gygotgq3guj30c60os408.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u5728\u6bcf\u4e2acell\u4e0a\u4e5f\u52a0\u4e86\u4e00\u4e2a.task\uff0c\u4f46\u662f\u53ea\u4f1a\u5728\u8fd9\u4e2acell\u662f\u6700\u540e\u4e00\u4e2acell\u65f6\u624d\u89e6\u53d1\uff0c\u8fd9\u6837\uff0c\u5f53\u6700\u540e\u4e00\u4e2acell\u5373\u5c06\u663e\u793a\u65f6\uff0c\u4f1a\u89e6\u53d1service\uff0c\u52a0\u8f7d\u4e0b\u4e00\u9875\u7684\u6570\u636e\u3002"},{"id":"/2022/01/20/SwiftUI\u4e13\u8f91-078-completionBlock\u8f6c\u5316\u4e3aasync-await","metadata":{"permalink":"/2022/01/20/SwiftUI\u4e13\u8f91-078-completionBlock\u8f6c\u5316\u4e3aasync-await","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-20-SwiftUI\u4e13\u8f91-078-completionBlock\u8f6c\u5316\u4e3aasync-await/index.md","source":"@site/blog/2022-01-20-SwiftUI\u4e13\u8f91-078-completionBlock\u8f6c\u5316\u4e3aasync-await/index.md","title":"SwiftUI\u4e13\u8f91078-completionBlock\u8f6c\u5316\u4e3aasync/await","description":"headerimg","date":"2022-01-20T00:00:00.000Z","formattedDate":"2022\u5e741\u670820\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"async","permalink":"/tags/async"}],"readingTime":1.74,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91078-completionBlock\u8f6c\u5316\u4e3aasync/await","tags":["swiftUI","async"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868","permalink":"/2022/01/21/SwiftUI\u4e13\u8f91-079-\u5b9e\u73b0\u4e00\u4e2a\u65e0\u9650\u6eda\u52a8\u5217\u8868"},"nextItem":{"title":"SwiftUI\u4e13\u8f91077-\u4e0b\u62c9\u5237\u65b0","permalink":"/2022/01/19/SwiftUI\u4e13\u8f91-077-\u4e0b\u62c9\u5237\u65b0"}},"content":"![headerimg](./Header.png)\\n\u5982\u679c\u4f60\u6709\u4e00\u4e9b\u8001\u7684\u4ee3\u7801\u4f7f\u7528completion block\u7684\u65b9\u5f0f\u5904\u7406\u5f02\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u6539\u4e3a\u4f7f\u7528async/await\u7684\u65b9\u5f0f\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\uff1a**PaletteGenerator**\\n\\n\u6211\u4eec\u5c06https://github.com/gscalzo/Lorikeet\u4e09\u65b9\u5e93\uff0c\u4ee5\u6e90\u7801\u7684\u65b9\u5f0f\u96c6\u6210\u3002\\n\\n\u5728Utils.swift\u4e2d\u52a0\u5165`import UIKit`\uff0c\u5904\u7406\u7f16\u8bd1\u9519\u8bef\u3002\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efa\u4e00\u4e2aList\uff0c\u663e\u793aColor\\n```swift\\nextension Color: Identifiable {\\n    public var id: String {\\n        self.description\\n    }\\n}\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @State var colors: [Color] = []\\n    var body: some View {\\n        ScrollView {\\n            LazyVStack(spacing: 0) {\\n                ForEach(colors){  color in\\n                    Rectangle()\\n                        .foregroundColor(color)\\n                        .frame(height: 100)\\n                }\\n            }\\n        }.edgesIgnoringSafeArea(.vertical)\\n    }\\n}\\n```\\n\\n2. \u52a0\u5165extension\\n```swift\\nextension Color {\\n    var lkt: Lorikeet {\\n        UIColor(self).lkt\\n    }\\n}\\n\\nextension Lorikeet {\\n    func generateColorScheme(numberOfColors: Int, withRange range: HSVRange? = nil, using algorithm: Algorithm = .cie2000) async -> [Color] {\\n        await withCheckedContinuation({ continuation in\\n            generateColorScheme(numberOfColors: numberOfColors, withRange: range, using: algorithm) { colors in\\n                continuation.resume(returning: colors.map{ Color($0) })\\n            }\\n        })\\n    }\\n}\\n```\\n\\n3. \u751f\u6210colors\\n```swift\\nstruct ContentView: View {\\n    @State var colors: [Color] = []\\n    var body: some View {\\n        ScrollView {\\n            LazyVStack(spacing: 0) {\\n                ForEach(colors){  color in\\n                    Rectangle()\\n                        .foregroundColor(color)\\n                        .frame(height: 100)\\n                }\\n            }\\n        }\\n        .edgesIgnoringSafeArea(.vertical)\\n        .task {\\n            colors = await Color.blue.lkt.generateColorScheme(numberOfColors: 10)\\n        }\\n    }\\n}\\n```\\n\\n![image-20220117144110684](https://tva1.sinaimg.cn/large/008i3skNgy1gygnxqm3ikj30ca0ost99.jpg)\\n\\n## How it works\u2026\\n\\n\u539f\u59cb\u7684generateColorScheme\u662f\u901a\u8fc7completion block\uff0c\u8c03\u7528\u6210\u529f\u56de\u8c03\u3002\\n\\n\u6211\u4eec\u901a\u8fc7**withCheckedContinuation**\u51fd\u6570\uff0c\u5c06\u5176\u8f6c\u5316\u4e3aasync/await\u51fd\u6570\u3002\\n\\n\u5982\u679c\u6211\u4eec\u7684\u51fd\u6570\u540c\u65f6\u8fd8\u6709error, \u6bd4\u5982\uff1a\\n\\n```swift\\nfunc oldAPI(completion: (Result<[UIColor], Error>) -> Void)\\n```\\n\\n\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528**withCheckedThrowingContinuation**\u51fd\u6570:\\n\\n```swift\\nfunc newAPI() async throws -> [UIColor] {\\n    try await withCheckedThrowingContinuation { continuation in\\n        oldAPI { result in\\n            switch result {\\n            case .success(let value):\\n                continuation.resume(returning: value)\\n            case .failure(let error):\\n                continuation.resume(throwing: error)\\n            }\\n        }\\n    }\\n}\\n```"},{"id":"/2022/01/19/SwiftUI\u4e13\u8f91-077-\u4e0b\u62c9\u5237\u65b0","metadata":{"permalink":"/2022/01/19/SwiftUI\u4e13\u8f91-077-\u4e0b\u62c9\u5237\u65b0","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-19-SwiftUI\u4e13\u8f91-077-\u4e0b\u62c9\u5237\u65b0/index.md","source":"@site/blog/2022-01-19-SwiftUI\u4e13\u8f91-077-\u4e0b\u62c9\u5237\u65b0/index.md","title":"SwiftUI\u4e13\u8f91077-\u4e0b\u62c9\u5237\u65b0","description":"headerimg","date":"2022-01-19T00:00:00.000Z","formattedDate":"2022\u5e741\u670819\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"async","permalink":"/tags/async"}],"readingTime":1.39,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91077-\u4e0b\u62c9\u5237\u65b0","tags":["swiftUI","async"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91078-completionBlock\u8f6c\u5316\u4e3aasync/await","permalink":"/2022/01/20/SwiftUI\u4e13\u8f91-078-completionBlock\u8f6c\u5316\u4e3aasync-await"},"nextItem":{"title":"SwiftUI\u4e13\u8f91076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3","permalink":"/2022/01/18/SwiftUI\u4e13\u8f91-076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3"}},"content":"![headerimg](./Header.png)\\n\u4e0b\u62c9\u5237\u65b0\u7684\u529f\u80fd\u5f88\u5e38\u89c1\uff0c\u5728swiftui\u4e2d\u4e5f\u6709\u652f\u6301\uff0c\u5e76\u4e14\u652f\u6301async/await\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**RefreshableCrypto**\uff0ctarget\u9009\u62e9ios15\u4ee5\u4e0a\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u521b\u5efaModel\\n\\n```swift\\nstruct Coin: Decodable, Identifiable {\\n    let id: Int\\n    let coinName: String\\n    let acronym: String\\n    let logo: String\\n}\\n```\\n\\n2. \u521b\u5efa\u6211\u4eec\u7684service\\n```swift\\nstruct Service {\\n    private let decoder: JSONDecoder = {\\n        let decoder = JSONDecoder()\\n        decoder.keyDecodingStrategy = .convertFromSnakeCase\\n        return decoder\\n    }()\\n\\n    func fetchCoins() async -> [Coin] {\\n        guard let url = URL(string:\\"https://random-data-api.com/api/crypto_coin/random_crypto_coin?size=10\\") else {\\n            return []\\n        }\\n        do {\\n            let (data, _) = try await URLSession.shared.data(from: url)\\n            let list = try decoder.decode([Coin].self, from: data)\\n            return list.sorted {\\n                $0.acronym < $1.acronym\\n            }\\n        } catch {\\n            return []\\n        }\\n    }\\n}\\n```\\n\\n3. \u521b\u5efa\u5217\u8868, \u83b7\u53d6\u6570\u636e\\n```swift\\nstruct LogoView: View {\\n    let coin: Coin\\n    var body: some View {\\n        AsyncImage(url: URL(string: coin.logo), content: { image in\\n            image.resizable()\\n                .aspectRatio(contentMode: .fit)\\n                .frame(maxWidth: 40, maxHeight: 40)\\n            }, placeholder: {\\n                ProgressView()\\n            }\\n        )\\n    }\\n}\\n\\nstruct CoinView: View {\\n    let coin: Coin\\n    var body: some View {\\n        HStack {\\n            Text(\\"\\\\(coin.acronym): \\\\(coin.coinName)\\")\\n            Spacer()\\n            LogoView(coin: coin)\\n        }\\n    }\\n}\\n\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    let service = Service()\\n    @State var coins: [Coin] = []\\n    var body: some View {\\n        List(coins) {\\n            CoinView(coin: $0)\\n        }\\n        .listStyle(.plain)\\n        .refreshable {\\n            coins = await service.fetchCoins()\\n        }.task {\\n            coins = await service.fetchCoins()\\n        }\\n    }\\n}\\n```\\n\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gygiphw8dbg306a0ckwgo.gif)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u4f7f\u7528 **.refreshable{}**\u4fee\u9970\u7b26\uff0c\u6dfb\u52a0\u4e0b\u62c9\u5237\u65b0\u529f\u80fd\u3002"},{"id":"/2022/01/18/SwiftUI\u4e13\u8f91-076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3","metadata":{"permalink":"/2022/01/18/SwiftUI\u4e13\u8f91-076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-18-SwiftUI\u4e13\u8f91-076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3/index.md","source":"@site/blog/2022-01-18-SwiftUI\u4e13\u8f91-076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3/index.md","title":"SwiftUI\u4e13\u8f91076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3","description":"headerimg","date":"2022-01-18T00:00:00.000Z","formattedDate":"2022\u5e741\u670818\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"async","permalink":"/tags/async"}],"readingTime":1.805,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3","tags":["swiftUI","async"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91077-\u4e0b\u62c9\u5237\u65b0","permalink":"/2022/01/19/SwiftUI\u4e13\u8f91-077-\u4e0b\u62c9\u5237\u65b0"},"nextItem":{"title":"SwiftUI\u4e13\u8f91075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570","permalink":"/2022/01/17/SwiftUI\u4e13\u8f91-075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570"}},"content":"![headerimg](./Header.png)\\n**async** **await**\u8ba9\u7f51\u7edc\u8bf7\u6c42\u53d8\u5f97\u7b80\u5355\u4e86\uff0c\u6211\u4eec\u4e0d\u7528\u518d\u4f7f\u7528\u56de\u8c03\u673a\u5236\u4e86\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2aApp\uff1a**SpamWords**\u3002target\u4fdd\u8bc1ios15\u4ee5\u4e0a\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u521b\u5efa\u6211\u4eec\u7684model\\n```swift\\nstruct Language: Decodable, Identifiable {\\n    var id: String { code }\\n    let code: String\\n    let label: String\\n}\\n\\nstruct LanguageList: Decodable {\\n    let codeLanguages: [Language]\\n}\\n\\nstruct SpamWords: Decodable {\\n    let words: [String]\\n}\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2aservice\u6765\u53d1\u8d77\u8bf7\u6c42\\n```swift\\nstruct SpamWordsLanguagesService {\\n    private let decoder: JSONDecoder = {\\n        let decoder = JSONDecoder()\\n        decoder.keyDecodingStrategy = .convertFromSnakeCase\\n        return decoder\\n    }()\\n    \\n    private func fetch<T: Decodable>(type: T.Type, from urlString: String) async -> T? {\\n        guard let url = URL(string: urlString) else { return nil }\\n        do {\\n            let (data, _) = try await URLSession.shared.data(from: url, delegate: nil)\\n            return try decoder.decode(type, from: data)\\n        } catch {\\n            return nil\\n        }\\n    }\\n    \\n    func fetchLanguages() async -> [Language] {\\n        await fetch(type: LanguageList.self, from: \\"https://www.spam-words.com/api/languages\\")?.codeLanguages ?? []\\n    }\\n    \\n    func fetchWords(language: Language) async -> [String] {\\n        await fetch(type: SpamWords.self, from: \\"https://www.spam-words.com/api/words/\\" + language.code)?.words ?? []\\n    }\\n}\\n```\\n\\n3. \u521b\u5efa\u6211\u4eec\u7684language\u5217\u8868\\n```swift\\nstruct ContentView: View {\\n    let service = SpamWordsLanguagesService()\\n    @State var languages: [Language] = []\\n    var body: some View {\\n        NavigationView {\\n            List(languages) { language in\\n                NavigationLink {\\n                    Text(language.label)\\n                } label: {\\n                    Text(language.label)\\n                }\\n            }\\n            .listStyle(.plain)\\n            .navigationTitle(\\"Languages\\")\\n            .task {\\n                languages = await service.fetchLanguages()\\n            }\\n        }\\n    }\\n}\\n```\\n\\n4. \u521b\u5efa\u6211\u4eec\u7684words\u5217\u8868\uff0c\u5e76\u66f4\u6362NavigationLink\u7684destination\u4e3a\u6211\u4eec\u7684word\u5217\u8868\\n```swift\\nstruct SpamWordsView: View {\\n    let language: Language\\n    let service = SpamWordsLanguagesService()\\n    @State var words: [String] = []\\n    var body: some View {\\n        List(words, id: \\\\.self) { word in\\n            Text(word)\\n        }\\n        .navigationTitle(language.label)\\n        .task {\\n          words = await service.fetchWords(language: language)\\n        }\\n    }\\n}\\n```\\n\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gygi9mpzi2g306a0ckjs8.gif)\\n\\n## How it works\u2026\\n\\nios15\u5f00\u59cb\uff0cURLSession\u63d0\u4f9b\u4e86async/await\u7684\u76f8\u5173\u63a5\u53e3\u3002\u5176\u8fd4\u56de\u4e00\u4e2adata\u548chttpResponse\u3002\\n\\n```swift\\nlet (data, _) = try await URLSession.shared.data(from: url, delegate: nil)\\n```"},{"id":"/2022/01/17/SwiftUI\u4e13\u8f91-075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570","metadata":{"permalink":"/2022/01/17/SwiftUI\u4e13\u8f91-075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-17-SwiftUI\u4e13\u8f91-075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570/index.md","source":"@site/blog/2022-01-17-SwiftUI\u4e13\u8f91-075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570/index.md","title":"SwiftUI\u4e13\u8f91075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570","description":"headerimg","date":"2022-01-17T00:00:00.000Z","formattedDate":"2022\u5e741\u670817\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"async","permalink":"/tags/async"}],"readingTime":1.35,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570","tags":["swiftUI","async"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3","permalink":"/2022/01/18/SwiftUI\u4e13\u8f91-076-\u7528async\u51fd\u6570\u8bf7\u6c42\u63a5\u53e3"},"nextItem":{"title":"SwiftUI\u4e13\u8f91074-\u8c03\u8bd5Combine","permalink":"/2022/01/16/SwiftUI\u4e13\u8f91-074-\u8c03\u8bd5Combine"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u6765\u770b\u770b\u4e00\u4e2asleep5\u79d2\u7684async\u51fd\u6570\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**AsyncAwaitSwiftUI**\\n\\n## How to do it\u2026\\n\\n1. \u5b9a\u4e49\u4e00\u4e2aService\\n```swift\\nclass Service {\\n    func fetchResult() async -> String {\\n        await sleep(seconds: 5)\\n        return \\"Result\\"\\n    }\\n    \\n    private func sleep(seconds: Int) async {\\n        try? await Task.sleep(nanoseconds: UInt64(seconds * 1000000000))\\n    }\\n}\\n```\\n\\n2. \u5728ContentView\u4e2d\u52a0\u4e2a\u6309\u94ae\\n```swift\\nstruct ContentView: View {\\n    let service = Service()\\n    @State var value: String = \\"\\"\\n    @State var counter = 0\\n\\n    var body: some View {\\n        VStack {\\n            Text(value)\\n            Text(\\"\\\\(counter)\\")\\n            Button {\\n                counter += 1\\n            } label: {\\n                Text(\\"increment\\")\\n            }\\n            .buttonStyle(.bordered)\\n        }.task {    \\n            value = await service.fetchResult()\\n        }\\n    }\\n}\\n```\\n\\n![image-20220114172236414](https://tva1.sinaimg.cn/large/008i3skNgy1gydbqrx86aj30c60p2aab.jpg)\\n\\n## How it works\u2026\\n\\n.task\u4fee\u9970\u7b26\u548c.onAppear\u4fee\u9970\u7b26\u7c7b\u4f3c\uff0c\u4f46\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e/\u6211\u4eec\u53ef\u4ee5\u5728.task\u4fee\u9970\u7b26\u4e2d\u4f7f\u7528async\u51fd\u6570\uff0c.onAppear\u5374\u4e0d\u884c\u3002\\n\\n\u53e6\u5916\u8fd8\u6709\u4e2a\u9700\u8981\u6ce8\u610f\u7684\uff0casync\u6267\u884c\u5e94\u8be5\u662f\u5728\u67d0\u4e2a\u540e\u53f0\u7ebf\u7a0b\u4e2d\u6267\u884c\u7684\uff0c\u4f46\u662f\u6211\u4eecUI\u7684\u66f4\u65b0\u9700\u8981\u5728\u4e3b\u7ebf\u7a0b\uff0c\u5982\u679c\u6211\u4eec\u6253\u65ad\u70b9\u5728.task\u4e2d\uff0c\u53d1\u73b0\u786e\u5b9e\u662f\u4e3b\u7ebf\u7a0b\uff0c\u6253\u65ad\u70b9\u5728async\u51fd\u6570\u4e2d\uff0c\u4e5f\u53d1\u73b0\u786e\u5b9e\u662f\u5728\u540e\u53f0\u7ebf\u7a0b\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u770b\u5230.task\u4f1a\u81ea\u52a8\u5207\u6362\u5230\u4e3b\u7ebf\u7a0b\u4e0a\u6267\u884c\u3002\\n\\n![image-20220117105712763](https://tva1.sinaimg.cn/large/008i3skNgy1gyghgr0kouj31js0hcgpe.jpg)\\n\\n![image-20220117105728560](https://tva1.sinaimg.cn/large/008i3skNgy1gyghgz8tezj31i40f6wgs.jpg)"},{"id":"/2022/01/16/SwiftUI\u4e13\u8f91-074-\u8c03\u8bd5Combine","metadata":{"permalink":"/2022/01/16/SwiftUI\u4e13\u8f91-074-\u8c03\u8bd5Combine","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-16-SwiftUI\u4e13\u8f91-074-\u8c03\u8bd5Combine/index.md","source":"@site/blog/2022-01-16-SwiftUI\u4e13\u8f91-074-\u8c03\u8bd5Combine/index.md","title":"SwiftUI\u4e13\u8f91074-\u8c03\u8bd5Combine","description":"headerimg","date":"2022-01-16T00:00:00.000Z","formattedDate":"2022\u5e741\u670816\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"Combine","permalink":"/tags/combine"}],"readingTime":1.915,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91074-\u8c03\u8bd5Combine","tags":["swiftUI","Combine"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570","permalink":"/2022/01/17/SwiftUI\u4e13\u8f91-075-SwiftUI\u4e2d\u4f7f\u7528async\u51fd\u6570"},"nextItem":{"title":"SwiftUI\u4e13\u8f91073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42","permalink":"/2022/01/15/SwiftUI\u4e13\u8f91-073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u8c03\u8bd5Combine Stream\u7684\u4e09\u79cd\u65b9\u6cd5\u3002\u6211\u627f\u8ba4\u8fd9\u4e09\u4e2a\u90fd\u6709\u70b9\u57fa\u7840\u3002\u4f46\u662f\uff0c\u5b83\u4eec\u662f\u4e00\u4e2a\u8d77\u70b9\uff0c\u5e94\u8be5\u8db3\u4ee5\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u5982\u4f55\u5904\u7406stream\u4e2d\u7684\u9519\u8bef\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u9879\u76ee**DebuggingCombine**\\n\\n## How to do it\u2026\\n\\n\u6211\u4eec\u5c06\u76f4\u63a5\u521b\u5efa3\u4e2a\u6309\u94ae\uff0c\u6765\u5c1d\u8bd5\u8c03\u8bd5Combine\u76843\u79cd\u65b9\u5f0f\u3002\\n\\n1. \u5148\u521b\u5efa\u4e00\u4e2a\u5305\u542b3\u4e2a\u4e8b\u4ef6\u7684model\\n```swift\\nclass ReactiveObject {\\n    private var cancellableSet: Set<AnyCancellable> = []\\n    func handleEvents() {\\n\\n    }\\n\\n    func printDebug() {\\n\\n    }\\n\\n    func breakPoint() {\\n\\n    }\\n}\\n```\\n\\n2. ContentView\u4e2d\u52a0\u51653\u4e2a\u6309\u94ae\uff0c\u8c03\u7528\u8fd93\u4e2a\u51fd\u6570\\n```swift\\nstruct ContentView: View {\\n    var reactiveObject = ReactiveObject()\\n    var body: some View {\\n        VStack(spacing: 24) {\\n            Button {\\n                reactiveObject.handleEvents()\\n            } label: {\\n                Text(\\"HandleEvents\\")\\n                    .foregroundColor(.white)\\n                    .frame(width: 200, height: 50)\\n                    .background(Color.green)\\n            }\\n\\n            Button {\\n                reactiveObject.printDebug()\\n            } label: {\\n                Text(\\"Print\\")\\n                    .foregroundColor(.white)\\n                    .frame(width: 200, height: 50)\\n                    .background(Color.orange)\\n            }\\n\\n            Button {\\n                reactiveObject.breakPoint()\\n            } label: {\\n                Text(\\"Breakpoint\\")\\n                    .foregroundColor(.white)\\n                    .frame(width: 200, height: 50)\\n                    .background(Color.red)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n3. \u5b9e\u73b0\u6211\u4eec\u76843\u4e2a\u51fd\u6570\\n```swift\\nfunc handleEvents() {\\n    let subject = PassthroughSubject<String, Never>()\\n    subject\\n    .handleEvents(receiveSubscription: {\\n        print(\\"Receive subscription: \\\\($0)\\")\\n    }, receiveOutput: {\\n        print(\\"Received output: \\\\($0)\\")\\n    }, receiveCompletion: {\\n        print(\\"Receive completion: \\\\($0)\\")\\n    }, receiveCancel: {\\n        print(\\"Receive cancel\\")\\n    }, receiveRequest: {\\n        print(\\"Receive request: \\\\($0)\\")\\n    })\\n    .sink { _ in }\\n    .store(in: &cancellableSet)\\n    subject.send(\\"New Message!\\")\\n}\\n\\nfunc printDebug() {\\n    let subject = PassthroughSubject<String, Never>()\\n    subject\\n    .print(\\"Print\\")\\n    .sink { _ in }\\n    .store(in: &cancellableSet)\\n    subject.send(\\"New Message!\\")\\n}\\n\\nfunc breakPoint() {\\n    (1..<10).publisher\\n    .breakpoint(receiveOutput: {\\n        $0 == 7\\n    }) { $0 == .finished }\\n    .sink { _ in }\\n    .store(in: &cancellableSet)\\n}\\n```\\n\\n![Figure_10.10_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gydagxexplj30b4074glt.jpg)\\n\\n## How it works\u2026\\n\\n**.handleEvents()**\u63d0\u4f9b\u4e86\u5728\u63a5\u6536\u5404\u79cd\u503c\u65f6\u7684\u81ea\u5b9a\u4e49\u64cd\u4f5c\u3002\\n\\n**.print()** \u662f.handleEvents()\u7684\u4e00\u4e2a\u7b80\u5355\u6253\u5370\u7684\u7248\u672c\u3002\\n\\n**.breakpoint()**\u4f1a\u5728\u6ee1\u8db3\u6761\u4ef6\u65f6\u8fdb\u5165\u65ad\u70b9\u3002\\n\\n\u53e6\u5916\u63a8\u8350\u4e0bhttp://timelane.tools/\u8fd9\u4e2a\u5de5\u5177\uff0c\u8ba9\u4f60\u80fd\u591f\u53ef\u89c6\u5316\u6570\u636e\u6d41\u3002"},{"id":"/2022/01/15/SwiftUI\u4e13\u8f91-073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42","metadata":{"permalink":"/2022/01/15/SwiftUI\u4e13\u8f91-073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-15-SwiftUI\u4e13\u8f91-073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42/index.md","source":"@site/blog/2022-01-15-SwiftUI\u4e13\u8f91-073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42/index.md","title":"SwiftUI\u4e13\u8f91073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42","description":"headerimg","date":"2022-01-15T00:00:00.000Z","formattedDate":"2022\u5e741\u670815\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"Combine","permalink":"/tags/combine"}],"readingTime":2.82,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42","tags":["swiftUI","Combine"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91074-\u8c03\u8bd5Combine","permalink":"/2022/01/16/SwiftUI\u4e13\u8f91-074-\u8c03\u8bd5Combine"},"nextItem":{"title":"SwiftUI\u4e13\u8f91072-Combine\u548cForm","permalink":"/2022/01/14/SwiftUI\u4e13\u8f91-072-Combine\u548cForm"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u5c06\u4f7f\u7528**OpenWeather**\u4e0a\u7684Api\u521b\u5efa\u4e00\u4e2a\u5929\u6c14App\uff0c\u663e\u793a\u6700\u8fd15\u5929\u7684\u5929\u6c14\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee**Weather**\\n\\n\u5230OpenWeather\u4e0a\u6ce8\u518c\u4e2a\u8d26\u53f7\uff0c\u62ff\u5230\u4e00\u4e2aApiKey\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u521b\u5efaModel\\n```swift\\nstruct Weather: Decodable, Identifiable {\\n    var id: TimeInterval { time.timeIntervalSince1970 }\\n    let time: Date\\n    let summary: String\\n    let icon: String\\n    let temperature: Double\\n    \\n    enum CodingKeys: String, CodingKey {\\n        case time = \\"dt\\"\\n        case weather = \\"weather\\"\\n        case summary = \\"description\\"\\n        case main = \\"main\\"\\n        case icon = \\"icon\\"\\n        case temperature = \\"temp\\"\\n    }\\n    \\n    init(from decoder: Decoder) throws {\\n        let container = try decoder.container(keyedBy: CodingKeys.self)\\n        time = try container.decode(Date.self, forKey: .time)\\n        var weatherContainer = try container.nestedUnkeyedContainer(forKey: .weather)\\n        let weather = try weatherContainer.nestedContainer(keyedBy: CodingKeys.self)\\n        summary = try weather.decode(String.self, forKey: .summary)\\n        icon = try weather.decode(String.self, forKey: .icon)\\n        let main = try container.nestedContainer(keyedBy: CodingKeys.self, forKey: .main)\\n        temperature = try main.decode(Double.self, forKey: .temperature)\\n    }\\n}\\n\\nstruct ForecastWeather: Decodable {\\n    let list: [Weather]\\n}\\n\\nextension Double {\\n    var formatted: String {\\n        String(format: \\"%.0f\\", self)\\n    }\\n}\\nextension String {\\n    var weatherIcon: String {\\n        switch self {\\n        case \\"01d\\": return \\"sun.max\\"\\n        case \\"02d\\": return \\"cloud.sun\\"\\n        case \\"03d\\": return \\"cloud\\"\\n        case \\"04d\\": return \\"cloud.fill\\"\\n        case \\"09d\\": return \\"cloud.rain\\"\\n        case \\"10d\\": return \\"cloud.sun.rain\\"\\n        case \\"11d\\": return \\"cloud.bolt\\"\\n        case \\"13d\\": return \\"cloud.snow\\"\\n        case \\"50d\\": return \\"cloud.fog\\"\\n        case \\"01n\\": return \\"moon\\"\\n        case \\"02n\\": return \\"cloud.moon\\"\\n        case \\"03n\\": return \\"cloud\\"\\n        case \\"04n\\": return \\"cloud.fill\\"\\n        case \\"09n\\":return \\"cloud.rain\\"\\n        case \\"10n\\": return \\"cloud.moon.rain\\"\\n        case \\"11n\\": return \\"cloud.bolt\\"\\n        case \\"13n\\": return \\"cloud.snow\\"\\n        case \\"50n\\": return \\"cloud.fog\\"\\n        default: return \\"icloud.slash\\"\\n        }\\n    }\\n}\\n```\\n\\n2. \u521b\u5efa\u6211\u4eec\u7684ViewModel\\n```swift\\nclass WeatherService: ObservableObject {\\n    @Published var errorMessage: String = \\"\\"\\n    @Published var current: Weather?\\n    @Published var forecast: [Weather] = []\\n\\n    private let apiKey = \\"Your ApiKey\\"\\n    private var cancellableSet: Set<AnyCancellable> = []\\n\\n    func load(latitude: Float, longitude: Float) {\\n        let decoder = JSONDecoder()\\n        decoder.dateDecodingStrategy = .secondsSince1970\\n        let currentURL = URL(string: \\"https://api.openweathermap.org/data/2.5/weather?lat=\\\\(latitude)&lon=\\\\(longitude)&appid=\\\\(apiKey)&units=metric\\")!\\n        URLSession\\n            .shared\\n            .dataTaskPublisher(for: URLRequest(url: currentURL))\\n            .map(\\\\.data)\\n            .decode(type: Weather.self, decoder: decoder)\\n            .receive(on: RunLoop.main)\\n            .sink { completion in\\n                switch completion {\\n                case .finished: break\\n                case let .failure(error):\\n                    self.errorMessage = error.localizedDescription\\n                }\\n            } receiveValue: {\\n                self.current = $0\\n            }\\n            .store(in: &self.cancellableSet)\\n\\n        let forecastURL = URL(string: \\"https://api.openweathermap.org/data/2.5/forecast?lat=\\\\(latitude)&lon=\\\\(longitude)&appid=\\\\(apiKey)&units=metric\\")!\\n        URLSession\\n            .shared\\n            .dataTaskPublisher(for: URLRequest(url: forecastURL))\\n            .map(\\\\.data)\\n            .decode(type: ForecastWeather.self, decoder: decoder)\\n            .receive(on: RunLoop.main)\\n            .sink { completion in\\n                switch completion {\\n                case .finished: break\\n                case let .failure(error):\\n                    self.errorMessage = error.localizedDescription\\n                }\\n            } receiveValue: {\\n                self.forecast = $0.list\\n            }\\n            .store(in: &self.cancellableSet)\\n    }\\n}\\n```\\n\\n3. \u521b\u5efaView\\n```swift\\n@available(iOS 15.0, *)\\nstruct CurrentWeather: View {\\n    let current: Weather\\n    var body: some View {\\n        VStack(spacing: 28) {\\n            Text(current.time.formatted(date: .long, time: .standard))\\n            HStack {\\n                Image(systemName: current.icon.weatherIcon)\\n                    .font(.system(size: 98))\\n                Text(\\"\\\\(current.temperature.formatted)\xb0\\")\\n                    .font(.system(size: 46))\\n            }\\n            Text(\\"\\\\(current.summary)\\")\\n        }\\n    }\\n}\\n@available(iOS 15.0, *)\\nstruct WeatherRow: View {    \\n    let weather: Weather\\n    var body: some View {\\n        HStack() {\\n            Image(systemName: weather.icon.weatherIcon)\\n                .frame(width: 40)\\n                .font(.system(size: 28))\\n            VStack(alignment: .leading) {\\n                Text(weather.summary)\\n                Text(weather.time.formatted(date: .long, time: .standard))\\n                    .font(.system(.footnote))\\n            }\\n            Spacer()\\n            Text(\\"\\\\(weather.temperature.formatted)\xb0 \\")\\n                .frame(width: 40)\\n        }\\n        .padding(.horizontal, 16)\\n    }\\n}\\n```\\n\\n4. \u663e\u793a\u6211\u4eec\u7684View\\n```swift\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @StateObject\\n    var weatherService = WeatherService()\\n    var body: some View {\\n        VStack {\\n            Text(weatherService.errorMessage)\\n                .font(.largeTitle)\\n            if let currentWeather = weatherService.current {\\n                VStack {\\n                    CurrentWeather(current: currentWeather)\\n                    List(weatherService.forecast) {\\n                        WeatherRow(weather: $0)\\n                    }.listStyle(.plain)\\n                }\\n\\n            }\\n        }.task {\\n            weatherService.load(latitude: 51.5074, longitude: 0.1278)\\n        }\\n    }\\n}\\n```\\n\\n![image-20220114161548273](https://tva1.sinaimg.cn/large/008i3skNgy1gyd9t9sqvdj30ce0oywg0.jpg)"},{"id":"/2022/01/14/SwiftUI\u4e13\u8f91-072-Combine\u548cForm","metadata":{"permalink":"/2022/01/14/SwiftUI\u4e13\u8f91-072-Combine\u548cForm","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-14-SwiftUI\u4e13\u8f91-072-Combine\u548cForm/index.md","source":"@site/blog/2022-01-14-SwiftUI\u4e13\u8f91-072-Combine\u548cForm/index.md","title":"SwiftUI\u4e13\u8f91072-Combine\u548cForm","description":"headerimg","date":"2022-01-14T00:00:00.000Z","formattedDate":"2022\u5e741\u670814\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"Combine","permalink":"/tags/combine"}],"readingTime":4.22,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91072-Combine\u548cForm","tags":["swiftUI","Combine"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42","permalink":"/2022/01/15/SwiftUI\u4e13\u8f91-073-Combine\u548c\u7f51\u7edc\u8bf7\u6c42"},"nextItem":{"title":"SwiftUI\u4e13\u8f91071-\u4e00\u4e2a\u5b9a\u65f6\u5668App","permalink":"/2022/01/13/SwiftUI\u4e13\u8f91-071-\u4e00\u4e2a\u5b9a\u65f6\u5668App"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u6ce8\u518c\u9875\u9762\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2a\u7528\u6237\u540d\u8f93\u5165\u6846\u548c\u4e24\u4e2a\u5bc6\u7801\u8f93\u5165\u6846\uff0c\u4e00\u4e2a\u7528\u4e8e\u5bc6\u7801\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u786e\u8ba4\u5bc6\u7801\u3002\\n\\n\u7528\u6237\u540d\u6700\u5c116\u4e2a\u5b57\u7b26\uff0c\u5bc6\u7801\u81f3\u5c11\u6709\u516b\u4e2a\u5b57\u7b26\uff0c\u4e14\u7531\u6570\u5b57\u3001\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u548c\u7279\u6b8a\u5b57\u7b26\u7ec4\u6210\uff0c\u4f8b\u5982*\uff01*, *#* , *$*\u7b49\u7b49\u3002\u6b64\u5916\uff0c\u5bc6\u7801\u548c\u786e\u8ba4\u5bc6\u7801\u5fc5\u987b\u5339\u914d\u3002\u5f53\u6240\u6709\u5b57\u6bb5\u90fd\u6709\u6548\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u5165\u4e0b\u4e00\u9875\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**FormValidation**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u597d\u6211\u4eec\u7684ViewModel\\n```swift\\nclass SignupViewModel: ObservableObject {\\n  \\t//\u8f93\u5165\\n    @Published var username = \\"\\"\\n    @Published var password = \\"\\"\\n    @Published var confirmPassword = \\"\\"\\n    //\u8f93\u51fa\\n    @Published var isValid = false\\n    @Published var usernameMessage = \\"\\"\\n    @Published var passwordMessage = \\"\\"\\n    private var cancellableSet: Set<AnyCancellable> = []\\n}\\n```\\n\\n2. \u6211\u4eec\u5f00\u59cb\u51c6\u5907\u903b\u8f91\\n```swift\\nenum PasswordCheck {\\n    case valid\\n    case invalidLength\\n    case noMatch\\n    case weakPassword\\n}\\n\\nextension SignupViewModel {\\n    // \u7528\u6237\u540d\u662f\u5426\u6709\u6548(\u81f3\u5c116\u4e2a\u5b57\u7b26)\\n    var usernameValidPublisher: AnyPublisher<Bool, Never> {\\n        return $username\\n            .debounce(for: 0.5, scheduler: RunLoop.main)\\n            .removeDuplicates()\\n            .map { $0.count >= 6 }\\n            .eraseToAnyPublisher()\\n    }\\n    //\u5bc6\u7801\u957f\u5ea6\u81f3\u5c118\u4f4d\\n    var validPasswordLengthPublisher: AnyPublisher<Bool, Never> {\\n        return $password\\n            .debounce(for: 0.5, scheduler: RunLoop.main, options: nil)\\n            .removeDuplicates()\\n            .map { $0.count >= 8 }\\n            .eraseToAnyPublisher()\\n    }\\n    //\u7531\u6570\u5b57\u548c\u5b57\u6bcd\u7ec4\u6210\uff0c\u81f3\u5c11\u6709\u4e00\u4e2a\u5927\u5199\u5b57\u6bcd\u548c\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\\n    var strongPasswordPublisher: AnyPublisher<Bool, Never> {\\n        return $password\\n            .debounce(for: 0.2, scheduler: RunLoop.main, options: nil)\\n            .removeDuplicates()\\n            .map(\\\\.isStrong)\\n            .eraseToAnyPublisher()\\n    }\\n    //\u4e24\u4e2a\u5bc6\u7801\u5339\u914d\\n    var matchingPasswordsPublisher: AnyPublisher<Bool, Never> {\\n        return Publishers.CombineLatest($password, $confirmPassword)\\n            .debounce(for: 0.2, scheduler: RunLoop.main, options: nil)\\n            .map { password, confirmedPassword in\\n                password == confirmedPassword\\n            }.eraseToAnyPublisher()\\n    }\\n    //\u5bc6\u7801\u6709\u6548\\n    var passwordValidPublisher: AnyPublisher<PasswordCheck, Never> {\\n        return Publishers.CombineLatest3(validPasswordLengthPublisher, strongPasswordPublisher, matchingPasswordsPublisher)\\n            .map { validLength, strong, matching in\\n                if (!validLength) { return .invalidLength }\\n                if (!strong) { return .weakPassword }\\n                if (!matching) { return .noMatch }\\n                return .valid\\n            }.eraseToAnyPublisher()\\n    }\\n    //\u6574\u4e2aForm\u6709\u6548\\n    var formValidPublisher: AnyPublisher<Bool, Never> {\\n        return Publishers.CombineLatest(usernameValidPublisher, passwordValidPublisher)\\n            .map { usernameIsValid, passwordIsValid in\\n                return usernameIsValid && (passwordIsValid == .valid)\\n            }.eraseToAnyPublisher()\\n    }\\n}\\n\\nextension String {\\n    var isStrong: Bool {\\n        containsACharacter(from: .lowercaseLetters) &&//\u5305\u542b\u5b57\u6bcd\\n        containsACharacter(from: .uppercaseLetters) &&\\n        containsACharacter(from: .decimalDigits) && //\u5305\u542b\u6570\u5b57\\n        containsACharacter(from: .alphanumerics.inverted)\\n    }\\n\\n    private func containsACharacter(from set: CharacterSet) -> Bool {\\n        rangeOfCharacter(from: set) != nil\\n    }\\n}\\n```\\n\\n3. \u5f00\u59cb\u7ed1\u5b9a\\n```swift\\nclass SignupViewModel: ObservableObject {\\n  ....\\n//\u7ed1\u5b9a\\ninit() {\\n    usernameValidPublisher\\n        .receive(on: RunLoop.main)\\n        .map { $0 ? \\"\\" : \\"Username must be at least 6 characters\\" }\\n        .assign(to: \\\\.usernameMessage, on: self)\\n        .store(in: &cancellableSet)\\n    passwordValidPublisher\\n        .receive(on: RunLoop.main)\\n        .map { passwordCheck in\\n            switch passwordCheck {\\n            case .invalidLength:\\n                return \\"Password must be at least 8 characters long\\"\\n            case .noMatch:\\n                return \\"Passwords don\'t match\\"\\n            case .weakPassword:\\n                return \\"Password is too weak\\"\\n            default:\\n                return \\" \\"\\n            }\\n        }.assign(to: \\\\.passwordMessage, on: self)\\n        .store(in: &cancellableSet)\\n\\n    formValidPublisher\\n        .receive(on: RunLoop.main)\\n        .assign(to: \\\\.isValid, on: self)\\n        .store(in: &cancellableSet)\\n}\\n}\\n```\\n\\n4. \u6784\u5efaUI\\n```swift\\nstruct CustomStyle: ViewModifier {\\n    func body(content: Content) -> some View {\\n        content\\n            .frame(height: 40)\\n            .background(Color.white)\\n            .cornerRadius(5)\\n    }\\n}\\n\\nextension TextField {\\n    func custom() -> some View {\\n        modifier(CustomStyle())\\n            .autocapitalization(.none)\\n    }\\n}\\n\\nextension SecureField {\\n    func custom() -> some View {\\n        modifier(CustomStyle())\\n    }\\n}\\n\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @ObservedObject\\n    private var signupViewModel = SignupViewModel()\\n\\n    var body: some View {\\n        ZStack {\\n            Color.yellow.opacity(0.2)\\n            VStack(spacing: 24) {\\n                VStack(alignment: .leading) {\\n                    Text(signupViewModel.usernameMessage)\\n                        .foregroundColor(.red)\\n                    TextField(\\"Username\\", text: $signupViewModel.username)\\n                        .custom()\\n                }\\n                VStack(alignment: .leading) {\\n                    Text(signupViewModel.passwordMessage)\\n                        .foregroundColor(.red)\\n                    SecureField(\\"Password\\", text: $signupViewModel.password)\\n                        .custom()\\n                    SecureField(\\"Repeat Password\\", text: $signupViewModel.confirmPassword)\\n                        .custom()\\n                }\\n                Button {\\n                    print(\\"Succesfully registered!\\")\\n                } label: {\\n                    Text(\\"Register\\")\\n                        .foregroundColor(.white)\\n                        .frame(width: 100, height: 44)\\n                        .background(signupViewModel.isValid ? Color.green : Color.red)\\n                        .cornerRadius(10)\\n                }.disabled(!signupViewModel.isValid)\\n            }\\n            .padding(.horizontal, 24)\\n        }\\n        .edgesIgnoringSafeArea(.all)\\n    }\\n}\\n```\\n\\n![Figure_10.6_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gyd888iflcj30b40b4gm2.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a\\n\\n- \u6211\u4eec\u7684\u6bcf\u4e2apublisher\u540e\u9762\u90fd\u6709\u4e2a**eraseToAnyPublisher()**, \u539f\u56e0\u662f\u6211\u4eec\u524d\u9762\u7ec4\u5408\u591a\u4e2a\u4fee\u9970\u7b26\u4f1a\u521b\u5efa\u4e00\u4e9b\u590d\u6742\u7684\u5d4c\u5957\u7c7b\u578b\uff0c\u800c\u6211\u4eec\u5e0c\u671b\u7684\u8f93\u51fa\u53ea\u662f\u4e00\u4e2aPublisher\u3002\u901a\u8fc7eraseToAnyPublisher\u80fd\u5c06\u590d\u6742\u7684\u5d4c\u5957\u7c7b\u578b\u8f6c\u6362\u6210\u4e00\u4e2aPublisher\u3002\\n- \u6211\u4eec\u901a\u8fc7 **.debounce()** \uff0c\u9632\u6b62\u7528\u6237\u5feb\u901f\u8f93\u5165\u65f6\uff0c\u4ea7\u751f\u5927\u91cf\u7684event\u3002\\n- **.map(\\\\.isStrong)**\u8ba9\u6211\u4eec\u80fd\u591f\u4ee5keypath\u4f5c\u4e3a\u53c2\u6570\uff0c\u7b49\u4ef7\u4e8e\u4e0b\u9762\u7684\\n```swift\\n.map { password in\\n\\n    return password.isStrong\\n\\n}\\n```\\n\\n-  **Publishers.CombineLatest** \u548c **Publishers.CombineLatest3**\u5c06\u591a\u4e2apublisher\u7ec4\u5408\u8d77\u6765\u3002"},{"id":"/2022/01/13/SwiftUI\u4e13\u8f91-071-\u4e00\u4e2a\u5b9a\u65f6\u5668App","metadata":{"permalink":"/2022/01/13/SwiftUI\u4e13\u8f91-071-\u4e00\u4e2a\u5b9a\u65f6\u5668App","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-13-SwiftUI\u4e13\u8f91-071-\u4e00\u4e2a\u5b9a\u65f6\u5668App/index.md","source":"@site/blog/2022-01-13-SwiftUI\u4e13\u8f91-071-\u4e00\u4e2a\u5b9a\u65f6\u5668App/index.md","title":"SwiftUI\u4e13\u8f91071-\u4e00\u4e2a\u5b9a\u65f6\u5668App","description":"headerimg","date":"2022-01-13T00:00:00.000Z","formattedDate":"2022\u5e741\u670813\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"Combine","permalink":"/tags/combine"}],"readingTime":2.215,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91071-\u4e00\u4e2a\u5b9a\u65f6\u5668App","tags":["swiftUI","Combine"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91072-Combine\u548cForm","permalink":"/2022/01/14/SwiftUI\u4e13\u8f91-072-Combine\u548cForm"},"nextItem":{"title":"SwiftUI\u4e13\u8f91070-Combine\u7b80\u4ecb","permalink":"/2022/01/12/SwiftUI\u4e13\u8f91-070-Combine\u7b80\u4ecb"}},"content":"![headerimg](./Header.png)\\n\u5f53\u6211\u4eecsubscribe\u4e00\u4e2apublisher\u540e\uff0c\u8fd9\u4e2a\u7ed3\u679c\u9700\u8981\u5b58\u50a8\u5230\u67d0\u4e2a\u5730\u65b9\uff0c\u901a\u5e38\u6211\u4eec\u90fd\u662f\u901a\u8fc7\u8c03\u7528`.store`\u65b9\u6cd5\u5b58\u50a8\u5728\u67d0\u4e2a **AnyCancellable Set**\u4e2d\u3002\u4f46\u662f\u6bcf\u4e2a\u90fd\u8fd9\u4e48\u7528\uff0c\u53ef\u80fd\u4f1a\u663e\u5f97\u6709\u70b9\u91cd\u590d\uff0c\u6211\u4eec\u5c06\u7528@ResultBuilder\u6765\u5305\u88f9\u6240\u6709\u7684subscribtion\uff0c\u5c06\u6240\u6709AnyCancellable\u653e\u5230\u540c\u4e00\u4e2aset\u4e2d\u3002\\n\\n\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5b9a\u65f6\u5668\u7684\u4f8b\u5b50\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**StopWatch**\\n\\n## How to do it\u2026\\n\\n1. \u6784\u5efa\u6570\u636emodel\\n```swift\\nclass StopWatchTimer: ObservableObject {\\n    @Published var deciseconds: Int = 0\\n    @Published var seconds: Int = 0\\n    @Published var minutes: Int = 0\\n    @Published var started = false\\n    private var cancellableSet: Set<AnyCancellable> = []\\n\\n    func start() {\\n    }\\n\\n    func stop() {\\n    }\\n}\\n```\\n\\n2. \u5b9e\u73b0start\u548cstop\\n```swift\\nfunc stop() {\\n    cancellableSet = []\\n    started = false\\n}\\n\\nfunc start() {\\n    cancellableSet.store {\\n        Timer.publish(every: 0.1, on: RunLoop.main)\\n            .autoconnect()\\n            .sink { _ in\\n                self.deciseconds = (self.deciseconds + 1)%10\\n            }\\n        Timer.publish(every: 1.0, on: RunLoop.main)\\n            .autoconnect()\\n            .sink { _ in\\n                self.seconds = (self.seconds + 1)%60\\n            }\\n        Timer.publish(every: 60, on: RunLoop.main)\\n            .autoconnect()\\n            .sink { _ in\\n                self.minutes = (self.minutes + 1)%60\\n            }\\n    }\\n  started = true\\n}\\n```\\n\\n3. \u5b9e\u73b0`cancellableSet.store`\u65b9\u6cd5\\n```swift\\ntypealias CancellableSet = Set<AnyCancellable>\\nextension CancellableSet {\\n    mutating func store(@CancellableBuilder _ cancellables: () -> [AnyCancellable]) {\\n        formUnion(cancellables())\\n    }\\n\\n    @resultBuilder\\n    struct CancellableBuilder {\\n        static func buildBlock(_ cancellables:AnyCancellable...) -> [AnyCancellable] {\\n            return cancellables\\n        }\\n    }\\n}\\n\\n```\\n\\n4. \u5b9e\u73b0UI\\n\\n```swift\\nextension Int {\\n    var formatted: String {\\n        String(format: \\"%02d\\", self)\\n    }\\n}\\n\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @StateObject private var timer = StopWatchTimer()\\n    var body: some View {\\n        VStack(spacing: 12) {\\n            HStack(spacing: 0) {\\n                Text(\\"\\\\(timer.minutes.formatted)\\")\\n                    .font(.system(size: 80))\\n                    .frame(width: 100)\\n                Text(\\":\\")\\n                    .font(.system(size: 80))\\n                Text(\\"\\\\(timer.seconds.formatted)\\")\\n                    .font(.system(size: 80))\\n                    .frame(width: 100)\\n                Text(\\":\\")\\n                    .font(.system(size: 80))\\n                Text(\\"\\\\(timer.deciseconds.formatted)\\")\\n                    .font(.system(size: 80))\\n                    .frame(width: 100)\\n            }\\n            Button {\\n                if timer.started {\\n                    timer.stop()\\n                } else {\\n                    timer.start()\\n                }\\n            } label: {\\n                Text(timer.started ? \\"Stop\\" : \\"Start\\")\\n                    .foregroundColor(.white)\\n                    .padding(.horizontal, 24)\\n                    .padding(.vertical, 16)\\n                    .frame(width: 100)\\n                    .background(timer.started ? Color.red : Color.green)\\n                    .cornerRadius(5)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n![image-20220113180947904](https://tva1.sinaimg.cn/large/008i3skNgy1gyc7hms97sj30bw0oqgly.jpg)\\n\\n## How it works\u2026\\n\\n\u9996\u5148\u6211\u4eec\u5b66\u4e60\u4e86`Timer.publish`\uff0c\u77e5\u9053\u4e86\u5982\u4f55\u751f\u6210\u65f6\u95f4\u3002\\n\\n\u7136\u540e**.autoconnect()**\u8ba9publisher\u7acb\u9a6c\u5f00\u59cb\u3002\\n\\n\u6700\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u4e86@ResultBuilder\uff0c\u8fd9\u6837\u5728builder\u95ed\u5305\u4e2d\u7684\u591a\u4e2asubscribe\u4ea7\u751f\u7684**AnyCancellable**\u5c31\u4f1a\u88ab\u6536\u96c6\u8d77\u6765\u653e\u5230cancellableSet\u4e2d\u3002"},{"id":"/2022/01/12/SwiftUI\u4e13\u8f91-070-Combine\u7b80\u4ecb","metadata":{"permalink":"/2022/01/12/SwiftUI\u4e13\u8f91-070-Combine\u7b80\u4ecb","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-12-SwiftUI\u4e13\u8f91-070-Combine\u7b80\u4ecb/index.md","source":"@site/blog/2022-01-12-SwiftUI\u4e13\u8f91-070-Combine\u7b80\u4ecb/index.md","title":"SwiftUI\u4e13\u8f91070-Combine\u7b80\u4ecb","description":"headerimg","date":"2022-01-12T00:00:00.000Z","formattedDate":"2022\u5e741\u670812\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"},{"label":"Combine","permalink":"/tags/combine"}],"readingTime":3.965,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91070-Combine\u7b80\u4ecb","tags":["swiftUI","Combine"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91071-\u4e00\u4e2a\u5b9a\u65f6\u5668App","permalink":"/2022/01/13/SwiftUI\u4e13\u8f91-071-\u4e00\u4e2a\u5b9a\u65f6\u5668App"},"nextItem":{"title":"SwiftUI\u4e13\u8f91069-@EnvironmentObject","permalink":"/2022/01/11/SwiftUI\u4e13\u8f91-069-@EnvironmentObject"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u8fd8\u662f\u6765\u770b\u4e2a**CoreLocation**\u7684\u4f8b\u5b50\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**CombineCoreLocationManager**\\n\\n**PROJECT** > **Info**\u4e2d\u6dfb\u52a0\u83b7\u53d6\u5b9a\u4f4d\u6743\u9650Key\uff1a**NSLocationWhenInUseUsageDescription**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u5b9e\u73b0\u4e2aLocationManager\uff0c\u5c01\u88c5\u4e00\u4e0bCLLocationManager\u3002\\n```swift\\nimport CoreLocation\\nimport SwiftUI\\nclass LocationManager: NSObject {\\n    enum LocationError: String, Error {\\n        case restricted\\n        case denied\\n        case unknown\\n    }\\n\\n    private let locationManager = CLLocationManager()\\n\\n    override init() {\\n        super.init()\\n        self.locationManager.delegate = self\\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest\\n        self.locationManager.requestWhenInUseAuthorization()\\n    }\\n\\n    func start() {\\n        self.locationManager.startUpdatingLocation()\\n    }\\n}\\n```\\n\\n2. \u76ee\u524d\u4e3a\u6b62\u548cCombine\u8fd8\u6ca1\u4ec0\u4e48\u5173\u7cfb\uff0c\u6211\u4eec\u7ee7\u7eed\u6dfb\u52a02\u4e2aPublisher\\n```swift\\nclass LocationManager: NSObject {\\n  ...\\n  let statusPublisher = PassthroughSubject<CLAuthorizationStatus, LocationError>()\\n\\tlet locationPublisher = PassthroughSubject<CLLocation?, Never>()\\n  ...\\n}\\n\\n```\\n\\n3. \u7136\u540e\u6211\u4eec\u5b9e\u73b0CLLocationManagerDelegate\uff0c\u628a\u56de\u8c03\u7684value\u8f6c\u53d1\u7ed9publisher\\n```swift\\nextension LocationManager: CLLocationManagerDelegate {\\n    func locationManagerDidChangeAuthorization(_ manager: CLLocationManager) {\\n        switch manager.authorizationStatus {\\n        case .restricted: self.statusPublisher.send(completion: .failure(.restricted))\\n        case .denied: self.statusPublisher.send(completion: .failure(.denied))\\n        case .notDetermined, .authorizedAlways,.authorizedWhenInUse:\\n            self.statusPublisher.send(manager.authorizationStatus)\\n        @unknown default:\\n            self.statusPublisher.send(completion: .failure(.unknown))\\n        }\\n    }\\n\\n    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\\n        guard let location = locations.last else { return }\\n        locationPublisher.send(location)\\n    }\\n}\\n```\\n\\n3. \u521b\u5efa\u4e00\u4e2a**LocationViewModel**\uff0c\u7528\u4e8e\u63d0\u4f9b\u754c\u9762\u663e\u793a\u7684\u6570\u636e\\n```swift\\nextension Optional where Wrapped == CLLocation {\\n    var latitudeDescription: String {\\n        guard let self = self else {\\n            return \\"-\\"\\n        }\\n        return String(format: \\"%0.4f\\", self.coordinate.latitude)\\n    }\\n\\n    var longitudeDescription: String {\\n        guard let self = self else {\\n            return \\"-\\"\\n        }\\n        return String(format: \\"%0.4f\\", self.coordinate.longitude)\\n    }\\n}\\n\\nclass LocationViewModel: ObservableObject {\\n    @Published\\n    private var status: CLAuthorizationStatus = .notDetermined\\n    @Published\\n    private var currentLocation: CLLocation?\\n    @Published\\n    var errorMessage = \\"\\"\\n    private let locationManager = LocationManager()\\n\\n    private var cancellableSet: Set<AnyCancellable> = []\\n    init() {\\n        self.locationManager\\n            .statusPublisher\\n            .debounce(for: 0.5, scheduler: RunLoop.main)\\n            .removeDuplicates()\\n            .sink { completion in\\n                switch completion {\\n                case .finished: break\\n                case let .failure(error):\\n                    self.errorMessage = error.rawValue\\n                }\\n            } receiveValue: { self.status = $0 }\\n            .store(in: &self.cancellableSet)\\n\\n        self.locationManager.locationPublisher\\n            .debounce(for: 0.5, scheduler: RunLoop.main)\\n            .removeDuplicates(by: self.lessThanOneMeter)\\n            .assign(to: \\\\.currentLocation, on: self)\\n            .store(in: &self.cancellableSet)\\n    }\\n\\n    private func lessThanOneMeter(_ lhs: CLLocation?, _ rhs: CLLocation?) -> Bool {\\n        if lhs == nil && rhs == nil {\\n            return true\\n        }\\n        guard let lhr = lhs,\\n              let rhr = rhs else {\\n            return false\\n        }\\n        return lhr.distance(from: rhr) < 1\\n    }\\n\\n    func startUpdating() {\\n        self.locationManager.start()\\n    }\\n\\n    // \u51c6\u5907UI\u6570\u636e\\n    var thereIsAnError: Bool {\\n        !self.errorMessage.isEmpty\\n    }\\n\\n    var latitude: String {\\n        self.currentLocation.latitudeDescription\\n    }\\n\\n    var longitude: String {\\n        self.currentLocation.longitudeDescription\\n    }\\n\\n    var statusDescription: String {\\n        switch self.status {\\n        case .notDetermined: return \\"notDetermined\\"\\n        case .authorizedWhenInUse: return \\"authorizedWhenInUse\\"\\n        case .authorizedAlways: return \\"authorizedAlways\\"\\n        case .restricted: return \\"restricted\\"\\n        case .denied: return \\"denied\\"\\n        @unknown default: return \\"unknown\\"\\n        }\\n    }\\n}\\n```\\n\\n4. \u7136\u540e\u518dContentView\u4e2d\u4f7f\u7528\\n```swift\\nstruct ContentView: View {\\n    @StateObject var locationViewModel = LocationViewModel()\\n    var body: some View {\\n        Group {\\n            if locationViewModel.thereIsAnError {\\n                Text(\\"Location Service terminated with error:\\\\(locationViewModel.errorMessage)\\")\\n            } else {\\n                Text(\\"Status:\\\\(locationViewModel.statusDescription)\\")\\n                HStack {\\n                    Text(\\"Latitude: \\\\(locationViewModel.latitude)\\")\\n                    Text(\\"Longitude:\\\\(locationViewModel.longitude)\\")\\n                }\\n            }\\n        }.padding(.horizontal, 24)\\n        .task {\\n            locationViewModel.startUpdating()\\n        }\\n    }\\n}\\n```\\n\\n![Figure_10.4_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gyc5m0w4i6j30b40b5q3a.jpg)\\n\\n## How it works\u2026\\n\\n\u9996\u5148\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u6211\u4eec **@Published** \u4fee\u9970\u7684\u662f **private**\u53d8\u91cf\uff0c\u4f60\u53ef\u80fd\u611f\u5230\u5947\u602a\uff0c\u901a\u5e38\u6211\u4eec\u90fd\u662f\u8bbe\u7f6e\u4e3aPublic\uff0c\u8fd9\u6837\u80fd\u591f\u8ba9\u5916\u90e8\u8bbf\u95ee\uff0c\u4e0d\u8fc7\u6211\u4eec\u8fd9\u91cc\u662fViewModel\uff0c\u6570\u636e\u9700\u8981\u88ab\u52a0\u5de5\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u6240\u4ee5\u6211\u4eec\u9690\u85cf\u539f\u59cb\u6570\u636e\uff0c\u66b4\u9732\u52a0\u5de5\u540e\u7684\u6570\u636e\u3002\\n\\n\u9996\u5148\uff0c\u6211\u4eec\u5728LocationManager\u4e2d\u5b9a\u4e49\u4e862\u4e2apublisher\uff0c\u4ed6\u4eec\u662fSubject\u3002subject\u662f\u7ba1\u7406\u8f93\u5165\u7684\uff0c\u6709\u4e00\u4e2a`.send`\u65b9\u6cd5\u6765\u53d1\u9001event\u3002\u5e38\u7528\u7684subject\u662f\uff1a**CurrentValueSubject** \u548c **PassthroughSubject**\u3002\\n\\nCurrentValueSubject\u6709\u521d\u59cb\u503c\uff0c\u81ea\u5df1\u7ef4\u62a4\u6539\u53d8\u7684\u503c\uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u4f55subscribers\u3002\\n\\nPassthroughSubject\u6ca1\u6709\u521d\u59cb\u503c\uff0c\u5982\u679c\u6ca1\u6709subscribers\uff0c\u6536\u5230\u7684\u503c\u4f1a\u88ab\u629b\u5f03\u3002\\n\\n```swift\\n//\u53ef\u4ee5\u7c7b\u6bd4RxSwift\u7684onEvent, onError, onCompleted\\n// \u53d1\u9001event\\nstatusPublisher.send(status)\\n//\u53d1\u9001finish\\nstatusPublisher.send(completion: .finish)\\n//\u53d1\u9001\u5931\u8d25\\nstatusPublisher.send(completion: .failure(.restricted))\\n```\\n\\n\u7136\u540e\u6211\u4eec\u518d\u6765\u770b\u770bsubscribe\uff0c\u6211\u4eec\u5728Init\u65b9\u6cd5\u4e2d\u505a\u7684subscribe\u3002\\n\\n```swift\\nlocationManager.locationPublisher\\n\\t// \u8282\u6d41\\n    .debounce(for: 0.5, scheduler: RunLoop.main)\\n\\t// \u79fb\u9664\u91cd\u590d\\n    .removeDuplicates(by: lessThanOneMeter)\\n\\t// \u76f8\u5f53\u4e8erxswift\u7684 subscribe\\n    .assign(to: \\\\.currentLocation, on: self)\\n\\t// \u76f8\u5f53\u4e8erxswift\u7684 addToDisposeBag()\\n    .store(in: &cancellableSet)// cancellableSet\u76f8\u5f53\u4e8eDisposeBag\\n```\\n\\n`sink`\u53ef\u4ee5\u540c\u65f6\u63a5\u53d7completion\u72b6\u6001\u548crecivedValue\uff0c\u53ef\u4ee5\u66f4\u7cbe\u786e\u7684\u5904\u7406\u6570\u636e\u3002"},{"id":"/2022/01/11/SwiftUI\u4e13\u8f91-069-@EnvironmentObject","metadata":{"permalink":"/2022/01/11/SwiftUI\u4e13\u8f91-069-@EnvironmentObject","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-11-SwiftUI\u4e13\u8f91-069-@EnvironmentObject/index.md","source":"@site/blog/2022-01-11-SwiftUI\u4e13\u8f91-069-@EnvironmentObject/index.md","title":"SwiftUI\u4e13\u8f91069-@EnvironmentObject","description":"headerimg","date":"2022-01-11T00:00:00.000Z","formattedDate":"2022\u5e741\u670811\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.26,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91069-@EnvironmentObject","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91070-Combine\u7b80\u4ecb","permalink":"/2022/01/12/SwiftUI\u4e13\u8f91-070-Combine\u7b80\u4ecb"},"nextItem":{"title":"SwiftUI\u4e13\u8f91068-@StateObject","permalink":"/2022/01/10/SwiftUI\u4e13\u8f91-068-@StateObject"}},"content":"![headerimg](./Header.png)\\n\u6709\u65f6\u6211\u4eec\u5fc5\u987b\u5728\u591a\u4e2a\u89c6\u56fe\u4e4b\u95f4\u5171\u4eab\u6570\u636e\uff0c\u6bd4\u5982\uff1aThemeManager\u3002\\n\\n\u5982\u679c\u4f60\u901a\u8fc7View\u5c42\u7ea7\u4e00\u5c42\u4e00\u5c42\u4f20\u9012\uff0c\u90a3\u5b9e\u5728\u662f\u592a\u70e6\u4e86\u3002\\n\\nSwiftUI \u901a\u8fc7 **Environment** \u7684\u6982\u5ff5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898, \u5728\u90a3\u6dfb\u52a0\u516c\u5171\u5bf9\u8c61(\u901a\u5e38\u90fd\u662fObservableObject), \u8fd9\u4e9b\u5bf9\u8c61\u4f1a\u5728View chain\u4e2d\u5171\u4eab \u3002\\n\\n\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**SongPlayer**\\n\\n\u518d\u627e6\u5f20\u56fe\u7247\uff0c\u4f5c\u4e3a\u6b4c\u66f2\u5c01\u9762\uff0c\u6dfb\u52a0\u5230\u9879\u76ee\u7684**Assets**\u4e0b\u3002\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efaSong\u7684Model\\n```swift\\nstruct Song: Identifiable, Equatable {\\n    var id = UUID()\\n    let artist: String\\n    let name: String\\n    let cover: String\\n}\\n```\\n\\n2. \u8ba9\u6211\u4eec\u6dfb\u52a0\u4e2a\u64ad\u653e\u5668\uff0c\u4fdd\u5b58\u5f53\u524d\u64ad\u653e\u7684\u6b4c\u66f2\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u64ad\u653e\u65b9\u6cd5\\n```swift\\nclass MusicPlayer: ObservableObject {\\n    @Published var currentSong: Song?\\n    func pressButton(song: Song) {\\n        if currentSong == song {\\n            currentSong = nil\\n        } else {\\n            currentSong = song\\n        }\\n    }\\n}\\n```\\n\\n3. \u5b9e\u73b0\u4e00\u4e2a\u64ad\u653e\u6309\u94ae\\n```swift\\nstruct PlayButton: View {\\n    @EnvironmentObject\\n    private var musicPlayer: MusicPlayer\\n    let song: Song\\n    private var buttonText: String {\\n        if song == musicPlayer.currentSong {\\n            return \\"stop\\"\\n        } else {\\n            return \\"play\\"\\n        }\\n    }\\n\\n    var body: some View {\\n        Button {\\n            musicPlayer.pressButton(song: song)\\n        } label: {\\n            Image(systemName: buttonText)\\n                .font(.system(.largeTitle))\\n                .foregroundColor(.black)\\n        }\\n    }\\n}\\n```\\n\\n4. \u5b9e\u73b0\u64ad\u653e\u5217\u8868\u7684cell\\n```swift\\nstruct SongView: View {\\n    @EnvironmentObject\\n    private var musicPlayer: MusicPlayer\\n    let song: Song\\n    var body: some View {\\n        HStack {\\n            NavigationLink(destination:PlayerView(song: song)) {\\n                Image(song.cover)\\n                    .renderingMode(.original)\\n                    .resizable()\\n                    .aspectRatio(contentMode: .fill)\\n                    .frame(width: 100, height: 100)\\n                VStack(alignment: .leading) {\\n                    Text(song.name)\\n                    Text(song.artist).italic()\\n                }\\n            }\\n\\n            Spacer()\\n\\n            PlayButton(song: song)\\n\\n        }.buttonStyle(PlainButtonStyle())\\n    }\\n}\\n```\\n\\n5. \u5b9e\u73b0\u64ad\u653e\u8be6\u60c5View\\n```swift\\nstruct PlayerView: View {\\n    @EnvironmentObject\\n    private var musicPlayer: MusicPlayer\\n    let song: Song\\n    var body: some View {\\n        VStack {\\n            Image(song.cover)\\n                .renderingMode(.original)\\n                .resizable()\\n                .aspectRatio(contentMode: .fill)\\n                .frame(width: 300, height: 300)\\n            HStack {\\n                Text(song.name)\\n                Text(song.artist).italic()\\n            }\\n            PlayButton(song: song)\\n        }\\n    }\\n}\\n```\\n\\n6. \u5b9e\u73b0\u4e00\u4e2amini\u64ad\u653e\u5668VIew\\n```swift\\nstruct MiniPlayerView: View {\\n    @EnvironmentObject\\n    private var musicPlayer: MusicPlayer\\n\\n    var body: some View {\\n        if let currentSong = musicPlayer.currentSong {\\n            SongView(song: currentSong)\\n                .padding(.all, 24)\\n        } else {\\n            EmptyView()\\n        }\\n    }\\n}\\n```\\n\\n7. \u5728ContentView\u4e2d\u51c6\u5907\u597d\u6570\u636e\uff0c\u663e\u793a\u64ad\u653e\u5217\u8868\\n```swift\\nstruct ContentView: View {\\n    @EnvironmentObject\\n    private var musicPlayer: MusicPlayer\\n\\n    private let songs = [\\n        Song(artist: \\"Luke\\", name: \\"99\\", cover: \\"cover0\\"),\\n        Song(artist: \\"Foxing\\", name: \\"No Trespassing\\", cover: \\"cover1\\"),\\n        Song(artist: \\"Breaking Benjamin\\", name: \\"Phobia\\", cover: \\"cover2\\"),\\n        Song(artist: \\"J2\\", name: \\"Solenoid\\", cover: \\"cover3\\"),\\n        Song(artist: \\"Wildflower Clothing\\", name: \\"Lightning Bottles\\", cover: \\"cover4\\"),\\n        Song(artist: \\"The Broken Spirits\\", name: \\"Rubble\\", cover: \\"cover5\\"),\\n    ]\\n\\n    var body: some View {\\n        ZStack(alignment: .bottom) {\\n            NavigationView {\\n                List(self.songs) { song in\\n                    SongView(song: song)\\n                }\\n                .listStyle(.plain)\\n                .navigationTitle(\\"Music Player\\")\\n            }\\n            MiniPlayerView()\\n                .background(.gray)\\n                .offset(y: 44)\\n        }\\n    }\\n}\\n```\\n\\n8. \u8bbe\u7f6epreview\u7684environmentObject\uff0c\u8fd9\u6837\u5728\u9884\u89c8\u4e2d\u5c31\u80fd\u770b\u5230\\n```swift\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        ContentView().environmentObject(MusicPlayer())\\n    }\\n}\\n```\\n\\n![Figure_9.9_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gyb27lxasgj30b407ewf5.jpg)\\n\\n## How it works\u2026\\n\\n\u6bcf\u4e2aView\u90fd\u4f1a\u88ab\u4ed6\u7684ancestors\u8bbe\u7f6eEnvironment\uff0c\u7136\u540eview\u53ef\u4ee5\u4eceEnvironment\u4e2d\u83b7\u53d6value\uff0c\u53ea\u9700\u8981\u6807\u8bb0\u4e3a@EnvironmentObject\u3002\\n\\n\u4f60\u53ef\u4ee5\u628aEnvironment\u8ba4\u4e3a\u662f\u4e00\u4e2aHashMap\uff0ckey\u662f\u5bf9\u8c61\u7684\u7c7b\u578b\uff0cvalue\u662f\u5bf9\u4e8e\u7684\u503c\u3002\\n\\n\u7531\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u65ad\u5728**Environment **\u4e0d\u80fd\u6709\u4e24\u4e2a\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u4e0d\u8fc7\u8fd9\u901a\u5e38\u4e0d\u662f\u95ee\u9898\uff0c\u6211\u4eec\u6709\u522b\u7684\u65b9\u6cd5\u89e3\u51b3\u3002"},{"id":"/2022/01/10/SwiftUI\u4e13\u8f91-068-@StateObject","metadata":{"permalink":"/2022/01/10/SwiftUI\u4e13\u8f91-068-@StateObject","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-10-SwiftUI\u4e13\u8f91-068-@StateObject/index.md","source":"@site/blog/2022-01-10-SwiftUI\u4e13\u8f91-068-@StateObject/index.md","title":"SwiftUI\u4e13\u8f91068-@StateObject","description":"headerimg","date":"2022-01-10T00:00:00.000Z","formattedDate":"2022\u5e741\u670810\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.715,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91068-@StateObject","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91069-@EnvironmentObject","permalink":"/2022/01/11/SwiftUI\u4e13\u8f91-069-@EnvironmentObject"},"nextItem":{"title":"SwiftUI\u4e13\u8f91067-@ObservedObject","permalink":"/2022/01/09/SwiftUI\u4e13\u8f91-067-@ObservedObject"}},"content":"![headerimg](./Header.png)\\n\u4e00\u5f00\u59cb**@ObservedObject**\u662f\u88ab\u7528\u6765\u628a\u903b\u8f91\u4eceView\u4e2d\u5206\u79bb\u51fa\u53bb\u7684\u3002\\n\\napple\u671f\u671b\u6211\u4eec\u4ece\u5916\u90e8\u4f20\u5165\u90a3\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u5728View\u5185\u90e8\u521b\u5efa\u8fd9\u4e2a\u5bf9\u8c61\u3002\u56e0\u4e3a\u5728\u5185\u90e8\u521b\u5efa\u7684\u8bdd\uff0c\u5c31\u5c06ObservedObject\u7684\u751f\u547d\u5468\u671f\u548cview\u7684\u751f\u547d\u5468\u671f\u7ed1\u5b9a\u5728\u4e86\u4e00\u8d77\uff0cView\u9500\u6bc1\uff0cObservedObject\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002\\n\\n\u4f46\u662f\u5b9e\u9645\u60c5\u51b5\u662f\uff0c\u6211\u4eec\u7684View\u5f88\u6709\u53ef\u80fd\u4f1a\u88ab\u4e0d\u65ad\u7684\u9500\u6bc1\u548c\u91cd\u5efa\uff0c\u8fd9\u79cd\u9500\u6bc1\u548c\u91cd\u5efa\u5e76\u4e0d\u662f\u6211\u4eec\u7684\u903b\u8f91\uff0c\u800c\u662fSwiftUI\u5237\u65b0\u754c\u9762\u7684\u89c4\u5219\uff0c\u6211\u4eec\u65e0\u6cd5\u5e72\u9884\u3002\u968f\u7740View\u7684\u9500\u6bc1\u548c\u91cd\u5efa\uff0c\u5185\u90e8\u7684state\u4e5f\u88ab\u91cd\u7f6e\u4e86\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f88\u5947\u602a\u7684\u884c\u4e3a\u3002\\n\\napple\u610f\u8bc6\u5230\u4e86\u8fd9\u4e00\u70b9\uff0c\u52a0\u4e86\u4e2a\u65b0\u7684**@StateObject**\u4fee\u9970\u7b26\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n\u672c\u6587\u5c06\u6f14\u793a\u8fd9\u79cd\u5947\u602a\u7684\u884c\u4e3a\uff0c\u5e76\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528@StateObject\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee**Counter**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aCounter\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2aViewModel\\n```swift\\nclass Counter: ObservableObject {\\n    @Published var value: Int = 0\\n    func inc() {\\n        value += 1\\n    }\\n\\n    func dec() {\\n        value -= 1\\n    }\\n}\\n```\\n\\n2. \u6784\u5efa\u6211\u4eec\u7684\u8ba1\u6570\u5668ConterView\\n```swift\\nstruct CounterView: View {\\n    @ObservedObject var counter = Counter()\\n  // @StateObject var counter = Counter()\\n    var body: some View {\\n        VStack(spacing: 12) {\\n            Text(\\"\\\\(counter.value)\\")\\n            HStack(spacing: 12){\\n                Button {\\n                    counter.dec()\\n                } label: {\\n                    Text(\\"-\\")\\n                        .padding()\\n                        .foregroundColor(.white)\\n                        .background(.red)\\n                }\\n                Button {\\n                    counter.inc()\\n                } label: {\\n                    Text(\\"+\\")\\n                        .padding()\\n                        .foregroundColor(.white)\\n                        .background(.red)\\n                }\\n            }\\n        }\\n    }\\n}\\n```\\n\\n3. \u5728ContentView\u4e2d\u4f7f\u7528\u6211\u4eec\u7684\u989dCounterView\uff0c\u5e76\u52a0\u4e2a\u6309\u94ae\u5237\u65b0\u754c\u9762\\n```swift\\nstruct ContentView: View {\\n    @State var refreshedAt: Date = Date()\\n    var body: some View {\\n        VStack(spacing:12) {\\n            Text(\\"Refresh at \\") + Text(refreshedAt.formatted(date: .omitted, time: .standard) )\\n            CounterView()\\n            Button {\\n                refreshedAt = Date()\\n            } label: {\\n                Text(\\"Refresh\\")\\n                    .padding()\\n                    .foregroundColor(.white)\\n                    .background(.blue)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n![image-20220112170337738](https://tva1.sinaimg.cn/large/008i3skNgy1gyazyfczwuj30by0osmxf.jpg)\\n\\n## How it works...\\n\\n\u5f53\u6211\u4eec\u70b9\u51fb\u52a0\u53f7\uff0c\u518d\u70b9\u51fbrefresh\uff0c\u6211\u4eec\u53d1\u73b0\u8ba1\u6570\u5668\u7684\u503c\u5f52\u96f6\u4e86\u3002\u8fd9\u4e0d\u662f\u6211\u4eec\u671f\u671b\u7684\uff0c\u6211\u4eec\u53ea\u60f3\u8981\u66f4\u65b0\u65f6\u95f4\u3002\\n\\n\u8fd9\u4e2a\u7684\u539f\u56e0\u662f\uff0c\u5f53\u6211\u4eec\u70b9\u51fb\u6309\u94ae\uff0c\u66f4\u65b0refreshedAt\uff0c\u8fd9\u4f1a\u91cd\u65b0render body\uff0c\u8fd9\u610f\u5473\u7740SwiftUI\u4f1a\u9500\u6bc1\u5f53\u524d\u7684View\uff0c\u91cd\u65b0\u6784\u5efa\uff0cCounterView\u4e5f\u91cd\u65b0\u6784\u5efa\u4e86\uff0c\u5185\u90e8\u7684value\u88ab\u91cd\u7f6e\u4e86\u3002\\n\\n\\n\\n\u73b0\u5728\u6211\u4eec\u5c06counter\u6539\u4e3a@StateObject\uff1a\\n\\n```swift\\n@StateObject var counter = Counter()\\n```\\n\\n\u5f53\u6211\u4eec\u70b9\u51fb\u52a0\u53f7\uff0c\u518d\u70b9\u51fbrefresh\uff0c\u4e00\u5207\u6b63\u5e38\uff0c\u8ba1\u6570\u5668\u7684\u503c\u4fdd\u7559\u4e86\u3002"},{"id":"/2022/01/09/SwiftUI\u4e13\u8f91-067-@ObservedObject","metadata":{"permalink":"/2022/01/09/SwiftUI\u4e13\u8f91-067-@ObservedObject","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-09-SwiftUI\u4e13\u8f91-067-@ObservedObject/index.md","source":"@site/blog/2022-01-09-SwiftUI\u4e13\u8f91-067-@ObservedObject/index.md","title":"SwiftUI\u4e13\u8f91067-@ObservedObject","description":"headerimg","date":"2022-01-09T00:00:00.000Z","formattedDate":"2022\u5e741\u67089\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.62,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91067-@ObservedObject","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91068-@StateObject","permalink":"/2022/01/10/SwiftUI\u4e13\u8f91-068-@StateObject"},"nextItem":{"title":"SwiftUI\u4e13\u8f91066-@Binding","permalink":"/2022/01/08/SwiftUI\u4e13\u8f91-066-@Binding"}},"content":"![headerimg](./Header.png)\\n\\n\u6211\u4eec\u4f7f\u7528@State\u65f6\u6709\u4e00\u70b9\u6211\u4eec\u53ef\u80fd\u5e76\u6ca1\u6709\u6ce8\u610f\u5230\uff0c\u90a3\u5c31\u662f\u591a\u6570\u65f6\u5019\u90fd\u662f\u4fee\u9970\u7684\u90fd\u662f\u503c\u7c7b\u578b\uff0c\u5982\u679c\u6211\u4eec\u7528@State\u53bb\u4fee\u9970\u5f15\u7528\u7c7b\u578b\u5462\uff1f\u8fd9\u5c31\u8981\u5c0f\u5fc3\u4e86\uff0c\u56e0\u4e3a\u6539\u53d8\u5f15\u7528\u7c7b\u578b\u5185\u90e8\u7684\u53d8\u91cf\uff0cSwiftUI\u5e76\u4e0d\u80fd\u611f\u77e5\u5230\uff0c\u6240\u4ee5\u4f60\u7684\u4fee\u6539\u53ef\u80fd\u5e76\u4e0d\u80fd\u53cd\u5e94\u5230UI\u4e0a\u3002\\n\\n\u90a3\u6211\u4eec\u786e\u5b9e\u9700\u8981\u4fee\u9970\u5f15\u7528\u7c7b\u578b\u5462\uff1f\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981@ObservedObject\u3002\\n\\n@ObservedObject\u4fee\u9970\u7684\u5bf9\u8c61\u9700\u8981\u9075\u5faa**ObservableObject**\u534f\u8bae\uff0c\u540c\u65f6\u9700\u8981\u88ab\u76d1\u542c\u7684\u5c5e\u6027\u8fd8\u9700\u8981\u7528**@Published**\u4fee\u9970\u3002\\n\\n\u8fd9\u5728\u5c06Foundation\u7684\u4e00\u4e9b\u5bf9\u8c61\u6865\u63a5\u5230SwiftUI\u4e2d\u4f1a\u975e\u5e38\u6709\u7528\u3002\u672c\u6587\u6211\u4eec\u5c06\u7528**CoreLocation**\u4e3a\u4f8b\u6765\u6f14\u793a\u4e00\u4e0b@ObservedObject\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**SwiftUICoreLocation**\\n\\n**PROJECT** > **Info** \u4e2d\u6dfb\u52a0\u83b7\u53d6\u5b9a\u4f4d\u7684key\uff1a**NSLocationWhenInUseUsageDescription**\uff0c\u5e76\u8bbe\u7f6e\u4e00\u4e2a\u63d0\u793a\u4fe1\u606f\u3002\\n\\n## How to do it\u2026\\n\\n\u6211\u4eec\u51c6\u5907\u5c06**CLLocationManager**\u5305\u88c5\u4e3a**ObservableObject**\uff0c\u7136\u540e\u66b4\u9732\u4e24\u4e2a\u5c5e\u6027\\n\\n- location\u7684\u72b6\u6001\\n- \u5f53\u524dlocation\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aLocationManager\\n```swift\\nclass LocationManager: NSObject, ObservableObject {\\n    private let locationManager = CLLocationManager()\\n    @Published var status: CLAuthorizationStatus?\\n    @Published var current: CLLocation?\\n    override init() {\\n        super.init()\\n        self.locationManager.delegate = self\\n        self.locationManager.distanceFilter = 10\\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest\\n        self.locationManager.requestWhenInUseAuthorization()\\n        self.locationManager.startUpdatingLocation()\\n    }\\n}\\n\\nextension LocationManager: CLLocationManagerDelegate {\\n    func locationManagerDidChangeAuthorization(_ manager: CLLocationManager) {\\n        self.status = manager.authorizationStatus\\n    }\\n    \\n    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\\n        guard let location = locations.last else { return }\\n        self.current = location\\n    }\\n}\\n\\nextension Optional where Wrapped == CLAuthorizationStatus {\\n    var description: String {\\n        guard let self = self else {\\n            return \\"unknown\\"\\n        }\\n        switch self {\\n        case .notDetermined: return \\"notDetermined\\"\\n        case .authorizedWhenInUse: return \\"authorizedWhenInUse\\"\\n        case .authorizedAlways: return \\"authorizedAlways\\"\\n        case .restricted: return \\"restricted\\"\\n        case .denied: return \\"denied\\"\\n        @unknown default: return \\"unknown\\"\\n        }\\n    }\\n}\\n\\nextension Optional where Wrapped == CLLocation {\\n    var latitudeDescription: String {\\n        guard let self = self else {\\n            return \\"-\\"\\n        }\\n        return \\"\\\\(self.coordinate.latitude)\\"\\n    }\\n    var longitudeDescription: String {\\n        guard let self = self else {\\n            return \\"-\\"\\n        }\\n        return \\"\\\\(self.coordinate.longitude)\\"\\n    }\\n}\\n```\\n\\n2. \u4f7f\u7528\u6211\u4eec\u7684LocationManager\\n```swift\\nstruct ContentView: View {\\n    @ObservedObject var locationManager = LocationManager()\\n    var body: some View {\\n        VStack {\\n            Text(\\"Status: \\\\(locationManager.status.description)\\")\\n            HStack {\\n                Text(\\"Latitude: \\\\(locationManager.current.latitudeDescription)\\")\\n                Text(\\"Longitude: \\\\(locationManager.current.longitudeDescription)\\")\\n\\n            }\\n        }\\n    }\\n}\\n```\\n\\n![image-20220112144140755](https://tva1.sinaimg.cn/large/008i3skNgy1gyavuq6giyj30c40omaad.jpg)\\n\\n## How it works\u2026\\n\\n\u4f60\u53ef\u4ee5\u8ba4\u4e3a**@Published**\u662f\u4e00\u79cd\u81ea\u52a8\u7684property observer\uff0c\u5f53value\u6539\u53d8\u65f6\uff0c\u80fd\u591f\u53d1\u51fa\u4e00\u4e2a\u901a\u77e5\u3002\\n\\n\u800c\u4f60\u7528**@ObservedObject** \u4fee\u9970\u7684\u4f1a\u63a5\u53d7\u5230\u901a\u77e5\uff0c\u5e76\u91cd\u65b0\u6e32\u67d3UI\u3002\\n\\n**@Published** \u662f **Combine** publisher\u7684\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u6211\u4eec\u4e4b\u540e\u4f1a\u4e86\u89e3\u4ed6\u3002"},{"id":"/2022/01/08/SwiftUI\u4e13\u8f91-066-@Binding","metadata":{"permalink":"/2022/01/08/SwiftUI\u4e13\u8f91-066-@Binding","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-08-SwiftUI\u4e13\u8f91-066-@Binding/index.md","source":"@site/blog/2022-01-08-SwiftUI\u4e13\u8f91-066-@Binding/index.md","title":"SwiftUI\u4e13\u8f91066-@Binding","description":"headerimg","date":"2022-01-08T00:00:00.000Z","formattedDate":"2022\u5e741\u67088\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":6.77,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91066-@Binding","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91067-@ObservedObject","permalink":"/2022/01/09/SwiftUI\u4e13\u8f91-067-@ObservedObject"},"nextItem":{"title":"SwiftUI\u4e13\u8f91065-@State","permalink":"/2022/01/07/SwiftUI\u4e13\u8f91-065-@State"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u4e0a\u4e00\u7bc7\u8bb2\u4e86@State\uff0c\u5982\u679c\u6211\u4eec\u6709\u5176\u4ed6VIew\u8981\u4fee\u6539\u6211\u4eec\u7684State\u5462\uff1f\\n\\n\u5728TodoList demo \u4e2d\uff0ctodos array\u662fstruct\uff0c\u662f\u503c\u7c7b\u578b\uff0c\u5982\u679c\u6211\u4eec\u4f20\u9012state\u5230child view\uff0c\u90a3\u4e48\u4f20\u9012\u7684\u662f\u503c\u7684copy\u3002\u5f53child view\u4fee\u6539array\u65f6\uff0c\u5e76\u4e0d\u80fd\u53cd\u6620\u5230parent view\u7684array\u4e2d\uff0c\u6240\u4ee5\u4e5f\u770b\u4e0d\u5230\u53d8\u5316\u3002\\n\\nSwiftUI\u901a\u8fc7**@Binding**\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5176\u672c\u8d28\u4e0a\u53ef\u4ee5\u770b\u6210\u662f\u751f\u6210\u4e00\u4e2a\u5bf9get\u548cset\u65b9\u6cd5\u7684\u5c01\u88c5struct\u3002\\n\\n\u6211\u4eec\u5c06\u6cbf\u7528\u4e0a\u4e00\u4e2aTodoList\u7684demo\u6765\u770b\u770b@Binding\u7684\u4f7f\u7528\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u6cbf\u7528\u4e0a\u4e00\u4e2aTodoList\u7684\u9879\u76ee\uff0c\u5982\u679c\u4f60\u65b0\u5efa\u9879\u76ee\u7684\u8bdd\uff0c\u53ef\u4ee5\u62f7\u8d1d\u5982\u4e0b\u4ee3\u7801\u5230\u9879\u76ee\u3002\\n\\n```swift\\nstruct Todo: Identifiable {\\n    let id = UUID()\\n    let description: String\\n    var done: Bool\\n}\\n\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @State var todos = [\\n        Todo(description: \\"review the first chapter\\", done: false),\\n        Todo(description: \\"buy wine\\", done: false),\\n        Todo(description: \\"paint kitchen\\", done: false),\\n        Todo(description: \\"cut the grass\\", done: false),\\n    ]    \\n    var body: some View {\\n        List($todos) { $todo in\\n            HStack {\\n                Text(todo.description).strikethrough(todo.done)\\n                Spacer()\\n                Image(systemName:todo.done ? \\"checkmark.square\\" : \\"square\\")\\n            }\\n            .contentShape(Rectangle())\\n            .onTapGesture {\\n                todo.done.toggle()\\n            }\\n        }\\n    }\\n}\\n```\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efa\u4e00\u4e2a\u65b0\u7684View\u6765\u6dfb\u52a0\u65b0\u7684todo\\n```swift\\n@available(iOS 15.0, *)\\nstruct InputTodoView: View {\\n    @Binding var todos: [Todo]\\n    @State private var newTodoDescription: String = \\"\\"\\n    var body: some View {\\n        HStack {\\n            TextField(\\"Todo\\", text: $newTodoDescription)\\n                .textFieldStyle(.roundedBorder)\\n            Spacer()\\n            Button {\\n                guard !newTodoDescription.isEmpty else { return }\\n                todos.append(Todo(description: newTodoDescription, done: false))\\n                newTodoDescription = \\"\\"\\n            } label: {\\n                Text(\\"Add\\")\\n                    .padding(.horizontal, 16)\\n                    .padding(.vertical, 8)\\n                    .foregroundColor(.white)\\n                    .background(.green)\\n                    .cornerRadius(5)\\n            }\\n        }.frame(height: 60)\\n        .padding(.horizontal, 24)\\n        .padding(.bottom, 30)\\n        .background(Color.gray)\\n    }\\n}\\n```\\n\\n2. \u5c06InputTodoView\u6dfb\u52a0\u5230\u754c\u9762\u4e0a\\n```swift\\nvar body: some View {\\n    ZStack(alignment: .bottom) {\\n        List($todos) { $todo in\\n            HStack {\\n                Text(todo.description).strikethrough(todo.done)\\n                Spacer()\\n                Image(systemName:todo.done ? \\"checkmark.square\\" : \\"square\\")\\n            }\\n            .contentShape(Rectangle())\\n            .onTapGesture {\\n                todo.done.toggle()\\n            }\\n        }\\n        InputTodoView(todos: $todos)\\n    }.edgesIgnoringSafeArea(.bottom)        \\n}\\n```\\n\\n![Figure_9.2_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gyapo5ymqsj309q0jdq3i.jpg)\\n\\n## How it works\u2026\\n\\n\u5c31\u50cf\u6211\u4eec\u5f00\u5934\u8bf4\u7684\u90a3\u6837\uff0cchildren\u8981\u4fee\u6539parent\u7684state\uff0cparent\u76f4\u63a5\u5427state\u4f20\u9012\u7ed9children\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u4f20\u9012\u7684\u662f\u503c\u7684copy\u3002\\n\\nSwiftUI\u4f7f\u7528**@Binding** \u521b\u5efa\u4e00\u4e2a\u53cc\u5411\u7ed1\u5b9a\\n\\n- parent\u7684\u53d8\u5316\u4f1a\u53cd\u5e94\u5230children\u4e0a\\n- children\u7684\u53d8\u5316\u4e5f\u4f1a\u53cd\u6620\u5230parent\u4e0a\\n\\n\u6211\u4eec\u5728children\u58f0\u660estate\u65f6\uff0c\u4f7f\u7528@Binding\uff0cparent\u4f20\u5165\u65f6\u4f20\u7684\u662f$state\uff0c\u800c\u4e0d\u662fstate\u3002$\u64cd\u4f5c\u7b26\u7684\u610f\u601d\u662f\u83b7\u53d6State\u7ed3\u6784\u4f53\u4e2d\u7684projectedValue\u5c5e\u6027\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230State\u7ed3\u6784\u4f53\u7684projectedValue\u6b63\u662f\u4e00\u4e2aBinding\u7c7b\u578b\u3002\\n\\n```swift\\nvar projectedValue: Binding<Value> { get }\\n```\\n\\n## \u6df1\u5165\u4e86\u89e3@Binding\\n\\n\u6211\u4eec\u9996\u5148\u6765\u770b\u770b\uff0cBinding\u7ed3\u6784\u4f53\u7684Api\\n\\n```swift\\n@frozen @propertyWrapper @dynamicMemberLookup struct Binding<Value>\\n// Creating a Binding\\ninit<V>(Binding<V>)\\ninit(get: @escaping () -> Value, set: @escaping (Value, Transaction) -> Void)\\ninit(get: @escaping () -> Value, set: @escaping (Value) -> Void)\\n```\\n\\n\u6211\u4eec\u53ef\u4ee5\u770b\u52302\u70b9\\n\\n- Binding\u662f\u80fd\u591f\u8fdb\u884cdynamicMemberLookup\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u80fd\u591f\u4f7f\u7528`$state.someproperty`\u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u8bbf\u95ee\uff0c\u8fd9\u8fd4\u56de\u4ec0\u4e48\u5462\uff1f\u5f97\u770b\u4ed6\u7684subscript\u662f\u600e\u4e48\u5b9e\u73b0\u7684\uff0c\u6211\u4eec\u7a0d\u540e\u518d\u770b\\n- \u6211\u4eec\u770b\u5230\u521d\u59cb\u5316\u65b9\u6cd5\uff0c\u5c31\u662fget\u548cset\u65b9\u6cd5\uff0c\u6b63\u5982\u5f00\u5934\u8bf4\u7684\u90a3\u6837\u3002\u53ef\u4ee5\u628aBinding\u770b\u6210\u662fget\u548cset\u65b9\u6cd5\u7684\u4e00\u4e2a\u5c01\u88c5\u3002\\n\\n\u6709\u4e86\u8fd9\u4e24\u70b9\u4e86\u89e3\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u6211\u4eec\u81ea\u5df1\u7684@MyBinding\u3002\\n\\n\u9996\u5148\uff0c\u5b9a\u4e49\u4e00\u4e2aproperty wrapper\uff0c\u5305\u542b\u4e00\u4e2aget\u548cset\u65b9\u6cd5\u3002\\n\\n```swift\\n@propertyWrapper\\nstruct MyBinding<T> {\\n    private let getValue: () -> T\\n    private let setValue: (T) -> Void\\n    var wrappedValue: T {\\n        get {\\n            return getValue()\\n        }\\n        nonmutating set {\\n            setValue(newValue)\\n        }\\n    }\\n    \\n    var projectedValue: Self { self }\\n    \\n    init(getValue: @escaping () -> T, setValue: @escaping (T) -> Void) {\\n        self.getValue = getValue\\n        self.setValue = setValue\\n    }\\n}\\n```\\n\\n### \u8865\u5168@MyState\\n\\n\u6211\u4eec\u6765\u7528\u4e00\u4e0b\u8bd5\u4e00\u8bd5\uff0c\u8865\u5168\u4e0b\u4e0a\u4e00\u7bc7\u6587\u7ae0\u7684@MyState\\n\\n```swift\\nfinal class Box<T>: ObservableObject {\\n    @Published var value: T\\n    init(_ value: T) {\\n        self.value = value\\n    }\\n}\\n// highlight-start\\n@propertyWrapper\\nstruct MyBinding<T> {\\n    private let getValue: () -> T\\n    private let setValue: (T) -> Void\\n    var wrappedValue: T {\\n        get {\\n            return getValue()\\n        }\\n        nonmutating set {\\n            setValue(newValue)\\n        }\\n    }\\n    \\n    var projectedValue: Self { self }\\n    \\n    init(getValue: @escaping () -> T, setValue: @escaping (T) -> Void) {\\n        self.getValue = getValue\\n        self.setValue = setValue\\n    }\\n}\\n// highlight-end\\n@propertyWrapper\\nstruct MyState<T>: DynamicProperty {\\n    @ObservedObject var box: Box<T>\\n    var wrappedValue: T {\\n        get {\\n            return box.value\\n        }\\n        nonmutating set {\\n            box.value = newValue\\n        }\\n    }\\n  // highlight-start\\n    var projectedValue: MyBinding<T> {\\n        return MyBinding {\\n            return box.value\\n        } setValue: { newValue in\\n            box.value = newValue\\n        }\\n    }\\n  // highlight-end\\n    init(wrappedValue: T) {\\n        self._box = ObservedObject(wrappedValue: Box<T>(wrappedValue))\\n    }\\n}\\n// highlight-start\\nstruct ChildView: View {\\n  //\u4f7f\u7528\u6211\u4eec\u81ea\u5df1MyBinding\\n    @MyBinding var text: String\\n    var body: some View {\\n        VStack {\\n            Text(\\"this is children: \\\\(text)\\")\\n            Button {\\n                text = \\"\\\\(Int.random(in: 200...300))\\"\\n            } label: {\\n                Text(\\"change from child\\")\\n            }\\n        }\\n    }\\n}\\n// highlight-end\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @MyState var text = \\"hello world123\\"\\n    var body: some View {\\n        VStack {\\n            Text(\\"\\\\(text)\\")\\n            Button {\\n                text = \\"\\\\(Int.random(in: 0...100))\\"\\n            } label: {\\n                Text(\\"change\\")\\n            }\\n            ChildView(text: $text)\\n        }\\n    }\\n}\\n\\n```\\n\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gybwbbyagxg306a0ckmy0.gif)\\n\\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u8865\u5168\u4e86@MyState\uff0c\u80fd\u591f\u4f7f\u7528$text\u4e86\u3002\\n\\n### \u5b9e\u73b0dynamicMemberLookup\\n\\nOk\uff0c\u6211\u4eec\u521a\u521a\u80fd\u591f\u4f7f\u7528`$text`\u4e86\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u60f3\u8981\u7528`$state.somePropert`\u5462, \u6211\u4eec\u8bd5\u4e00\u8bd5\\n\\n```swift\\nstruct ChildView: View {\\n  // highlight-start\\n  //\u6211\u4eec\u6539\u4e0bchidlrenView\uff0c\u663e\u793a\u5b57\u7b26\u4e32\u7684\u6570\u91cf\uff0c\u4e5f\u5c31\u662ftext.count\\n    @MyBinding var textCount: Int\\n    // highlight-end\\n    var body: some View {\\n        VStack {\\n            Text(\\"this show textCount: \\\\(textCount)\\")\\n        }\\n    }\\n}\\n\\nstruct ContentView: View {\\n    @MyState var text = \\"hello world123\\"\\n    var body: some View {\\n        VStack {\\n            Text(\\"\\\\(text)\\")\\n            Button {\\n                text = \\"\\\\(Int.random(in: 0...100))\\"\\n            } label: {\\n                Text(\\"change\\")\\n            }\\n            // highlight-start\\n          // \u6539\u4e0b\u4f20\u53c2\uff0c\u4f46\u662f\u62a5\u9519\u4e86\uff0c\u56e0\u4e3a\u6211\u4eec\u7684MyBinding\u4e0d\u652f\u6301\u8fd9\u79cd\u8bed\u6cd5\\n            ChildView(textCount: $text.count)\\n            // highlight-end\\n        }\\n    }\\n}\\n```\\n\\n\u6240\u4ee5\uff0c\u6211\u4eec\u7528dynamicMemberLookup\u4fee\u9970\u4e0bMyBinding\u3002\\n\\n```swift\\n@propertyWrapper\\n// highlight-start\\n@dynamicMemberLookup\\n// highlight-end\\nstruct MyBinding<T> {\\n    ...\\n  // highlight-start\\n    subscript<Sub>(dynamicMember keyPath: WritableKeyPath<T, Sub>) -> MyBinding<Sub> {\\n        return MyBinding<Sub> {\\n            return self.wrappedValue[keyPath: keyPath]\\n        } setValue: { newValue in\\n            self.wrappedValue[keyPath: keyPath] = newValue\\n        }\\n    }\\n  // highlight-end\\n}\\n```\\n\\n\u6211\u4eec\u6765\u7528\u4e00\u4e0b\uff1a\\n\\n```swift\\nstruct ChildView: View {\\n    @MyBinding var name: String\\n    var body: some View {\\n        VStack {\\n            Text(\\"name is: \\\\(name)\\")\\n            Button {\\n                name = \\"child\\\\(Int.random(in: 1...100))\\"\\n            } label: {\\n                Text(\\"\u70b9\u51fb\u4fee\u6539name\\")\\n            }\\n        }\\n    }\\n}\\n\\nstruct Person {\\n    var name = \\"\\"\\n    var age = 20\\n}\\n\\n@available(iOS 15.0, *)\\nstruct ContentView: View {\\n    @MyState var person = Person(name:\\"hello\\")\\n    var body: some View {\\n        VStack {\\n            Text(\\"person name:\\\\(person.name) age: \\\\(person.age)\\")\\n            Button {\\n                person.name = \\"parent\\\\(Int.random(in: 200...300))\\"\\n            } label: {\\n                Text(\\"change\\")\\n            }\\n            ChildView(name: $person.name)\\n        }\\n    }\\n}\\n```\\n\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gybzwh2oflg306a0ckq3z.gif)\\n\\n\u4e0d\u9519\uff0c\u6211\u4eec\u6210\u529f\u4f7f\u7528\u4e86`$person.name`\u3002\\n\\n\u81f3\u6b64\uff0c\u6211\u4eec\u5bf9Binding\u5df2\u7ecf\u6709\u4e86\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u4e5f\u77e5\u9053\u4e86$\u64cd\u4f5c\u7b26\u7684\u539f\u7406\uff0c\u4ee5\u53ca$state.someProperty\u7684\u539f\u7406\u3002"},{"id":"/2022/01/07/SwiftUI\u4e13\u8f91-065-@State","metadata":{"permalink":"/2022/01/07/SwiftUI\u4e13\u8f91-065-@State","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-07-SwiftUI\u4e13\u8f91-065-@State/index.md","source":"@site/blog/2022-01-07-SwiftUI\u4e13\u8f91-065-@State/index.md","title":"SwiftUI\u4e13\u8f91065-@State","description":"headerimg","date":"2022-01-07T00:00:00.000Z","formattedDate":"2022\u5e741\u67087\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":5.355,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91065-@State","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91066-@Binding","permalink":"/2022/01/08/SwiftUI\u4e13\u8f91-066-@Binding"},"nextItem":{"title":"SwiftUI\u4e13\u8f91064-\u521b\u5efa\u4e00\u4e2acard stack","permalink":"/2022/01/06/SwiftUI\u4e13\u8f91-064-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\n@State\u662f\u4e00\u4e2aproperty wrapper\u3002\u4ed6\u8d1f\u8d23read/write\u4e00\u4e2aSwiftUI\u7ba1\u7406\u7684value\uff0c\u5f53\u6211\u4eecwrite\u65b0\u7684value\u65f6\uff0cSwiftUI\u4f1a\u91cd\u65b0\u8ba1\u7b97body\u3002\\n\\n\u6211\u4eec\u6765\u770b\u4e00\u4e2aTodoList\u7684demo\u3002\\n\x3c!--truncate--\x3e\\n\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee**StaticTodoList**\\n\\n## How to do it\u2026\\n\\n1. \u65b0\u5efa\u4e00\u4e2aTodo\u7684model\\n```swift\\nstruct Todo: Identifiable {\\n    let id = UUID()\\n    let description: String\\n    var done: Bool\\n}\\n```\\n\\n2. \u6211\u4eec\u51c6\u5907\u4e00\u70b9\u6570\u636e\\n```swift\\n@State var todos = [\\n    Todo(description: \\"review the first chapter\\", done: false),\\n    Todo(description: \\"buy wine\\", done: false),\\n    Todo(description: \\"paint kitchen\\", done: false),\\n    Todo(description: \\"cut the grass\\", done: false),\\n]\\n```\\n\\n3. \u663e\u793a\u51fa\u6765\\n```swift\\nvar body: some View {\\n    List($todos) { $todo in\\n        HStack {\\n            Text(todo.description).strikethrough(todo.done)\\n            Spacer()\\n            Image(systemName:todo.done ? \\"checkmark.square\\" : \\"square\\")\\n        }\\n        .contentShape(Rectangle())\\n        .onTapGesture {\\n            todo.done.toggle()\\n        }\\n    }\\n}\\n```\\n\\n![Figure_9.1_B17962](https://tva1.sinaimg.cn/large/008i3skNly1gyaplbkxypj309q0jndg6.jpg)\\n\\n## How it works\u2026\\n\\n\u6ce8\u610f\u6211\u4eec\u4f7f\u7528\u7684\u662f$todo\uff0c\u800c\u4e0d\u662ftodo\uff0c\u53ea\u6709\u7528$todo\u624d\u80fd\u6539\u53d8todo.done\uff0c\u4e0d\u7136todo\u662fimmutable\u7684\uff0c\u5c1d\u8bd5\u4fee\u6539todo\u4f1a\u62a5\u7f16\u8bd1\u9519\u8bef\u3002\\n\\n\u7136\u540e\u6211\u4eec\u4f7f\u7528\u4e86`.contentShape(Rectangle())`\uff0c\u8fd9\u662f\u5fc5\u987b\u7684\uff0c\u4e0d\u7136\u53ea\u6709\u6587\u5b57\u548c\u56fe\u7247\u80fd\u591f\u76f8\u5e94onTapGesture\uff0cSpacer\u7684\u533a\u57df\u4e0d\u80fd\u54cd\u5e94\u70b9\u51fb\u4e8b\u4ef6\u3002\\n\\n## \u6df1\u5165@State\\n\\n\u9996\u5148@State\u4fee\u9970\u540e\u7684value\u5e76\u4e0d\u662fvalue\u672c\u8eab\uff0c\u800c\u662f\u4e00\u4e2aState\u7ed3\u6784\u4f53\uff0c \u8fd9\u4e2a\u7ed3\u6784\u4f53\u5305\u88f9\u7740value\uff0c\u8d1f\u8d23value\u7684read\u548cwrite\u3002\\n\\n\u6211\u4eec\u8981get\u8fd9\u4e2avalue\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5b9a\u4e49\u7684\u53d8\u91cf\u540d\uff0c\u4ed6\u4f1a\u8fd4\u56deState\u7ed3\u6784\u4f53\u7684wrappedValue\u5b57\u6bb5\u3002\\n\\n\u4f60\u53ea\u80fd\u5728View\u5185\u90e8\u8bbf\u95eestate\u5c5e\u6027\uff0c\u56e0\u6b64\u901a\u5e38\u6211\u4eec\u90fd\u5c06state\u58f0\u660e\u4e3aprivate\uff0c\u9632\u6b62\u5916\u90e8\u8bbf\u95ee\u5230\u8fd9\u4e9bstate\u3002\\n\\n\u5982\u679c\u4f60\u60f3\u8981\u5c06state\u4f20\u9012\u7ed9\u5c42\u7ea7\u4e2d\u7684\u5176\u4ed6view\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u5728\u524d\u9762\u52a0\u4e0a$\uff0c$\u64cd\u4f5c\u7b26\u4f1a\u8fd4\u56deState\u7ed3\u6784\u4f53\u7684projectedValue\u5b57\u6bb5\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684@MyState\u3002\\n\\n\u6211\u4eec\u5148\u5b9a\u4e49\u4e00\u4e2aproperty wrapper\uff0c\u5b9a\u4e49\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528@MyState\u4e86\\n\\n```swift\\n@propertyWrapper\\nstruct MyState<T> {\\n    var value: T\\n    var wrappedValue: T {\\n        get {\\n            return value\\n        }\\n        set {\\n            value = newValue\\n        }\\n    }\\n}\\n```\\n\\n\u6211\u4eec\u5148\u5c1d\u8bd5\u4f7f\u7528\\n\\n```swift\\nstruct ContentView: View {\\n   //\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\uff0c\u5982\u679c\u6211\u4eec\u60f3\u8981\u8fd9\u4e48\u4f7f\u7528\uff0c\u8fd8\u9700\u8981\u4e3a@MyState\u5b9e\u73b0\u4e00\u4e2a init(wrappedValue:)\u7684\u521d\u59cb\u5316\u65b9\u6cd5\\n    @MyState var text = \\"hello world\\"\\n    var body: some View {\\n        Text(\\"hello world\\")\\n    }\\n}\\n@propertyWrapper\\nstruct MyState<T> {\\n  ...\\n  init(wrappedValue: T) {\\n    value = wrappedValue\\n  }\\n}\\n\\n```\\n\\n\u6211\u4eec\u518d\u5c1d\u8bd5\u4f7f\u7528\u4e00\u4e0b, \u80fd\u591f\u663e\u793atext\\n\\n```swift\\nstruct ContentView: View {\\n    @MyState var text = \\"hello world123\\"\\n    var body: some View {\\n        Text(\\"\\\\(text)\\")\\n    }\\n}\\n```\\n\\n\u90a3\u6211\u4eec\u518d\u5c1d\u8bd5\u4e00\u4e0b\uff0c\u52a0\u4e2a\u6309\u94ae\u4fee\u6539text\uff0c\u80fd\u591f\u81ea\u52a8\u6539\u53d8Text\u4e48\\n\\n```swift\\nstruct ContentView: View {\\n    @MyState var text = \\"hello world123\\"\\n    var body: some View {\\n        VStack {\\n            Text(\\"\\\\(text)\\")\\n            Button {\\n              // \u7f16\u8bd1\u62a5\u9519\uff0c\u63d0\u793aCannot assign to property: \'self\' is immutable\\n              // \u539f\u56e0\u5728\u4e8e\u8bbe\u7f6etext\u5b9e\u9645\u4e0a\u662f\u8c03\u7528wrappedValue\u7684set\u65b9\u6cd5\uff0c\u6211\u4eec\u5b9a\u4e49\u7684MyState\u662f\u7ed3\u6784\u4f53\\n              // \u4fee\u6539\u7ed3\u6784\u4f53\u9700\u8981mutating\uff0c\u800cset\u65b9\u6cd5\u53c8\u4e0d\u80fd\u7528mutating\u4fee\u9970\\n\\t\\t\\t\\t\\t\\t\\t// \u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528nonmutating\u4fee\u9970set\u65b9\u6cd5\uff0c\u544a\u8bc9\u7f16\u8bd1\u5668\u6211\u4eec\u4e0d\u4f1a\u4fee\u6539\u7ed3\u6784\u4f53\\n                text = \\"\\\\(Int.random(in: 0...100))\\"\\n            } label: {\\n                Text(\\"change\\")\\n            }\\n        }\\n    }\\n}\\n\\nstruct MyState<T> {\\n    ...\\n    var wrappedValue: T {\\n       nonmutating set {\\n            value = newValue//\u52a0\u4e0a\u4e4b\u540e\uff0c\u7f16\u8bd1\u5668\u9519\u8bef\u5c31\u8f6c\u79fb\u5230\u4e86\u8fd9\u91cc\uff0c\u56e0\u4e3a\u6211\u4eec\u786e\u5b9e\u6539\u53d8\u4e86\u7ed3\u6784\u4f53\\n        }\\n      ...\\n    }\\n}\\n\\n```\\n\\n\u6211\u4eec\u53ef\u4ee5\u6784\u5efa\u4e2a\u5f15\u7528\u7c7b\u578b\uff0c\u7528\u8fd9\u4e2a\u5f15\u7528\u7c7b\u578b\u518d\u5305\u88f9T\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u4fee\u6539\u7ed3\u6784\u4f53\u4e86\\n\\n```swift\\nfinal class Box<T> {\\n    var value: T\\n    init(_ value: T) {\\n        self.value = value\\n    }\\n}\\n\\n@propertyWrapper\\nstruct MyState<T> {\\n    var box: Box<T>\\n    var wrappedValue: T {\\n        get {\\n            return box.value\\n        }\\n        nonmutating set {\\n            box.value = newValue\\n        }\\n    }\\n    init(wrappedValue: T) {\\n        box = Box<T>(wrappedValue)\\n    }\\n}\\n```\\n\\n\u597d\u7684\uff0c\u6211\u4eec\u89e3\u51b3\u4e86\u7f16\u8bd1\u95ee\u9898\uff0c\u8fd0\u884c\u4e0b\uff0c\u70b9\u6309\u94ae\uff0c\u53d1\u73b0Text\u4ecd\u7136\u6ca1\u6709\u6539\u53d8\uff0c\u6253\u65ad\u70b9\u53d1\u73b0set\u65b9\u6cd5\u662f\u8c03\u7528\u4e86\u7684\uff0c\u770b\u6765\u6211\u4eec\u8fd8\u7f3a\u5c11\u4e00\u79cd\u65b9\u6cd5\uff0c\u5728value\u66f4\u65b0\u7684\u60c5\u51b5\u4e0b\u901a\u77e5SwiftUI\u91cd\u65b0\u6e32\u67d3UI\u3002\u9057\u61be\u7684\u662f\u82f9\u679c\u5e76\u6ca1\u6709\u63d0\u4f9b\u624b\u52a8\u66f4\u65b0UI\u7684\u80fd\u529b\u3002\u66f4\u65b0\u7684\u80fd\u529b\u88ab\u5c01\u88c5\u5728\u4e86@State\u3001@ObservedObject\u3001@StateObject\u3001@EnvironmentObject\u5185\u90e8\u3002\u6211\u4eec\u9009\u62e9@ObservedObject\u6765\u6a21\u62df\u3002\\n\\n```swift\\n@propertyWrapper\\nstruct MyState<T>: DynamicProperty {\\n    @ObservedObject var box: Box<T>\\n    var wrappedValue: T {\\n        get {\\n            return box.value\\n        }\\n        nonmutating set {\\n            box.value = newValue\\n        }\\n    }\\n    init(wrappedValue: T) {\\n        self._box = ObservedObject(wrappedValue: Box<T>(wrappedValue))\\n    }\\n}\\n\\nfinal class Box<T>: ObservableObject {\\n    @Published var value: T\\n    init(_ value: T) {\\n        self.value = value\\n    }\\n}\\n```\\n\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gybv1mqr89g306a0ck3yz.gif)\\n\\nOk\uff0c\u901a\u8fc7\u5b9e\u73b0MyState\uff0c\u6211\u4eec\u719f\u6089\u4e86propertyWrapper\uff0c\u4e5f\u5bf9@State\u6709\u4e86\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u4e0d\u8fc7\u6211\u4eec\u7684@MyState\u8fd8\u6709\u4e2a\u4e1c\u897f\u6ca1\u5b9e\u73b0\uff0c\u90a3\u5c31\u662fprojectedValue, \u5982\u679c\u6211\u4eec\u4f7f\u7528$text\uff0c\u5c06\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u5b9e\u73b0projectedValue\u3002\u6211\u4eec\u5c06\u5728\u5b66\u4e60@Binding\u4e2d\u4e86\u89e3\u5176\u539f\u7406\uff0c\u5e76\u8865\u5168\u5b9e\u73b0\u3002"},{"id":"/2022/01/06/SwiftUI\u4e13\u8f91-064-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","metadata":{"permalink":"/2022/01/06/SwiftUI\u4e13\u8f91-064-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-06-SwiftUI\u4e13\u8f91-064-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b/index.md","source":"@site/blog/2022-01-06-SwiftUI\u4e13\u8f91-064-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91064-\u521b\u5efa\u4e00\u4e2acard stack","description":"headerimg","date":"2022-01-06T00:00:00.000Z","formattedDate":"2022\u5e741\u67086\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.91,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91064-\u521b\u5efa\u4e00\u4e2acard stack","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91065-@State","permalink":"/2022/01/07/SwiftUI\u4e13\u8f91-065-@State"},"nextItem":{"title":"SwiftUI\u4e13\u8f91063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","permalink":"/2022/01/05/SwiftUI\u4e13\u8f91-063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\n\u8fd8\u8bb0\u5f97\u6211\u4eec\u81ea\u5b9a\u4e49UICollectionLayout\u65f6\u505a\u7684\u90a3\u79cd\u5361\u7247\u6548\u679c\u4e48\uff0c\u591a\u4e2a\u5361\u7247\u53e0\u5728\u4e00\u8d77\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6ed1\u52a8\u624b\u52bf\u5c06\u9876\u90e8\u5361\u7247\u79fb\u8d70\uff0c\u663e\u793a\u51fa\u4e0b\u9762\u7684\u5361\u7247\u3002\u73b0\u5728\u6211\u4eec\u7528swiftui\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\uff1a**SwipeableCards**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aUser\u6570\u636e\u7ed3\u6784\u4ee3\u8868\u6bcf\u4e2a\u5361\u7247\u7684\u6570\u636e\\n```swift\\nstruct User: Identifiable, Equatable {\\n    var id: Int\\n    let firstName: String\\n    let lastName: String\\n    let start: Color\\n    let end: Color\\n}\\n```\\n\\n2. \u5728ContentView\u4e2d\u51c6\u5907\u4e00\u70b9\u6570\u636e\\n```swift\\nstruct ContentView: View {\\n    @State  private var users: [User] = [\\n        User(id: 0, firstName: \\"Mark\\", lastName: \\"Bennett\\", start: .red, end: .green),\\n        User(id: 1, firstName: \\"John\\", lastName: \\"Lewis\\", start: .green, end: .orange),\\n        User(id: 2, firstName: \\"Joan\\", lastName: \\"Mince\\", start: .blue, end: .green),\\n        User(id: 3, firstName: \\"Liz\\", lastName: \\"Garret\\", start: .orange, end: .purple),\\n        User(id: 4, firstName: \\"Lola\\", lastName: \\"Pince\\", start: .yellow, end: .gray),\\n        User(id: 5, firstName: \\"Jim\\", lastName: \\"Beam\\", start: .pink, end: .yellow),\\n        User(id: 6, firstName: \\"Tom\\", lastName: \\"Waits\\", start: .purple, end: .blue),\\n        User(id: 7, firstName: \\"Mike\\", lastName: \\"Rooney\\", start: .black, end: .gray),\\n        User(id: 8, firstName: \\"Jane\\", lastName: \\"Doe\\", start: .red, end: .green),\\n    ]\\n    var body: some View {\\n    }\\n}\\n```\\n\\n3. \u6dfb\u52a0\u4e00\u4e2aCardView\u5230ContentView\u4e2d\\n```swift\\nvar body: some View {\\n    GeometryReader { geometry in\\n        ZStack {\\n            ForEach(users) { user in\\n                if user.id > users.maxId - 4 {\\n                    CardView(user: user, onRemove: { removedUser in\\n                        users.removeAll { $0.id == removedUser.id }\\n                    }).animation(.spring(), value: users)\\n                        .frame(width: users.cardWidth(in: geometry, userId: user.id), height: 400)\\n                        .offset(x: 0, y: users.cardOffset(userId: user.id))\\n                }\\n            }\\n        }\\n    }.padding()\\n}\\n```\\n\\n4. \u518d\u6dfb\u52a0\u4e00\u4e2aextention\u8ba1\u7b97maxId\\n```swift\\nextension Array where Element == User {\\n    var maxId: Int { map { $0.id }.max() ?? 0 }\\n    func cardOffset(userId: Int) -> Double {\\n        Double(count - 1 - userId) * 8.0\\n    }\\n    func cardWidth(in geometry: GeometryProxy, userId: Int) -> Double {\\n        geometry.size.width - cardOffset(userId: userId)\\n    }\\n}\\n```\\n\\n5. \u5b9e\u73b0\u6211\u4eec\u7684CardView\\n```swift\\nextension DragGesture.Value {\\n    func percentage(in geometry: GeometryProxy) -> Double {\\n        abs(translation.width / geometry.size.width)\\n    }\\n}\\nstruct CardView: View {\\n    @State private var translation: CGSize = .zero\\n    private var user: User\\n    private var onRemove: (_ user: User) -> Void\\n    private var threshold: CGFloat = 0.5\\n    init(user: User, onRemove: @escaping (_ user: User)-> Void) {\\n        self.user = user\\n        self.onRemove = onRemove\\n    }\\n    var body: some View {\\n        GeometryReader { geometry in\\n            VStack(alignment: .leading, spacing: 20) {\\n                Rectangle()\\n                    .fill(LinearGradient(gradient:Gradient(colors: [user.start, user.end]), startPoint: .topLeading, endPoint: .bottomTrailing))\\n                    .cornerRadius(10)\\n                    .frame(width: geometry.size.width - 40, height: geometry.size.height * 0.65)\\n                Text(\\"\\\\(user.firstName) \\\\(user.lastName)\\")\\n                    .font(.title)\\n                    .bold()\\n            }.padding(20)\\n            .background(Color.white)\\n            .cornerRadius(8)\\n            .shadow(radius: 5)\\n            .animation(.spring(), value: translation)\\n            .offset(x: translation.width, y: 0)\\n            .rotationEffect(.degrees(Double(translation.width / geometry.size.width) * 20), anchor: .bottom)\\n            .gesture(\\n                DragGesture().onChanged({ value in\\n                    translation = value.translation\\n                }).onEnded({ value in\\n                    if value.percentage(in: geometry) > self.threshold {\\n                        onRemove(user)\\n                    } else {\\n                        translation = .zero\\n                    }\\n                })\\n            )\\n        }\\n}\\n\\n```\\n\\n![Figure_8.23_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gya5i4nw25j30b40b9mxi.jpg)\\n\\n## How it works\u2026\\n\\n\u5c3d\u7ba1\u4ee3\u7801\u6bd4\u8f83\u957f\uff0c\u4f46\u662f\u8fd8\u662f\u633a\u7b80\u5355\u7684\u3002\\n\\n\u6211\u4eec\u901a\u8fc7\u9650\u5236\uff0c\u53ea\u663e\u793a4\u4e2a\u5361\u7247,\u5982\u679c\u4f60\u60f3\u8981\u663e\u793a\u66f4\u591a\uff0c\u53ef\u4fee\u6539\u8bbe\u7f6e\\n\\n```swift\\nif user.id > self.users.maxId - 4 {\\n```"},{"id":"/2022/01/05/SwiftUI\u4e13\u8f91-063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","metadata":{"permalink":"/2022/01/05/SwiftUI\u4e13\u8f91-063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-05-SwiftUI\u4e13\u8f91-063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b/index.md","source":"@site/blog/2022-01-05-SwiftUI\u4e13\u8f91-063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","description":"headerimg","date":"2022-01-05T00:00:00.000Z","formattedDate":"2022\u5e741\u67085\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.22,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91064-\u521b\u5efa\u4e00\u4e2acard stack","permalink":"/2022/01/06/SwiftUI\u4e13\u8f91-064-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header","permalink":"/2022/01/04/SwiftUI\u4e13\u8f91-062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header"}},"content":"![headerimg](./Header.png)\\n\u8fd8\u8bb0\u5f97\u5404\u79cd\u76f4\u64ad\u95f4\u4e2d\u7684\u5e95\u90e8\u4e0d\u65ad\u98d8\u8d77\u5404\u79cd\u989c\u8272\u7684\u5c0f\u7ea2\u5fc3\u4e48\uff1f\\n\\n\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u8fd9\u79cd\u6548\u679c\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**FloatingHearts**\\n\\n\u5f15\u5165\u4e09\u65b9\u5e93\uff1apod \\"SwiftCubicSpline\\"\uff0c\u6765\u5b9e\u73b0\u5c0f\u7ea2\u5fc3\u6f02\u79fb\u8def\u5f84\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u5b9e\u73b0\u6211\u4eec\u7684\u52a8\u6548\\n```swift\\nimport SwiftCubicSpline\\n\\nstruct MoveShakeScale: GeometryEffect {\\n    private(set) var pct: CGFloat\\n    private let xPosition = UIScreen.main.bounds.width/4 + CGFloat.random(in: -20..<20)\\n    private let scaleSpline = CubicSpline(points: [\\n        Point(x: 0, y: 0.0),\\n        Point(x: 0.3, y: 3.5),\\n        Point(x: 0.4, y: 3.1),\\n        Point(x: 1.0, y: 2.1),\\n    ])\\n\\n    private let xSpline = CubicSpline(points: [\\n        Point(x: 0.0,  y: 0.0),\\n        Point(x: 0.15, y: 20.0),\\n        Point(x: 0.3,  y: 12),\\n        Point(x: 0.5,  y: 0),\\n        Point(x: 1.0,  y: 8),\\n    ])\\n\\n    var animatableData: CGFloat {\\n        get { pct }\\n        set { pct = newValue }\\n    }\\n    \\n    func effectValue(size: CGSize) -> ProjectionTransform {\\n        let scale = scaleSpline[x: Double(pct)]\\n        let xOffset = xSpline[x: Double(pct)]\\n        let yOffset = UIScreen.main.bounds.height/2 - pct * UIScreen.main.bounds.height/4*3\\n        let transTrasf = CGAffineTransform(translationX: xPosition + CGFloat(xOffset), y: yOffset)\\n        let scaleTrasf = CGAffineTransform(scaleX: CGFloat(scale), y: CGFloat(scale))\\n        return ProjectionTransform(scaleTrasf.concatenating(transTrasf))\\n    }\\n}\\n```\\n\\n2. \u5b9a\u4e49\u6211\u4eec\u7684\u6843\u5fc3View\\n```swift\\n\\nextension Color {\\n    init(r: Double, g: Double, b: Double) {\\n      self.init(red: r/255, green: g/255, blue: b/255)\\n    }\\n    static func random() -> Color {\\n        Color(r: .random(in: 100...144),\\n              g: .random(in: 10...200),\\n              b: .random(in: 200...244))\\n    }\\n}\\n@available(iOS 15.0, *)\\nstruct Heart: View, Identifiable {\\n    let id = UUID()\\n    @State private var opacity = 1.0\\n    @State private var scale: CGFloat = 1.0\\n    @State private var toAnimate = false\\n    var body: some View {\\n        Image(systemName: \\"heart.fill\\")\\n            .foregroundColor(.random())\\n            .opacity(opacity)\\n            .modifier(MoveShakeScale(pct: toAnimate ? 1 : 0))\\n            .animation(Animation.easeIn(duration:5.0), value: toAnimate)\\n            .task {\\n                toAnimate.toggle()\\n                withAnimation(.easeIn(duration: 5)) {\\n                    opacity = 0\\n                }\\n            }\\n    }\\n}\\n@available(iOS 15.0, *)\\nextension Heart: Equatable {\\n    static func == (lhs: Heart, rhs: Heart) -> Bool {\\n        lhs.id == rhs.id\\n    }\\n}\\nextension Array where Element: Equatable {\\n    mutating func remove(object: Element) {\\n        guard let index = firstIndex(of: object) else { return }\\n        remove(at: index)\\n    }\\n\\n}\\n@available(iOS 15.0, *)\\nclass Hearts: ObservableObject {\\n    @Published\\n    private(set) var all: [Heart] = []\\n\\n    func new() {\\n        let heart = Heart()\\n        all.append(heart)\\n        DispatchQueue.main.asyncAfter(deadline: .now() + 10.0) {\\n            self.all.remove(object: heart)\\n        }\\n    }\\n}\\n@available(iOS 15.0, *)\\nstruct HeartsView: View {\\n    @ObservedObject\\n    var hearts: Hearts\\n    var body: some View {\\n        ForEach(hearts.all) { $0 }\\n    }\\n}\\n\\n```\\n\\n3. \u6dfb\u52a0\u5230ContentView\u4e2d\\n```swift\\nstruct ContentView: View {\\n    var hearts = Hearts()\\n    var body: some View {\\n        VStack {\\n            Spacer()\\n            HStack {\\n                Button {\\n                    hearts.new()\\n                } label: {\\n                    Image(systemName: \\"heart\\")\\n                        .font(.title)\\n                        .frame(width: 80, height: 80)\\n                        .foregroundColor(.white)\\n                        .background(.blue)\\n                        .clipShape(Circle())\\n                        .shadow(radius: 10)\\n                    }\\n                    Spacer()\\n                }.padding(.horizontal, 30)\\n            }\\n            .overlay(HeartsView(hearts: hearts))\\n        }\\n}\\n```\\n\\n![kdkd](https://tva1.sinaimg.cn/large/008i3skNgy1gy9wq95jpzj30b40o2q34.jpg)\\n\\n## How it works\u2026\\n\\n\u57fa\u672c\u601d\u60f3\u662f\u8ba9\u56db\u4e2a\u52a8\u753b\u5e76\u884c\uff1a\\n\\n- \u4ece\u5e95\u90e8\u79fb\u52a8\u5230\u9876\u90e8\\n- \u53d8\u6de1\\n- \u653e\u5927\u548c\u7f29\u5c0f\\n- \u5411\u4e0a\u79fb\u52a8\u65f6\u8f7b\u5fae\u6643\u52a8\\n\\n\u6c34\u5e73\u8fd0\u52a8\u7684\u66f2\u7ebf\u662f\u4e00\u79cd\u952f\u9f7f\u5f62\uff0c\u6211\u4eec\u4f7f\u7528**SwiftCubicSpline**\u5e93\u6765\u8fdb\u884c\u63d2\u503c\u3002\\n\\n![image-20220111184118149](https://tva1.sinaimg.cn/large/008i3skNgy1gy9x5qfawzj31ia0emgm3.jpg)\\n\\n\\n\\nGeometryEffect\u8fd4\u56de\u4e00\u7cfb\u5217\u7684transformation\u5e94\u7528\u5230View\u4e0a\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u65f6\u95f4\u4f5c\u4e3a\u52a8\u753b\u5c5e\u6027\uff0c\u8ba1\u7b97\u51fa\u79fb\u52a8\u548c\u7f29\u653e\u7684\u503c\uff0c\u628a\u8fd9\u4e24\u4e2a\u4f5c\u4e3a\u4e00\u4e2atransform\u5e94\u7528\u5230View\u4e0a\u3002\\n\\n\u900f\u660e\u5ea6\u7684\u53d8\u5316\u662f\u7ebf\u6027\u7684\uff0c\u4e0d\u80fd\u662f\u66f2\u7ebf\uff0c\u6240\u4ee5\u5355\u72ec\u5904\u7406\u3002\\n\\n\u52a8\u753b\u7ed3\u675f\u540e\u4f3c\u4e4e\u6ca1\u6709\u4ec0\u4e48\u56de\u8c03\u4f9b\u6211\u4eec\u8c03\u7528\uff0c\u56e0\u6b64\u6211\u4eec\u4f7f\u7528DispatchQueue.main.asyncAfter\u6765\u79fb\u9664\\n\\n```swift\\nDispatchQueue.main.asyncAfter(deadline: .now() + 10.0) {\\n    self.all.remove(object: heart)\\n}"},{"id":"/2022/01/04/SwiftUI\u4e13\u8f91-062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header","metadata":{"permalink":"/2022/01/04/SwiftUI\u4e13\u8f91-062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-04-SwiftUI\u4e13\u8f91-062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header/index.md","source":"@site/blog/2022-01-04-SwiftUI\u4e13\u8f91-062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header/index.md","title":"SwiftUI\u4e13\u8f91062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header","description":"headerimg","date":"2022-01-04T00:00:00.000Z","formattedDate":"2022\u5e741\u67084\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.005,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b","permalink":"/2022/01/05/SwiftUI\u4e13\u8f91-063-\u5b9e\u73b0\u70b9\u8d5e\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91061-\u4f7f\u7528Lottie\u52a8\u753b","permalink":"/2022/01/03/SwiftUI\u4e13\u8f91-061-\u4f7f\u7528Lottie\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\n\u4ec0\u4e48\u662f\u5f39\u6027Header\uff1f\u8fd8\u8bb0\u5f97\u4f60\u6709\u4e2aTableView\uff0cheader\u662f\u4e00\u4e2a\u56fe\u7247\uff0c\u5f53\u5f80\u4e0b\u62c9\u52a8tableview\u65f6\uff0cheader\u7684\u56fe\u7247\u4f1a\u653e\u5927\u3002\\n\\n\u672c\u6587\u5c06\u7528SwiftUI\u5b9e\u73b0\u4e00\u4e2a\u7c7b\u4f3c\u7684\u6548\u679c\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**StretchableHeader**\\n\\n\u51c6\u59072\u5f20\u56fe\u7247\u3002\\n\\n## How to do it\u2026\\n\\n1. \u6211\u4eec\u521b\u5efa\u4e00\u4e2aRow\uff0c \u7c7b\u4f3c\u4e8eTableview\u7684cell\\n```swift\\nstruct Row: View {\\n    var body: some View {\\n        HStack {\\n            Image(\\"avatar\\")\\n                .resizable()\\n                .frame(width: 50, height: 50)\\n                .clipShape(Circle())\\n            Spacer()\\n            VStack(alignment: .trailing) {\\n                Text(\\"Billie Eilish\\")\\n                    .fontWeight(.heavy)\\n                Text(\\"Happier Than Ever\\")\\n            }\\n        }.padding(.horizontal, 15)\\n    }\\n}\\n```\\n\\n2. \u51c6\u5907\u4e00\u4e2a\u5217\u8868\\n```swift\\nstruct ContentView: View {\\n    \\n    var body: some View {\\n        ScrollView(.vertical, showsIndicators: false) {\\n            VStack {\\n                ForEach(0..<6) { _ in\\n                    Row()\\n                    Divider()\\n                }\\n\\n            }\\n        }.edgesIgnoringSafeArea(.all)\\n    }\\n}\\n```\\n\\n3. \u521b\u5efa\u6211\u4eec\u7684\u5f39\u6027Header\\n```swift\\nextension GeometryProxy {\\n    private var offset: CGFloat {\\n        frame(in: .global).minY\\n    }\\n    var height: CGFloat {\\n        size.height + (offset > 0 ? offset : 0)\\n    }\\n\\n    var verticalOffset: CGFloat {\\n        offset > 0 ? -offset : 0\\n    }\\n}\\n\\nstruct StretchableHeader: View {\\n    let imageName: String\\n    var body: some View {\\n        GeometryReader { geometry in\\n            Image(self.imageName)\\n                .resizable()\\n                .scaledToFill()\\n                .frame(width: geometry.size.width, height: geometry.height)\\n                .offset(y: geometry.verticalOffset)\\n        }.frame(height: 350)\\n    }\\n}\\n```\\n\\n4. \u6dfb\u52a0\u5230Vstack\u4e2d\\n```swift\\nstruct ContentView: View {\\n//...\\n    VStack {\\n        StretchableHeader(imageName: \\"header\\")\\n        ForEach(0..<6) { _ in\\n//...\\n}\\n```\\n\\n![image-20220111175733278](https://tva1.sinaimg.cn/large/008i3skNgy1gy9vw89n2pj30bo0oe75g.jpg)\\n\\n## How it works\u2026\\n\\n\u8bc0\u7a8d\u5728\u4e8e\u6211\u4eec\u8ba1\u7b97verticalOffset\u7684\u65b9\u5f0f\uff1a\u5f53\u6211\u4eec\u5c1d\u8bd5\u5411\u4e0b\u6ed1\u52a8\u56fe\u50cf\u65f6\uff0c\u56fe\u50cf\u9876\u90e8\u53d8\u5f97\u5927\u4e8e**0**\uff0c\u56e0\u6b64\u6211\u4eec\u5e94\u7528\u8d1f\u504f\u79fb\u6765\u8865\u507f\u7531\u6ed1\u52a8\u5f15\u8d77\u7684\u504f\u79fb\uff0c\u5e76\u4e14\u56fe\u50cf\u8d34\u5728\u9876\u90e8\u3002\\n\\n\u9ad8\u5ea6\u4e5f\u662f\u4e00\u6837\uff1a\u5f53\u56fe\u50cf\u5411\u4e0a\u79fb\u52a8\u65f6\uff0c\u9ad8\u5ea6\u662f\u6b63\u5e38\u7684\uff0c\u4f46\u662f\u5f53\u5b83\u88ab\u7c98\u5230\u9876\u90e8\u540e\u5411\u4e0b\u79fb\u52a8\u65f6\uff0c\u9ad8\u5ea6\u4f1a\u968f\u7740\u62d6\u52a8\u800c\u589e\u52a0\u3002\\n\\n\u8bf7\u6ce8\u610f\uff0c\u56fe\u50cf\u662f\u7528**.scaledToFill()**\u4fee\u6539\u7684\uff0c\u8fd9\u6837\u5f53e \u9ad8\u5ea6\u589e\u52a0\uff0c \u5bbd\u5ea6\u6309\u6bd4\u4f8b\u589e\u52a0\uff0c\u5e76\u4e14 \u6709\u653e\u5927\u6548\u5e94\u3002"},{"id":"/2022/01/03/SwiftUI\u4e13\u8f91-061-\u4f7f\u7528Lottie\u52a8\u753b","metadata":{"permalink":"/2022/01/03/SwiftUI\u4e13\u8f91-061-\u4f7f\u7528Lottie\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-03-SwiftUI\u4e13\u8f91-061-\u4f7f\u7528Lottie\u52a8\u753b/index.md","source":"@site/blog/2022-01-03-SwiftUI\u4e13\u8f91-061-\u4f7f\u7528Lottie\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91061-\u4f7f\u7528Lottie\u52a8\u753b","description":"headerimg","date":"2022-01-03T00:00:00.000Z","formattedDate":"2022\u5e741\u67083\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.335,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91061-\u4f7f\u7528Lottie\u52a8\u753b","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header","permalink":"/2022/01/04/SwiftUI\u4e13\u8f91-062-\u521b\u5efa\u4e00\u4e2a\u5f39\u6027Header"},"nextItem":{"title":"SwiftUI\u4e13\u8f91060-\u521b\u5efa\u4e00\u4e2ahero transition","permalink":"/2022/01/02/SwiftUI\u4e13\u8f91-060-\u521b\u5efa\u4e00\u4e2aherotransition"}},"content":"![headerimg](./Header.png)\\nSwiftUi\u4f7f\u7528Lottie\u52a8\u753b\u8fd8\u5f97\u501f\u52a9\u4e8eUIKit\u3002\\n\\n\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u5728SwiftUI\u4e2d\u4f7f\u7528Lottie\u52a8\u753b\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\\n\\npod\u4e2d\u52a0\u5165`pod \'lottie-ios\'`\\n\\n\u51c6\u5907\u597d\u4e00\u4e2alottie\u52a8\u753b\u7684json\u6587\u4ef6\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efa\u4e00\u4e2aLottieAnimation,\u628aUIKit\u7684Lottie\u5305\u88f9\u4e3aSwiftUI View\\n```swift\\nimport Lottie\\nimport SnapKit\\n\\nstruct LottieAnimation: UIViewRepresentable {\\n    private let animationView = AnimationView()\\n    var animationName = \\"\\"\\n    @Binding var play: Bool\\n\\n    func makeUIView(context: Context) -> some UIView {\\n        let view = UIView()\\n        animationView.animation = Animation.named(animationName)\\n        animationView.contentMode = .scaleAspectFit\\n        animationView.scalesLargeContentImage = true\\n        view.addSubview(animationView)\\n        animationView.snp.makeConstraints { make in\\n            make.edges.equalToSuperview()\\n        }\\n        return view\\n    }\\n\\n    func updateUIView(_ uiView: UIViewType, context: Context) {\\n        guard play else { return }\\n        animationView.play { _ in\\n            play = false\\n        }\\n    }\\n}\\n```\\n\\n2. \u6dfb\u52a0View\u5230ContentView\u4e2d\\n```swift\\nstruct ContentView: View {\\n    @State var play = false\\n\\n    var body: some View {\\n        ZStack {\\n            Color.yellow.edgesIgnoringSafeArea(.all)\\n            VStack {\\n                LottieAnimation(animationName:\\"fill-heart\\",play: $play)\\n                    .padding(.horizontal, 30)\\n                Button {\\n                      play = true\\n                } label: {\\n                    Text(\\"Fill me!\\")\\n                        .fontWeight(.heavy)\\n                        .padding(15)\\n                        .background(.white)\\n                        .cornerRadius(10)\\n                }\\n\\n            }\\n        }\\n    }\\n}\\n```\\n\\n![image-20220111172851670](https://tva1.sinaimg.cn/large/008i3skNgy1gy9v2da8vcj30c00oe74o.jpg)\\n\\n## How it works\u2026\\n\\nLottie\u6709\u4e2a**AnimationView**\uff0c\u6211\u4eec\u8bbe\u7f6e\u52a8\u753b\u7684\u540d\u79f0\u5c31\u53ef\u4ee5\u8fdb\u884c\u52a8\u753b\u3002\\n\\n\u4f46\u5176\u662fUIView\u7684\u5b50\u7c7b\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c06\u5176\u5305\u88f9\u4e3a\u4e00\u4e2aSwiftUI View\u3002\\n\\n\u540c\u65f6\u6211\u4eec\u63d0\u4f9b\u4e86play\u6765\u63a7\u5236\u662f\u5426\u8fdb\u884c\u52a8\u753b\u3002"},{"id":"/2022/01/02/SwiftUI\u4e13\u8f91-060-\u521b\u5efa\u4e00\u4e2aherotransition","metadata":{"permalink":"/2022/01/02/SwiftUI\u4e13\u8f91-060-\u521b\u5efa\u4e00\u4e2aherotransition","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-02-SwiftUI\u4e13\u8f91-060-\u521b\u5efa\u4e00\u4e2aherotransition/index.md","source":"@site/blog/2022-01-02-SwiftUI\u4e13\u8f91-060-\u521b\u5efa\u4e00\u4e2aherotransition/index.md","title":"SwiftUI\u4e13\u8f91060-\u521b\u5efa\u4e00\u4e2ahero transition","description":"headerimg","date":"2022-01-02T00:00:00.000Z","formattedDate":"2022\u5e741\u67082\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":5.635,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91060-\u521b\u5efa\u4e00\u4e2ahero transition","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91061-\u4f7f\u7528Lottie\u52a8\u753b","permalink":"/2022/01/03/SwiftUI\u4e13\u8f91-061-\u4f7f\u7528Lottie\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91059-\u81ea\u5b9a\u4e49view transitions","permalink":"/2022/01/01/SwiftUI\u4e13\u8f91-059-\u81ea\u5b9a\u4e49viewtransitions"}},"content":"![headerimg](./Header.png)\\n\u4ec0\u4e48\u662fhero transition\uff1f\u8fd8\u8bb0\u5f97\u6211\u4eec\u7684\u5546\u54c1\u5217\u8868\u6709\u4e2a\u56fe\u7247\uff0c\u70b9\u51fb\u56fe\u7247\uff0c\u7136\u540e\u56fe\u7247\u6162\u6162\u53d8\u5927\uff0c\u6210\u4e3a\u65b0\u754c\u9762\u9876\u90e8\u7684header\uff0c\u6211\u4eec\u79f0\u8fd9\u79cd\u4e3ahero transition\u3002\u6bd4\u5982\uff1aappstroe\u4e2d\u5c31\u5f88\u5e38\u89c1\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**HeroViewTransition**\\n\\n\u51c6\u59077\u5f20\u56fe\u7247\uff0c\u52a0\u5165\u9879\u76ee\u4e2d\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u521b\u5efa\u4e00\u4e2aItem\u6765\u4ee3\u8868\u5217\u8868\u4e2d\u7684\u6570\u636e\\n```swift\\nstruct Item: Identifiable {\\n    let id = UUID()\\n    let image : String\\n    let title : String\\n    let details : String\\n}\\n```\\n\\n2. \u51c6\u5907\u5217\u8868\u7684\u6570\u636e\\n```swift\\nlet data = [\\n    Item(image: \\"california\\", title: \\"California\\", details: \\"California, the most populous state in the United States and the third most extensive by area, is located on the western coast of the USA and is bordered by Oregon to the north, Nevada, to the east and northeast, Arizona to the southeast and it shares an international border with the Mexican state of Baja California to the south.\\"),\\n    Item(image: \\"miami\\", title: \\"Miami\\", details: \\"Miami is an international city at Florida\u2019s south-eastern tip. Its Cuban influence is reflected in the cafes and cigar shops that line Calle Ocho in Little Havana. On barrier islands across the turquoise waters of Biscayne Bay is Miami Beach, home to South Beach. This glamorous neighbourhood is famed for its colourful art deco buildings, white sand, surfside hotels and trendsetting nightclubs.\\"),\\n    Item(image: \\"las-vegas\\", title: \\"Las Vegas\\", details: \\"Las Vegas, is a resort city famed for its vibrant nightlife, centered around 24-hour casinos and other entertainment options. Its main street and focal point is the Strip, just over 4 miles long.Nevada is a western U.S. state defined by its great expanses of desert, and by the 24-hour casinos and entertainment for which its largest city, Las Vegas, in Nevada\u2019s Mojave Desert.\\"),\\n    Item(image: \\"paris\\", title: \\"Paris\\", details: \\"Paris is the capital and most-populous city of France. Situated on the Seine River, in the north of the country, it is in the centre of the \xcele-de-France region, also known as the r\xe9gion parisienne. Paris has an area of 105.4 square kilometres and with a population of 2,273,305 people within its city limits is the most populous urban area in the European Union.\\"),\\n    Item(image: \\"dublin\\", title: \\"Dublin\\", details: \\"Dublin, capital of the Republic of Ireland, is on Ireland\u2019s east coast at the mouth of the River Liffey. Its medieval buildings include 13th-century Dublin Castle and imposing St. Patrick\u2019s Cathedral, founded in 1191. Temple Bar is a riverside nightlife and cultural quarter, home to the Irish Film Institute. Bustling, largely pedestrianised Grafton Street is the city\u2019s principal shopping area, also famed for its buskers.\\"),\\n    Item(image: \\"bali\\", title: \\"Bali\\", details: \\"Bali \u201cthe world\u2019s best island resort\u201d with its enchanting culture, beaches, dynamic dances and music, with grand mountain views, green rainforests to trek through, rolling waves to surf and deep blue pristine seas to dive in where one can swim with dugongs, dolphins and large mantarays. Covering less than 6,000 square kilometers, this lush isle has startling geographical contrasts; verdant rice terraces and sacred, mist-wreathed volcanoes, white-sand beaches and dense tropical rain forest. as well as being home to one of the world\u2019s most vibrant cultures of  dance and music, lavish ceremonies and artistic achievements.\\"),\\n    Item(image: \\"singapore\\", title: \\"Singapore\\", details: \\"Singapore, an island city-state off southern Malaysia, is a bustling cosmopolitan city that offers a world-class living environment, with a landscape populated by high-rise buildings and gardens, and is a great place to visit for a couple of days if you are travelling to Asia. In circa-1820 Chinatown stands the red-and-gold Buddha\u2019s Tooth Relic Temple, Little India offers colourful souvenirs and Arab Street is lined with fabric shops. Singapore is also known for eclectic street fare, served in hawker centres such as Tiong Bahru and Maxwell Road.\\"),\\n]\\n```\\n\\n3. \u51c6\u5907\u6211\u4eec\u7684\u5217\u8868\uff0c\u548c\u8df3\u8f6c\u540e\u7684\u8be6\u60c5\u754c\u9762\\n```swift\\nstruct DestinationListView: View {\\n    @Binding var selectedItem: Item!\\n    @Binding var showDetail: Bool\\n    let animation: Namespace.ID\\n    var body: some View {\\n        ScrollView(.vertical) {\\n            VStack(spacing: 20) {\\n                ForEach(data) { item in\\n                    Image(item.image)\\n                        .resizable()\\n                        .aspectRatio(contentMode: .fill)\\n                        .cornerRadius(10)\\n                        .shadow(radius: 5)\\n                        .matchedGeometryEffect(id: item.image, in: animation)\\n                        .onTapGesture {\\n                            selectedItem = item\\n                            withAnimation {\\n                                showDetail.toggle()\\n                            }\\n                        }\\n                }\\n            }.padding(.all, 20)\\n        }\\n    }\\n}\\n\\nstruct DestinationDetailView: View {\\n    var selectedItem: Item\\n    @Binding var showDetail: Bool\\n    let animation: Namespace.ID\\n    var body: some View {\\n        ZStack(alignment: .topTrailing){\\n            VStack{\\n                Image(selectedItem.image)\\n                    .resizable()\\n                    .aspectRatio(contentMode: .fit)\\n                    .matchedGeometryEffect(id: selectedItem.image, in: animation)\\n                Text(selectedItem.title)\\n                    .font(.title)\\n                Text(selectedItem.details)\\n                    .font(.callout)\\n                    .padding(.horizontal)\\n                Spacer()\\n            }.ignoresSafeArea(.all)\\n            Button {\\n                withAnimation {\\n                    showDetail.toggle()\\n                }\\n            } label: {\\n                Image(systemName: \\"xmark\\")\\n                    .foregroundColor(.white)\\n                    .padding()\\n                    .background(.black.opacity(0.8))\\n                    .clipShape(Circle())\\n            }.background(Color.white.ignoresSafeArea(.all))\\n    }\\n}\\n```\\n\\n3. \u5728ContentView\u4e2d\u6dfb\u52a0List\\n```swift\\nstruct ContentView: View {\\n    @State private var selectedItem: Item!\\n    @State private var showDetail = false\\n    @Namespace var animation\\n    var body: some View {\\n        ZStack {\\n            DestinationListView(selectedItem: $selectedItem, showDetail: $showDetail, animation: animation)\\n                .opacity(showDetail ? 0 : 1)\\n            if showDetail {\\n                DestinationDetailView(selectedItem: selectedItem, showDetail: $showDetail, animation: animation)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gy9t6d7vkug306a0ck45k.gif)\\n\\n## How it works\u2026\\n\\n\u60a8\u53ef\u4ee5\u5728**.matchedGeometryEffect**\u91cc\u8bbe\u7f6e\u5f00\u59cb\u7ec4\u4ef6\u548c\u7ed3\u675f\u7ec4\u4ef6\uff0c\u7136\u540e SwiftUI \u4f1a\u795e\u5947\u5730\u4e3a\u60a8\u521b\u5efa\u52a8\u753b\u3002\\n\\n**.matchedGeometryEffect**\u4f1a\u8bbe\u7f6e\u5f00\u59cb\u7ec4\u4ef6\u548c\u7ed3\u675f\u7ec4\u4ef6\u95f4\u7684\u5173\u7cfb\uff0c\u7136\u540eSwiftUI\u53ef\u4ee5\u6839\u636e\u5173\u7cfb\u521b\u5efa\u4ece\u5f00\u59cb\u4f4d\u7f6e\u5230\u7ed3\u675f\u4f4d\u7f6e\u7684\u52a8\u753b\u3002\u4e3a\u4e86\u5b58\u50a8\u8fd9\u79cd\u5173\u7cfb\uff0c**.matchedGeometryEffect**\u9700\u8981\u4e00\u4e2a\u6807\u8bc6\u7b26\u548c\u4e00\u4e2a\u4fdd\u5b58\u5173\u7cfb\u7684\u5730\u65b9\u3002\u5728\u6211\u4eec\u7684\u4ee3\u7801\u4e2d\uff0c\u8fd9\u662f\u5728\u4ee5\u4e0b\u884c\u4e2d\u5b8c\u6210\u7684\uff1a\\n\\n```swift\\n//\u6211\u4eec\u4ee5image\u4e3a\u6807\u8bc6\u7b26\uff0c\u5b58\u50a8\u5728animation\u4e2d\u3002\\n.matchedGeometryEffect(id: item.image, in: animation)\\n```\\n\\nSwiftUI\u63d0\u4f9b\u4e86\u4e00\u4e2aproperty warpper:**@Namespace**\u3002\u4ed6\u4f1a\u5c06view\u52a8\u753b\u76f8\u5173\u7684\u4e00\u4e9b\u5c5e\u6027\u5b58\u50a8\u5728\u5168\u5c40\u7684\u67d0\u4e2a\u5730\u65b9\uff0cSwiftUI\u4f7f\u7528\u8fd9\u4e9b\u5c5e\u6027\u6765\u521b\u5efa\u52a8\u753b\uff0c\u7136\u540e\u6e32\u67d3\u3002\\n\\n\u7b80\u5355\u6765\u8bf4\u5c31\u662f\uff1a\u901a\u8fc7**.matchedGeometryEffect**\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5f00\u59cb\u7ec4\u4ef6\u548c\u4e00\u4e2a\u7ed3\u675f\u7ec4\u4ef6\u3002\u7136\u540e\u6211\u4eec\u544a\u8bc9SwiftUI\uff0c\u4ed6\u4eec\u662f\u540c\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u7136\u540eSwiftUI\u81ea\u5df1\u4f1a\u786e\u5b9a\u5982\u4f55\u8fdb\u884c\u52a8\u753b\u3002\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u52a8\u753b\u5c31\u5305\u62ec\uff1a\\n\\n- y offset\u7684\u6539\u53d8\\n- size\u7684\u6539\u53d8\\n- \u5706\u89d2\u7684\u6539\u53d8"},{"id":"/2022/01/01/SwiftUI\u4e13\u8f91-059-\u81ea\u5b9a\u4e49viewtransitions","metadata":{"permalink":"/2022/01/01/SwiftUI\u4e13\u8f91-059-\u81ea\u5b9a\u4e49viewtransitions","editUrl":"https://github.com/xing-ou/GxBlog/blog/2022-01-01-SwiftUI\u4e13\u8f91-059-\u81ea\u5b9a\u4e49viewtransitions/index.md","source":"@site/blog/2022-01-01-SwiftUI\u4e13\u8f91-059-\u81ea\u5b9a\u4e49viewtransitions/index.md","title":"SwiftUI\u4e13\u8f91059-\u81ea\u5b9a\u4e49view transitions","description":"headerimg","date":"2022-01-01T00:00:00.000Z","formattedDate":"2022\u5e741\u67081\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.845,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91059-\u81ea\u5b9a\u4e49view transitions","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91060-\u521b\u5efa\u4e00\u4e2ahero transition","permalink":"/2022/01/02/SwiftUI\u4e13\u8f91-060-\u521b\u5efa\u4e00\u4e2aherotransition"},"nextItem":{"title":"SwiftUI\u4e13\u8f91058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation","permalink":"/2021/12/31/SwiftUI\u4e13\u8f91-058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation"}},"content":"![headerimg](./Header.png)\\nSwiftUI\u80fd\u591f\u5728view\u51fa\u73b0\u548c\u6d88\u5931\u65f6\u6dfb\u52a0\u52a8\u753b\uff0c\u6211\u4eec\u79f0\u8fd9\u4e2a\u672atransition\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u6f14\u793a\u5982\u4f55\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u51fa\u73b0\u548c\u6d88\u5931\u7684transitions\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee**CustomViewTransition**\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efa2\u4e2aview\\n```swift\\nextension Image {\\n    func custom() -> some View {\\n        self\\n        .resizable()\\n        .aspectRatio(contentMode: .fit)\\n        .cornerRadius(20)\\n        .shadow(radius: 10)\\n    }\\n}\\n\\nstruct FirstComponent: View {\\n    var body: some View {\\n        Image(systemName: \\"gamecontroller\\").custom()\\n    }\\n}\\n\\nstruct SecondComponent: View {\\n    var body: some View {\\n        Image(systemName: \\"car\\").custom()\\n    }\\n}\\n```\\n\\n2. \u6dfb\u52a0\u5230ContentView\u4e2d, \u8fd9\u4e2a\u65f6\u5019\u70b9\u51fbchange\uff0c\u662f\u4e00\u4e2a\u6e10\u53d8\u7684\u6d88\u5931\u548c\u663e\u793a\u7684\u8fc7\u7a0b\\n```swift\\nstruct ContentView: View {\\n    @State var showFirst = true\\n    var body: some View {\\n        VStack(spacing: 24){\\n            if showFirst {\\n                FirstComponent()\\n            } else{\\n                SecondComponent()\\n            }\\n            Button {\\n                showFirst.toggle()\\n            } label: {\\n                Text(\\"Change\\")\\n            }\\n        }.animation(.easeIn, value: showFirst)\\n            .padding(.horizontal, 20)\\n    }\\n}\\n```\\n\\n3. \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2atransition\uff0c\u5e76\u8bbe\u7f6e\u4e24\u4e2acomponent\u7684transiton\u4e3a\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7684transition\\n```swift\\nextension AnyTransition {\\n    static var moveScaleAndFade: AnyTransition {\\n        let insertion = AnyTransition\\n            .scale\\n            .combined(with: .move(edge: .leading))\\n            .combined(with: .opacity)\\n        let removal = AnyTransition\\n            .scale\\n            .combined(with: .move(edge: .top))\\n            .combined(with: .opacity)\\n        return .asymmetric(insertion: insertion, removal: removal)\\n    }\\n}\\n\\n...\\nif showFirst {\\n    FirstComponent().transition(.moveScaleAndFade)\\n} else{\\n    SecondComponent().transition(.moveScaleAndFade)\\n}\\n....\\n```\\n\\n\u70b9\u51fbchange, appear\u7684\u56fe\u7247\u4ece\u5de6\u4fa7\u9010\u6e10\u653e\u5927\u79fb\u5165\uff0cdisappear\u7684\u4ece\u4e0a\u9762\u9010\u6e10\u7f29\u5c0f\u79fb\u9664\u3002\\n\\n![image-20220111153748091](https://tva1.sinaimg.cn/large/008i3skNgy1gy9rutfd80j30ay0nst90.jpg)\\n\\n## How it works\u2026\\n\\ntransition\u57fa\u672c\u4e0a\u5c31\u662f\u5728appear\u548cdisappear\u65f6\u5e94\u7528\u7684\u4e00\u7cfb\u5217transformations\u3002\\n\\n\u6211\u4eec\u4f7f\u7528**.combined**\u51fd\u6570\uff0c\u53ef\u4ee5\u5c06transition\u4e0e\u5176\u4ed6transition\u7ec4\u5408\u4ee5\u521b\u5efa\u66f4\u590d\u6742\u7684\u52a8\u753b\u3002\\n\\n\u6211\u4eec\u4f7f\u7528\u4e86**.asymmetric** transition\u3002\u8fd9\u610f\u5473\u7740\u5220\u9664\u770b\u8d77\u6765\u4e0e\u63d2\u5165\u4e0d\u540c\u3002\u4f46\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u6709\u4e00\u4e2a\u5bf9\u79f0\u7684transition\u3002"},{"id":"/2021/12/31/SwiftUI\u4e13\u8f91-058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation","metadata":{"permalink":"/2021/12/31/SwiftUI\u4e13\u8f91-058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-31-SwiftUI\u4e13\u8f91-058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation/index.md","source":"@site/blog/2021-12-31-SwiftUI\u4e13\u8f91-058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation/index.md","title":"SwiftUI\u4e13\u8f91058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation","description":"headerimg","date":"2021-12-31T00:00:00.000Z","formattedDate":"2021\u5e7412\u670831\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.485,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91059-\u81ea\u5b9a\u4e49view transitions","permalink":"/2022/01/01/SwiftUI\u4e13\u8f91-059-\u81ea\u5b9a\u4e49viewtransitions"},"nextItem":{"title":"SwiftUI\u4e13\u8f91057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","permalink":"/2021/12/30/SwiftUI\u4e13\u8f91-057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\nSwiftUI \u5141\u8bb8 \u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u4e3a\u591a\u4e2a\u5c5e\u6027\u8bbe\u7f6e\u52a8\u753b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u6301\u7eed\u65f6\u95f4\u548c\u4e0d\u540c\u7684\u52a8\u753b\u66f2\u7ebf\u5bf9\u5b83\u4eec\u8fdb\u884c\u52a8\u753b\u5904\u7406\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u4e3a\u4e24\u7ec4\u7279\u5f81\u8bbe\u7f6e\u52a8\u753b\uff0c\u4ee5\u53ca\u5982\u4f55\u4f7f\u7ed3\u679c\u770b\u8d77\u6765\u50cf\u4e00\u4e2a\u5355\u4e00\u7684\u3001\u5e73\u6ed1\u7684\u52a8\u753b\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**MultipleAnimations**\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efa\u4e2arectangle\uff0c\u6839\u636eState\u6539\u53d8\u591a\u4e2a\u5c5e\u6027\\n```swift\\nstruct ContentView: View {\\n    @State var initialState = true\\n    var body: some View {\\n        VStack(spacing: 30) {\\n            Rectangle()\\n                .fill(initialState ? .blue : .red)\\n                .cornerRadius(initialState ? 50 : 0)\\n                .offset(y: initialState ? 0 : -200)\\n                .rotation3DEffect(initialState ? .degrees(0): .degrees(45), axis: (x: 1, y: 0, z: 0))\\n                .animation(.easeInOut(duration: 2), value: initialState)\\n               .frame(width:300, height:200)\\n        }\\n    }\\n}\\n```\\n\\n2. VStack\u4e2d\u6dfb\u52a0\u4e2a\u6309\u94ae\u89e6\u53d1\u52a8\u753b\\n```swift\\nButton {\\n    initialState.toggle()\\n} label: {\\n    Text(\\"Animate\\")\\n        .fontWeight(.heavy)\\n        .foregroundColor(.white)\\n        .padding()\\n        .background(.green)\\n        .cornerRadius(5)\\n}\\n```\\n\\n3. \u5c1d\u8bd5\u5728\u6dfb\u52a02\u4e2d\u53d8\u5316\\n```swift\\nRectangle()\\n.fill(initialState ? .blue : .red)\\n.cornerRadius(initialState ? 50 : 0)\\n.offset(y: initialState ? 0 : -200)\\n.rotation3DEffect(initialState ? .degrees(0): .degrees(45), axis: (x: 1, y: 0, z: 0))\\n.scaleEffect(initialState ? 1 : 0.8)\\n.rotationEffect(initialState ? Angle(degrees:0) : Angle(degrees:-90))\\n.animation(.linear(duration: 1), value: initialState)\\n.frame(width: 300, height: 200)\\n```\\n\\n![Figure_8.7_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gy9qht0ovfj30hw0bq3z1.jpg)\\n\\n## How it works\u2026\\n\\nanimation\u662f\u5bf9\u4e4b\u524d\u7684\u6240\u6709\u4fee\u9970\u7b26\uff0c\u6240\u4ee5\u6211\u4eec\u5728animate\u4fee\u9970\u7b26\u524d\u76f4\u63a5\u4fee\u6539\u5bf9\u5e94\u7684\u5c5e\u6027\u5c31\u884c\u3002"},{"id":"/2021/12/30/SwiftUI\u4e13\u8f91-057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","metadata":{"permalink":"/2021/12/30/SwiftUI\u4e13\u8f91-057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-30-SwiftUI\u4e13\u8f91-057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b/index.md","source":"@site/blog/2021-12-30-SwiftUI\u4e13\u8f91-057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","description":"headerimg","date":"2021-12-30T00:00:00.000Z","formattedDate":"2021\u5e7412\u670830\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.59,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation","permalink":"/2021/12/31/SwiftUI\u4e13\u8f91-058-\u540c\u65f6\u8fdb\u884c\u591a\u4e2aanimation"},"nextItem":{"title":"SwiftUI\u4e13\u8f91056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","permalink":"/2021/12/29/SwiftUI\u4e13\u8f91-056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\n\u521b\u5efa\u52a8\u753b\u67092\u4e2d\u65b9\u5f0f\uff1a\\n\\n- \u4f7f\u7528 **.animation()** \u4fee\u9970\u7b26\\n- \u4f7f\u7528 **withAnimation** \u51fd\u6570\\n\\n\u4e0a\u4e00\u7ae0\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u7528animation\u4fee\u9970\u7b26\u521b\u5efa\u4e00\u7ec4\u52a8\u753b\uff0c\u672c\u7ae0\u6211\u4eec\u5c06\u4ecb\u7ecd\u7528withAnimation\u51fd\u6570\u7ed3\u5408delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**DelayedAnimations**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u5b9a\u4e49\u4e2aextention\uff0c\u65b9\u4fbf\u6211\u4eec\u5904\u7406\u6837\u5f0f\\n```swift\\nstruct CustomText: ViewModifier {\\n    let foreground: Color\\n    let background: Color\\n    let cornerRadius: Double\\n\\n    func body(content: Content) -> some View {\\n        content\\n            .foregroundColor(foreground)\\n            .frame(width: 200)\\n            .padding()\\n            .background(background)\\n            .cornerRadius(cornerRadius)\\n    }\\n}\\n\\nextension Text {\\n    func styled(color: Color) -> some View {\\n            modifier(CustomText(foreground: .white,\\n                                background: color,\\n                                cornerRadius: 10))    \\n        }\\n}\\n```\\n\\n2. \u6dfb\u52a03\u4e2aText\\n```swift\\nstruct ContentView: View {\\n    @State var hideFirst = true\\n    @State var hideSecond = true\\n    @State var hideThird = true\\n    \\n    var body: some View {\\n        VStack {\\n            VStack {\\n                Text(\\"First\\").styled(color: .red).opacity(hideFirst ? 0 : 1)\\n                Text(\\"Second\\").styled(color: .red).opacity(hideSecond ? 0 : 1)\\n                Text(\\"Third\\").styled(color: .red).opacity(hideThird ? 0 : 1)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n3. \u5728\u7b2c\u4e00\u4e2aVstack\u4e2d\u52a0\u4e2aSpacer\u548c\u4e00\u4e2aButton\u6765\u89e6\u53d1\u52a8\u753b\\n```swift\\nSpacer()\\nButton {\\n    withAnimation(.easeInOut) {\\n        hideFirst.toggle()\\n    }\\n    withAnimation(.easeInOut.delay(0.3)) {\\n        hideSecond.toggle()\\n    }\\n    withAnimation(.easeInOut.delay(0.6)) {\\n        hideThird.toggle()\\n    }\\n} label: {\\n    Text(\\"Animate\\").fontWeight(.heavy).styled(color: .green)\\n}\\n```\\n\\n\u70b9\u51fbanimate\uff0c\u6211\u4eec\u80fd\u591f\u770b\u52303\u4e2a\u6309\u94ae\u4f9d\u6b21\u51fa\u73b0\uff0c\u518d\u70b9\u4e00\u6b21\u4f9d\u6b21\u6d88\u5931\\n\\n![image-20220111141025243](https://tva1.sinaimg.cn/large/008i3skNgy1gy9pbwnj1bj30ce0p2q3f.jpg)\\n\\n## How it works\u2026\\n\\n\u8fd9\u4e2a\u539f\u7406\u548canimate\u4fee\u9970\u7b26\u4e00\u6837\uff0c\u90fd\u662f\u901a\u8fc7delay\u6765\u5b9e\u73b0\u4e00\u7ec4\u52a8\u753b\u3002\u6211\u4eec\u8fd8\u662f\u671f\u5f85\u5b98\u65b9\u63d0\u4f9b\u66f4\u5408\u9002\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u4e00\u7ec4\u52a8\u753b\u3002"},{"id":"/2021/12/29/SwiftUI\u4e13\u8f91-056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","metadata":{"permalink":"/2021/12/29/SwiftUI\u4e13\u8f91-056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-29-SwiftUI\u4e13\u8f91-056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b/index.md","source":"@site/blog/2021-12-29-SwiftUI\u4e13\u8f91-056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","description":"headerimg","date":"2021-12-29T00:00:00.000Z","formattedDate":"2021\u5e7412\u670829\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.865,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","permalink":"/2021/12/30/SwiftUI\u4e13\u8f91-057-\u7528withAnimation\u521b\u5efa\u4e00\u7ec4\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91055-\u521b\u5efaspring\u52a8\u753b","permalink":"/2021/12/28/SwiftUI\u4e13\u8f91-055-\u521b\u5efaspring\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\n\u76ee\u524d\u5df2\u7ecf\u662fSwiftUI 3 \u4e86\uff0c\u4f46\u4ecd\u7136\u65e0\u6cd5\u5c06\u4e0d\u540c\u7684\u52a8\u753b\u8fde\u63a5\u5728\u4e00\u8d77\u4ee5\u521b\u5efa\u4e00\u7ec4\u52a8\u753b\u3002\u8fd9\u80af\u5b9a\u4f1a\u5728\u4ee5\u540e\u7684 SwiftUI \u7248\u672c\u4e2d\u4fee\u590d\uff0c\u4f46\u76ee\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5ef6\u8fdf\u6765\u5b9e\u73b0\u4e00\u7ec4\u52a8\u753b\u3002\\n\\n\u6211\u4eec\u77e5\u9053\uff0c\u5b9a\u4e49\u52a8\u753b\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a\\n\\n- \u4f7f\u7528**.animation()**\u4fee\u9970\u7b26\\n- \u4f7f\u7528**withAnimation**\u51fd\u6570\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u770b\u5230\u5982\u4f55\u4f7f\u7528**.animation()**\u4fee\u9970\u7b26\u6765\u521b\u5efa\u4e00\u7ec4\u52a8\u753b\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u7ae0\u4e2d\u4ecb\u7ecd**withAnimation**\u51fd\u6570\u6765\u521b\u5efa\u4e00\u7ec4\u52a8\u753b\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**DelayedAnimations**\\n\\n## How to do it\u2026\\n\\n\u6b64\u6b21\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u957f\u65b9\u5f62\uff0c\u5e76\u52a0\u4e0a\u4e00\u7ec4\u52a8\u753b\uff1a\\n\\n- \u4fee\u6539y offset\\n- \u4fee\u6539scale\\n- \u56f4\u7ed5x\u8f74\u7684\u4e00\u4e2a3D\u65cb\u8f6c\\n\\n1. \u521b\u5efa\u6211\u4eec\u7684\u957f\u65b9\u5f62\\n```swift\\nstruct ContentView: View {\\n    let duration = 1.0\\n    @State var change = false\\n    \\n    var body: some View {\\n        VStack(spacing: 30) {\\n            Rectangle()\\n                .fill(.blue)\\n                .offset(y: change ? -300 : 0)\\n                .animation(.easeInOut(duration: duration).delay(0), value: change)\\n                .scaleEffect(change ? 0.5 : 1)\\n                .animation(.easeInOut(duration: duration).delay(duration), value: change)\\n                .rotation3DEffect(change ? .degrees(45) : .degrees(0), axis: (x: 1, y: 0, z: 0))\\n                .animation(.easeInOut(duration: duration).delay( 2 * duration), value: change)\\n                .frame(width: 200, height: 200)\\n        }\\n    }\\n}\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2a\u6309\u94ae\uff0c\u89e6\u53d1\u52a8\u753b\\n```swift\\nButton  {\\n    change.toggle()\\n} label: {\\n    Text(\\"Animate\\")\\n        .fontWeight(.heavy)\\n        .foregroundColor(.white)\\n        .padding()\\n        .background(.green)\\n        .cornerRadius(5)\\n}\\n```\\n\\n![image-20220111114426505](https://tva1.sinaimg.cn/large/008i3skNgy1gy9l40cqryj30bu0oumxd.jpg)\\n\\n## How it works\u2026\\n\\n\u5f53\u6211\u4eec\u5b9a\u4e49\u52a8\u753b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u4ed6\u4e00\u4e2a\u5ef6\u8fdf\u3002\\n\\n\u6bcf\u4e00\u4e2aanimate\u90fd\u662f\u57fa\u4e8e\u4e4b\u524d\u7684\u4fee\u9970\u7b26\u8fdb\u884c\u52a8\u753b\u7684\u3002\\n\\n\u9996\u5148\u6267\u884c\u7684\u662foffset\u52a8\u753b\uff0c\u7ed3\u675f\u540e\uff0c\u7b2c\u4e8c\u4e2a\u52a8\u753b\u521a\u5f00\u59cb\uff0c\u4ed6\u662f\u57fa\u4e8e\u5f53\u524doffset\u8fdb\u884cscaleEffect\u3002\u540c\u7406\u7b2c\u4e09\u4e2arotation3DEffect\u3002"},{"id":"/2021/12/28/SwiftUI\u4e13\u8f91-055-\u521b\u5efaspring\u52a8\u753b","metadata":{"permalink":"/2021/12/28/SwiftUI\u4e13\u8f91-055-\u521b\u5efaspring\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-28-SwiftUI\u4e13\u8f91-055-\u521b\u5efaspring\u52a8\u753b/index.md","source":"@site/blog/2021-12-28-SwiftUI\u4e13\u8f91-055-\u521b\u5efaspring\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91055-\u521b\u5efaspring\u52a8\u753b","description":"headerimg","date":"2021-12-28T00:00:00.000Z","formattedDate":"2021\u5e7412\u670828\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.485,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91055-\u521b\u5efaspring\u52a8\u753b","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b","permalink":"/2021/12/29/SwiftUI\u4e13\u8f91-056-\u7528\u4fee\u9970\u7b26\u7684delay\u521b\u5efa\u4e00\u7ec4\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","permalink":"/2021/12/27/SwiftUI\u4e13\u8f91-054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u5c06\u6f14\u793a\u5982\u4f55\u8ba9\u4e00\u4e2abanner\u505aspring\u52a8\u753b\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**BannerWithASpringAnimation**\\n\\n## How to do it\u2026\\n\\n1. \u5b9e\u73b0\u6211\u4eec\u7684banner\\n```swift\\nstruct BannerView: View {\\n    let message: String\\n    var show: Bool\\n    \\n    var body: some View {\\n        Text(message)\\n            .font(.title)\\n            .frame(width:UIScreen.main.bounds.width - 20, height: 100)\\n            .foregroundColor(.white)\\n            .background(Color.green)\\n            .cornerRadius(10)\\n            .offset(y: show ? -UIScreen.main.bounds.height / 3 : -UIScreen.main.bounds.height)\\n            .animation(.interpolatingSpring(mass: 2.0,  stiffness: 100.0, damping: 10, initialVelocity: 0), value: show)\\n    }\\n}\\n```\\n\\n2. \u6dfb\u52a0Banner\u548c\u4e00\u4e2a\u6309\u94ae\u5230ContentView\u4e2d\\n```swift\\nstruct ContentView: View {\\n    @State var show = false\\n    \\n    var body: some View {\\n        VStack {\\n            BannerView(message: \\"Hello world\\", show: show)\\n            Button {\\n                show.toggle()\\n            } label: {\\n                Text(show ? \\"Hide\\" : \\"Show\\")\\n                    .padding()\\n                    .frame(width: 100)\\n                    .foregroundColor(.white)\\n                    .background(show ? .red : .blue)\\n                    .cornerRadius(10)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c:\\n\\n![image-20220111111402096](https://tva1.sinaimg.cn/large/008i3skNgy1gy9k8curm7j30c60p03yu.jpg)\\n\\n\\n\\n\u6211\u4eec\u518d\u590d\u4e60\u4e00\u4e0b\u52a8\u753b\u76843\u4e2a\u8981\u7d20\uff1a\\n\\n- \u89e6\u53d1\u5668\uff1a\u6211\u4eec\u7684\u6309\u94ae\\n- \u6570\u636e\u53d8\u5316\uff1ashow\\n- UI\u53d8\u5316\uff1aoffset(y:)\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770bspring\u52a8\u753b\u7684\u4e00\u4e9b\u53c2\u6570\uff1a\\n\\n- **mass**\uff1a\u8fd9\u662f\u9644\u7740\u5728\u5f39\u7c27\u4e0a\u7684\u7269\u4f53\u7684\u8d28\u91cf\u2014\u2014\u5b83\u8d8a\u5927\uff0c\u5b83\u83b7\u5f97\u7684\u60ef\u6027\u8d8a\u5927\uff0c\u6240\u4ee5\u5b83\u53cd\u5f39\u5f97\u66f4\u591a\u3002\\n- **stiffness**\uff1a\u8fd9\u662f\u65bd\u52a0\u529b\u65f6\u5f39\u7c27\u7684\u62b5\u6297\u529b\u2014\u2014\u963b\u529b\u8d8a\u5927\uff0c\u5f39\u7c27\u7684\u521a\u5ea6\u8d8a\u5927\u3002\\n- **damping**\uff1a\u8fd9\u662f\u5f39\u7c27\u62b5\u6297\u53d8\u5316\u7684\u7a0b\u5ea6\u2014\u2014\u963b\u529b\u8d8a\u5927\uff0c\u5f39\u7c27\u7684\u5f39\u8df3\u8d8a\u5c0f\u3002\\n- **initialVelocity**\uff1a\u8fd9\u662f\u52a8\u753b\u5f00\u59cb\u7684\u521d\u59cb\u901f\u5ea6\u3002"},{"id":"/2021/12/27/SwiftUI\u4e13\u8f91-054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","metadata":{"permalink":"/2021/12/27/SwiftUI\u4e13\u8f91-054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-27-SwiftUI\u4e13\u8f91-054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027/index.md","source":"@site/blog/2021-12-27-SwiftUI\u4e13\u8f91-054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027/index.md","title":"SwiftUI\u4e13\u8f91054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","description":"headerimg","date":"2021-12-27T00:00:00.000Z","formattedDate":"2021\u5e7412\u670827\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.275,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91055-\u521b\u5efaspring\u52a8\u753b","permalink":"/2021/12/28/SwiftUI\u4e13\u8f91-055-\u521b\u5efaspring\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91053-\u521b\u5efa\u57fa\u672c\u52a8\u753b","permalink":"/2021/12/26/SwiftUI\u4e13\u8f91-053-\u521b\u5efa\u57fa\u672c\u52a8\u753b"}},"content":"![headerimg](./Header.png)\\n\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\u6211\u4eec\u77e5\u9053\u4e86\uff0cSwiftui\u80fd\u591f\u5bf9\u4e00\u4e9b\u901a\u7528\u5c5e\u6027\u8fdb\u884c\u52a8\u753b\uff0c\u6bd4\u5982\uff1a\u4f4d\u7f6e\u3001\u989c\u8272\u3001\u5927\u5c0f\u7b49\u3002\\n\\n\u4f46\u5982\u679c\u6211\u4eec\u60f3\u8981\u52a8\u753b\u7684\u4e1c\u897f\u4e0d\u5c5e\u4e8eframework\u7684\u4e00\u90e8\u5206\u5462\uff1f\\n\\n\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u5176\u9ad8\u5ea6\u7b49\u4e8e\u5bbd\u5ea6\u4e58\u4ee5\u4e00\u4e2a\u6bd4\u4f8b\u3002\u5f53\u6211\u4eec\u70b9\u51fb\u4e09\u89d2\u5f62\u65f6\uff0c\u6211\u4eec\u5c06\u8be5\u6bd4\u4f8b\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u4ece\u800c\u6539\u53d8\u9ad8\u5ea6\u3002\\n\\n\u6211\u4eec\u5982\u4f55\u8ba9SwiftUI \u80fd\u591f\u5bf9\u6bd4\u4f8b\u7684\u53d8\u5316\u8fdb\u884c\u52a8\u753b\u5462\uff1f\u6211\u4eec\u5c06\u770b\u5230\u6240\u9700\u7684\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u4f46\u5e95\u5c42\u5f15\u64ce\u5374\u76f8\u5f53\u590d\u6742\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**AnimateTriangleShape**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u4e09\u89d2\u5f62**Triangle**\\n```swift\\nstruct Triangle: Shape {\\n    var multiplier: CGFloat\\n    func path(in rect: CGRect) -> Path {\\n        Path { path in\\n            path.move(to: CGPoint(x: rect.minX, y: rect.maxY))\\n            path.addLine(to: CGPoint(x: rect.maxX, y: rect.maxY))\\n            path.addLine(to: CGPoint(x: rect.midX, y: rect.maxY - rect.width * multiplier))\\n            path.closeSubpath()\\n        }\\n    }\\n}\\n```\\n\\n2. \u5c06\u4e09\u89d2\u5f62\u6dfb\u52a0\u5230ContentView\u4e2d\\n```swift\\nstruct ContentView: View {\\n    @State var multiplier = 1.0\\n    var body: some View {\\n        Triangle(multiplier: multiplier)\\n            .fill(.red)\\n            .frame(width: 300, height: 300)\\n            .onTapGesture {\\n              \\n                withAnimation(.easeOut(duration: 1.0)) {\\n                    multiplier = .random(in: 0.3...1.5)\\n                }\\n            }\\n    }\\n}\\n```\\n\\n3. \u6b64\u65f6\u70b9\u51fb\uff0c\u867d\u7136shape\u53d8\u5316\u4e86\uff0c\u4f46\u662f\u5374\u6ca1\u6709\u52a8\u753b\uff0c\u56e0\u4e3aSwiftUI\u5e76\u4e0d\u77e5\u9053\u4ed6\u5e94\u8be5animate\u54ea\u4e2a\u6570\u636e\uff0c\u56e0\u6b64\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a**animatableData**\u5230Triangle\u4e2d, \u8ba9swiftui\u77e5\u9053\u5e94\u8be5animate multiplier\u8fd9\u4e2a\u6570\u636e\u3002\\n```swift\\nvar animatableData: CGFloat {\\n    get { multiplier }\\n    set { multiplier = newValue }\\n}\\n```\\n\\n\u6b64\u65f6\u70b9\u51fb\uff0c\u5c31\u80fd\u770b\u5230\u52a8\u753b\u4e86\\n\\n![image-20220111104856015](https://tva1.sinaimg.cn/large/008i3skNly1gy9jia1lgkj30c00oiglw.jpg)\\n\\n## How it works\u2026\\n\\nSwiftUI\u53ea\u80fd\u5bf9\u9075\u5faa\u4e86**Animatable**\u534f\u8bae\u7684\u7ec4\u4ef6\u8fdb\u884c\u52a8\u753b\u3002\u8fd9\u610f\u5473\u7740\u4ed6\u5e94\u8be5\u62e5\u6709\u4e00\u4e2a**animatableData**\uff0cSwiftUI\u4ece\u8fd9\u4e2a\u503c\u91cc\u4fdd\u5b58\u548c\u83b7\u53d6\u52a8\u753b\u7684\u4e2d\u95f4\u503c\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u5728set\u65b9\u6cd5\u91cc\u6253\u5370\u51fa\u4e2d\u95f4\u503c\\n\\n```swift\\nset {\\n    multiplier = newValue\\n    print(\\"value: \\\\(multiplier)\\")\\n}\\n```\\n\\n\u53e6\u5916\u8fd8\u6ce8\u610f\u4e00\u4e0b\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662f**withAnimation**\u8fdb\u884c\u52a8\u753b\u7684\u3002"},{"id":"/2021/12/26/SwiftUI\u4e13\u8f91-053-\u521b\u5efa\u57fa\u672c\u52a8\u753b","metadata":{"permalink":"/2021/12/26/SwiftUI\u4e13\u8f91-053-\u521b\u5efa\u57fa\u672c\u52a8\u753b","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-26-SwiftUI\u4e13\u8f91-053-\u521b\u5efa\u57fa\u672c\u52a8\u753b/index.md","source":"@site/blog/2021-12-26-SwiftUI\u4e13\u8f91-053-\u521b\u5efa\u57fa\u672c\u52a8\u753b/index.md","title":"SwiftUI\u4e13\u8f91053-\u521b\u5efa\u57fa\u672c\u52a8\u753b","description":"headerimg","date":"2021-12-26T00:00:00.000Z","formattedDate":"2021\u5e7412\u670826\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.125,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91053-\u521b\u5efa\u57fa\u672c\u52a8\u753b","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027","permalink":"/2021/12/27/SwiftUI\u4e13\u8f91-054-\u81ea\u5b9a\u4e49\u52a8\u753b\u5c5e\u6027"},"nextItem":{"title":"SwiftUI\u4e13\u8f91052-\u7ed8\u5236\u997c\u72b6\u56fe","permalink":"/2021/12/25/SwiftUI\u4e13\u8f91-052-\u7ed8\u5236\u997c\u72b6\u56fe"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u6765\u5b9e\u73b0\uff0c\u5c062\u4e2a\u5706\u5708\u4ece\u9876\u90e8\u79fb\u52a8\u5230\u5e95\u90e8\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u5de5\u7a0b\uff1a**BasicAnimations**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u5305\u542b\u9ed8\u8ba4\u65f6\u95f4\u66f2\u7ebf\u7684\u7c7b\u578b\uff0c\u4f9b\u6211\u4eecList\u9009\u62e9\\n```swift\\nstruct AnimationType {\\n    let name: String\\n    let animation: Animation\\n    static var all: [AnimationType]  = [\\n      .init(name: \\"default\\", animation: .default),\\n      .init(name: \\"easeIn\\", animation: .easeIn),\\n      .init(name: \\"easeOut\\", animation: .easeOut),\\n      .init(name: \\"easeInOut\\", animation: .easeInOut),\\n      .init(name: \\"linear\\", animation: .linear),\\n      .init(name: \\"spring\\", animation: .spring()),\\n    ]\\n}\\n```\\n\\n2. \u7136\u540e\u5728ContentView\u4e2d\u6dfb\u52a0\u51e0\u4e2a\u72b6\u6001\uff0c\u4f9b\u6211\u4eec\u4f7f\u7528\\n```swift\\nstruct ContentView: View {\\n    @State var onTop = false //\u662f\u5426\u5728\u9876\u90e8\uff0c\u63a7\u5236\u662f\u4ece\u4e0a\u5230\u4e0b\uff0c\u8fd8\u662f\u4ece\u4e0b\u5230\u4e0a\\n    @State var showSelection = false //\u662f\u5426\u663e\u793a\u52a8\u753b\u9009\u62e9\u754c\u9762\\n  //\u5f53\u524d\u9009\u62e9\u7684\u52a8\u753b\u7c7b\u578b\\n    @State var type = AnimationType(name: \\"default\\", animation: .default)\\n\\n    var body: some View {\\n        Text(\\"\\")\\n    }\\n}\\n```\\n\\n3. \u6dfb\u52a0\u4e24\u4e2a\u5706\u5708\\n```swift\\nvar body: some View {\\n    VStack(spacing: 12) {\\n        GeometryReader { geometry in\\n            HStack {\\n                Circle()\\n                    .fill(.blue)\\n                    .frame(width: 80, height: 80)\\n                    .offset(y: onTop ? -geometry.size.height/2 : geometry.size.height/2)\\n                    .animation(.default, value: onTop)\\n                Spacer()\\n                Circle()\\n                    .fill(.red)\\n                    .frame(width: 80, height: 80)\\n                    .offset(y: onTop ? -geometry.size.height/2 : geometry.size.height/2)\\n                    .animation(type.animation, value: onTop)\\n            }.padding(.horizontal, 30)\\n        }\\n    }\\n}\\n```\\n\\n4. \u6dfb\u52a0\u4e2aactionsheet\uff0c\u8ba9\u6211\u4eec\u9009\u62e9\u52a8\u753b\u7c7b\u578b\\n```swift\\nvar actionSheet: ActionSheet {\\n    ActionSheet(title: Text(\\"Animations\\"),\\n                message: nil,\\n                buttons: AnimationType.all.map{ type in\\n            .default(Text(type.name)) {\\n                self.type = type\\n            }\\n    } + [.destructive(Text(\\"Cancel\\"))])\\n}   \\n```\\n\\n5. \u5728VStack\u4e2d\u6dfb\u52a02\u4e2a\u6309\u94ae\uff0c\u6765\u89e6\u53d1\u52a8\u753b\uff0c\u548c\u9009\u62e9\u52a8\u753b\u7c7b\u578b\\n```swift\\nButton(\\"Animate\\") {\\n    onTop.toggle()\\n}\\nButton(\\"Choose Animation\\") {\\n    showSelection.toggle()\\n}.actionSheet(isPresented: $showSelection) {\\n    actionSheet\\n}\\nText(\\"Current: \\\\(type.name)\\")\\n```\\n\\n![image-20220108174450179](https://tva1.sinaimg.cn/large/008i3skNly1gy6eo50lgfj30bu0oiq39.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u505a\u52a8\u753b\u67093\u6b65\uff1a\\n\\n- \u67d0\u4e2a\u89e6\u53d1\u52a8\u753b\u7684\u4e8b\u4ef6\uff0c\u6bd4\u5982\u6211\u4eec\u7684\u6309\u94ae\u70b9\u51fb\\n- \u67d0\u4e2a\u72b6\u6001\uff0c\u6211\u4eec\u6839\u636e\u8fd9\u4e2a\u72b6\u6001\u4fee\u6539\u6570\u636e\uff0c\u6bd4\u5982onTop\\n- UI\u72b6\u6001\u7684\u6539\u53d8\uff0c\u6bd4\u5982\u6211\u4eec\u7684offset(y:)\\n\\n\u6709\u4e86\u8fd93\u70b9\uff0c\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a **.animation()**\u4fee\u9970\u7b26\uff0cSwiftUI\u5c31\u4f1a\u5728\u89e6\u53d1\u65f6\u5b8c\u6210\u52a8\u753b\u3002\\n\\n\u5982\u679c\u4f60\u5e0c\u671b\u52a8\u753b\u6162\u4e00\u70b9\uff0c\u597d\u770b\u6e05\u4e0d\u540c\u52a8\u753b\u7684\u533a\u522b\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8bbe\u7f6espeed\\n\\n```swift\\n.animation(Animation.default.speed(0.1), value: onTop)\\n```\\n\\n## Animation\u7684Api\\n\\n### Instance Methods\\n\\n```swift\\nfunc delay(_ delay: Double) -> Animation//\u5ef6\u8fdf\\nfunc repeatCount(_ repeatCount: Int, autoreverses: Bool = true) -> Animation//\u91cd\u590d\\nfunc repeatForever(autoreverses: Bool = true) -> Animation\\nfunc speed(_ speed: Double) -> Animation\\n```\\n\\n### Type Methods\\n\\n```swift\\n//\u6211\u4eec\u719f\u6089\u7684\u65f6\u95f4\u66f2\u7ebf\uff0c\u52a8\u753b\u65f6\u95f4\u662f\u4e00\u4e2a\u53c2\u6570\uff0c\u5e76\u4e0d\u662f\u5355\u72ec\u7684\u4fee\u9970\u7b26\\nstatic func easeIn(duration: Double) -> Animation\\nstatic func easeInOut(duration: Double) -> Animation\\nstatic func easeOut(duration: Double) -> Animation\\nstatic func interactiveSpring(response: Double = 0.15, dampingFraction: Double = 0.86, blendDuration: Double = 0.25) -> Animation\\nstatic func interpolatingSpring(mass: Double = 1.0, stiffness: Double, damping: Double, initialVelocity: Double = 0.0) -> Animation\\nstatic func linear(duration: Double) -> Animation\\nstatic func spring(response: Double = 0.55, dampingFraction: Double = 0.825, blendDuration: Double = 0) -> Animation\\nstatic func timingCurve(_ c0x: Double, _ c0y: Double, _ c1x: Double, _ c1y: Double, duration: Double = 0.35) -> Animation"},{"id":"/2021/12/25/SwiftUI\u4e13\u8f91-052-\u7ed8\u5236\u997c\u72b6\u56fe","metadata":{"permalink":"/2021/12/25/SwiftUI\u4e13\u8f91-052-\u7ed8\u5236\u997c\u72b6\u56fe","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-25-SwiftUI\u4e13\u8f91-052-\u7ed8\u5236\u997c\u72b6\u56fe/index.md","source":"@site/blog/2021-12-25-SwiftUI\u4e13\u8f91-052-\u7ed8\u5236\u997c\u72b6\u56fe/index.md","title":"SwiftUI\u4e13\u8f91052-\u7ed8\u5236\u997c\u72b6\u56fe","description":"headerimg","date":"2021-12-25T00:00:00.000Z","formattedDate":"2021\u5e7412\u670825\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.945,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91052-\u7ed8\u5236\u997c\u72b6\u56fe","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91053-\u521b\u5efa\u57fa\u672c\u52a8\u753b","permalink":"/2021/12/26/SwiftUI\u4e13\u8f91-053-\u521b\u5efa\u57fa\u672c\u52a8\u753b"},"nextItem":{"title":"SwiftUI\u4e13\u8f91051-\u7ed8\u5236\u67f1\u72b6\u56fe","permalink":"/2021/12/24/SwiftUI\u4e13\u8f91-051-\u7ed8\u5236\u67f1\u72b6\u56fe"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u77e5\u9053\u997c\u56fe\u662f\u4e00\u79cd\u901a\u8fc7\u4f7f\u7528\u5f62\u6210\u5706\u5708\u7684\u5207\u7247\u6765\u8868\u793a\u6bd4\u4f8b\u6570\u503c\u7684\u65b9\u6cd5\u3002\u997c\u56fe\u7531\u4e00\u4e2a\u5207\u7247\u548c\u4e00\u4e2a\u5706\u7ec4\u6210, \u5728 SwiftUI \u4e2d\u5b9e\u73b0\u5b83\u4eec\u975e\u5e38\u7b80\u5355\u3002\\n\\n\u672c\u7ae0\u5c06\u663e\u793a\u7528\u997c\u72b6\u56fe\u663e\u793a\u4e09\u4e2a\u4e0d\u540c\u6b27\u6d32\u57ce\u5e02\u7684\u5ba0\u7269\u6570\u91cf\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee\uff1a**PieChart**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u5b9a\u4e49\u6570\u636e\u7ed3\u6784\\n```swift\\nenum Animal: String {\\n   case cat\\n   case dog\\n   case fish\\n   case horse\\n   case hamster\\n   case rabbit\\n   case bird\\n   var color: Color {\\n       switch self {\\n       case .cat: return .red\\n       case .dog: return .blue\\n       case .fish: return .green\\n       case .horse: return .orange\\n       case .hamster: return .purple\\n       case .rabbit: return .gray\\n       case .bird: return .yellow\\n       }\\n   }\\n}\\n\\nstruct PetData {\\n    let value: Double\\n    let animal: Animal\\n    var color: Color {\\n        animal.color\\n    }\\n    var name: String {\\n        animal.rawValue.capitalized\\n    }\\n}\\n\\nstruct DataPoint: Identifiable {\\n    let id = UUID()\\n    let label: String\\n    let value: Double\\n    let color: Color\\n    var percentage = 0.0\\n    var startAngle = 0.0\\n    var formattedPercentage: String {\\n        String(format: \\"%.2f %%\\", percentage * 100)\\n    }\\n}\\n\\nstruct DataPoints {\\n    var points = [DataPoint]()\\n    mutating func add(value: Double, label: String, color: Color) {\\n        points.append(DataPoint(label: label, value: value, color: color))\\n        let total = points.map(\\\\.value).reduce(0.0,+)\\n        points = points.map {\\n            var point = $0\\n            point.percentage = $0.value / total\\n            return point\\n        }\\n\\n        for i in 1..<points.count {\\n            let previous =  points[i - 1]\\n            let angle = previous.startAngle + previous.value*360/total\\n            var current = points[i]\\n            current.startAngle = angle\\n            points[i] = current\\n        }\\n    }\\n}\\n```\\n\\n2. \u51c6\u5907\u6570\u636e\\n```swift\\nstruct DataSet {\\n    static let dublin: [PetData] = [\\n        .init(value: 2344553, animal: .cat),\\n        .init(value: 1934345, animal: .dog),\\n        .init(value: 323454, animal: .fish),\\n        .init(value: 403400, animal: .rabbit),\\n        .init(value: 1003445, animal: .horse),\\n        .init(value: 1600494, animal: .hamster),\\n    ]\\n\\n    static let milan: [PetData] = [\\n        .init(value: 3344553, animal: .cat),\\n        .init(value: 2004345, animal: .dog),\\n        .init(value: 923454, animal: .fish),\\n        .init(value: 803400, animal: .rabbit),\\n        .init(value: 1642345, animal: .bird),\\n        .init(value: 804244, animal: .hamster),\\n    ]\\n\\n    static let london: [PetData] = [\\n        .init(value: 3355553, animal: .cat),\\n        .init(value: 4235345, animal: .dog),\\n        .init(value: 1913454, animal: .fish),\\n        .init(value: 1103400, animal: .rabbit),\\n        .init(value: 683445, animal: .horse),\\n        .init(value: 3300494, animal: .hamster),\\n    ]\\n}\\n```\\n\\n3. \u5b9a\u4e49\u997c\u7684\u5f62\u72b6\\n```swift\\nstruct PieSliceShape: InsettableShape {\\n    var percent: Double\\n    var startAngle: Angle\\n    var insetAmount: CGFloat = 0\\n\\n    func inset(by amount: CGFloat) -> some InsettableShape {\\n        var slice = self\\n        slice.insetAmount += amount\\n        return slice\\n    }\\n\\n    func path(in rect: CGRect) -> Path {\\n        Path { path in\\n            path.addArc(center: CGPoint(x: rect.size.width / 2, y: rect.size.width / 2), radius: rect.size.width / 2 - insetAmount, startAngle: startAngle, endAngle: startAngle + Angle(degrees: percent * 360), clockwise: false)\\n        }\\n    }\\n}\\n\\nstruct PieSlice: View {\\n    var percent: Double\\n    var degrees: Double\\n    var color: Color\\n\\n    var body: some View {\\n        GeometryReader { geometry in\\n            PieSliceShape(percent: percent, startAngle: Angle(degrees: degrees))\\n                .strokeBorder(color, lineWidth:geometry.size.width/2)\\n                .rotationEffect(.degrees(-90))\\n               .aspectRatio(contentMode: .fit)\\n        }\\n    }\\n}\\n```\\n\\n4. \u5b9a\u4e49\u6574\u4e2a\u997c\u56fe\\n```swift\\nstruct PieChart: View {\\n    var dataPoints: DataPoints\\n    var body: some View {\\n        VStack(alignment: .leading, spacing: 30) {\\n            VStack(alignment: .leading) {\\n                ForEach(dataPoints.points) { p in\\n                    HStack(spacing: 16) {\\n                        Rectangle()\\n                       .foregroundColor(p.color)\\n                       .frame(width: 16, height: 16)\\n                        Text(\\"\\\\(p.label): \\\\(p.formattedPercentage)\\")\\n                    }\\n                }\\n            }\\n            ZStack {\\n                ForEach(dataPoints.points) { point in\\n                  PieSlice(percent: point.percentage, degrees: point.startAngle, color: point.color)\\n                }\\n            }.aspectRatio(contentMode: .fill)\\n        }\\n    }\\n}\\n```\\n\\n5. \u663e\u793a\u6570\u636e\\n```swift\\nstruct ContentView: View {\\n    var dataSet: [DataPoints] = [\\n        DataSet.dublin.reduce(into: DataPoints()) {\\n          $0.add(value: $1.value, label: $1.name, color: $1.color)\\n        },\\n        DataSet.milan.reduce(into: DataPoints()) {\\n            $0.add(value: $1.value, label: $1.name, color: $1.color)\\n        },\\n        DataSet.london.reduce(into: DataPoints()) {\\n            $0.add(value: $1.value, label: $1.name, color: $1.color)\\n        },\\n    ]\\n\\n    @State var selectedCity = 0\\n    var body: some View {\\n        VStack (spacing: 50) {\\n            Text(\\"Most Popular Pets\\")\\n                .font(.system(size: 32))\\n\\n            Picker(selection: self.$selectedCity, label: Text(\\"Most Popular Pets\\")) {\\n                Text(\\"Dublin\\").tag(0)\\n                Text(\\"Milan\\").tag(1)\\n                Text(\\"London\\").tag(2)\\n            }.pickerStyle(SegmentedPickerStyle())\\n            PieChart(dataPoints: dataSet[selectedCity])\\n                .aspectRatio(1, contentMode: .fit)\\n            Spacer()\\n        }\\n        .padding(.horizontal, 20)\\n    }\\n}\\n```\\n\\n![image-20220107003859213](https://tva1.sinaimg.cn/large/008i3skNly1gy4fedd6c9j30ca0oqdgs.jpg)\\n\\n## How it works\\n\\n\u6211\u4eec\u4f7f\u7528\u4e86**InsettableShape**\uff0c \u8fd9\u5141\u8bb8\u6211\u4eec\u4f7f\u7528**strokeBorder()**\u800c\u4e0d\u662f**stroke()**\u3002\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4ed6\u4eec\u7684\u533a\u522b\u4e86\uff1a\\n\\n![Figure_7.15_B17962](https://tva1.sinaimg.cn/large/008i3skNly1gy4fggol78j309q04paa0.jpg)\\n\\n\u6709\u4e86strokeBorder()\uff0c\u6211\u4eec\u53ea\u8981\u8ba9border\u7b49\u4e8e\u5706\u7684\u534a\u5f84\uff0c\u90a3\u4e48\u5c31\u80fd\u770b\u5230\u4e00\u5757\u5706\u997c\u3002\\n\\n\u4e3a\u4e86\u62ff\u5230\u5706\u7684\u534a\u5f84\uff0c\u6211\u4eec\u4f7f\u7528\u4e86GeometryReader\uff0c\u80fd\u591f\u901a\u8fc7geometry.size\u62ff\u5230\u5927\u5c0f\u3002\\n\\n\u4f7f\u7528rotationEffect\uff0c\u5c06\u7ed8\u5236\u5f00\u59cb\u7684\u4f4d\u7f6e\u53d8\u4e3a\u4e2d\u95f4\uff0c\u8fd9\u6837\u6bcf\u4e2a\u5706\u997c\u7684\u4e2d\u95f4\u90fd\u4f1a\u662f\u5206\u5272\u7ebf\u3002"},{"id":"/2021/12/24/SwiftUI\u4e13\u8f91-051-\u7ed8\u5236\u67f1\u72b6\u56fe","metadata":{"permalink":"/2021/12/24/SwiftUI\u4e13\u8f91-051-\u7ed8\u5236\u67f1\u72b6\u56fe","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-24-SwiftUI\u4e13\u8f91-051-\u7ed8\u5236\u67f1\u72b6\u56fe/index.md","source":"@site/blog/2021-12-24-SwiftUI\u4e13\u8f91-051-\u7ed8\u5236\u67f1\u72b6\u56fe/index.md","title":"SwiftUI\u4e13\u8f91051-\u7ed8\u5236\u67f1\u72b6\u56fe","description":"headerimg","date":"2021-12-24T00:00:00.000Z","formattedDate":"2021\u5e7412\u670824\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.12,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91051-\u7ed8\u5236\u67f1\u72b6\u56fe","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91052-\u7ed8\u5236\u997c\u72b6\u56fe","permalink":"/2021/12/25/SwiftUI\u4e13\u8f91-052-\u7ed8\u5236\u997c\u72b6\u56fe"},"nextItem":{"title":"SwiftUI\u4e13\u8f91050-\u4f7f\u7528\u6e10\u53d8","permalink":"/2021/12/23/SwiftUI\u4e13\u8f91-050-\u4f7f\u7528\u6e10\u53d8"}},"content":"![headerimg](./Header.png)\\n\u4f7f\u7528\u7b80\u5355\u7684\u5f62\u72b6\uff0c\u53ef\u4ee5\u6784\u5efa\u4e00\u4e9b\u4e0d\u9519\u7684\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u53ea\u9700\u4f7f\u7528\u4e00\u5806\u77e9\u5f62\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u67f1\u72b6\u56fe\u3002\\n\\n\u672c\u6587\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u6761\u5f62\u56fe\u663e\u793a\u4e86\u4e09\u4e2a\u6b27\u6d32\u57ce\u5e02\u7684\u5e73\u5747\u6708\u964d\u6c34\u91cf\uff1a\u90fd\u67cf\u6797\u3001\u7c73\u5170\u548c\u4f26\u6566\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\uff1a**BarChart**\u3002\\n\\n## How to do it\u2026\\n\\n1. \u5b9a\u4e49\u6570\u636emodel\\n```swift\\nenum Month: String, CaseIterable {\\n    case jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec\\n}\\n\\nstruct MonthDataPoint: Identifiable {\\n    var id: String { month.rawValue }\\n    let month: Month\\n    let value: Double\\n    var name: String {\\n        month.rawValue.capitalized\\n    }\\n}\\nextension Array where Element == Double {\\n    func monthDataPoints() -> [MonthDataPoint] {\\n        zip(Month.allCases, self)\\n            .map(MonthDataPoint.init)\\n    }\\n}\\n\\n```\\n\\n2. \u51c6\u5907\u6570\u636e\\n```swift\\nstruct DataSet {\\n    static let dublin = [ 0.65, 0.50, 0.55, 0.55, 0.60, 0.65, 0.55, 0.75, 0.60, 0.80, 0.75, 0.75].monthDataPoints()\\n    static let milan = [0.65, 0.65, 0.80, 0.80, 0.95, 0.65,0.70, 0.95, 0.70, 1.00, 1.00, 0.60].monthDataPoints()\\n    static let london = [ 0.55, 0.40, 0.40, 0.45, 0.50, 0.45,0.45, 0.50, 0.50, 0.70, 0.60, 0.55,].monthDataPoints()\\n}\\n```\\n\\n3. \u5b9a\u4e49\u6211\u4eec\u7684\u67f1\u72b6\u56fe\\n```swift\\nstruct BarView: View {\\n    var dataPoint: MonthDataPoint\\n    var body: some View {\\n        VStack {\\n            ZStack (alignment: .bottom) {\\n                Rectangle()\\n                    .fill(.blue)\\n                    .frame(width: 18, height: 180)\\n                Rectangle()\\n                    .fill(.white)\\n                    .frame(width: 18, height: dataPoint.value * 180.0)\\n            }\\n            Text(dataPoint.name)\\n                .font(.system(size: 11))\\n                .rotationEffect(.degrees(-45))\\n        }\\n    }\\n}\\n\\nstruct BarChartView: View {\\n    var dataPoints: [MonthDataPoint]\\n    var body: some View {\\n        HStack (spacing: 12) {\\n            ForEach(dataPoints) {\\n                BarView(dataPoint: $0)\\n            }\\n        }\\n    }\\n}\\n```\\n\\n4. \u7528Picker\u5c063\u4e2a\u57ce\u5e02\u7684\u6570\u636e\u663e\u793a\u51fa\u6765\\n```swift\\nstruct ContentView: View {\\n    let dataSet = [\\n        DataSet.dublin,\\n        DataSet.milan,\\n        DataSet.london,\\n    ]\\n    @State var selectedCity = 0\\n    var body: some View {\\n        VStack(spacing: 24) {\\n            Spacer()\\n            Text(\\"Average Precipitation\\")\\n                .font(.system(size: 32))\\n            Picker(selection: self.$selectedCity, label: Text(\\"Average Precipitation\\")) {\\n                Text(\\"Dublin\\").tag(0)\\n                Text(\\"Milan\\").tag(1)\\n                Text(\\"London\\").tag(2)\\n            }.pickerStyle(SegmentedPickerStyle())\\n            BarChartView(dataPoints: dataSet[selectedCity])\\n            Spacer()\\n        }\\n        .padding(.horizontal, 10)\\n        .background( .mint, ignoresSafeAreaEdges: .vertical)\\n    }\\n}\\n```\\n\\n![image-20220107001731926](https://tva1.sinaimg.cn/large/008i3skNly1gy4es1j0byj30ca0p2gmj.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u7528\u4e00\u4e2aZStack\u548c2\u4e2aRectangle\u505a\u6210\u4e86\u4e00\u4e2a\u67f1\u72b6\u56fe\uff0c\u4e00\u4e2a\u7a7a\u77e9\u5f62 \u7528\u4e8e\u80cc\u666f\u548c\u4e00\u4e2a\u77e9\u5f62\u663e\u793a\u767e\u5206\u6bd4\u3002\u518d\u5c06\u591a\u4e2a\u67f1\u72b6\u56fe\u7ec4\u5408\u8d77\u6765\u5f62\u6210\u56fe\u8868\u3002"},{"id":"/2021/12/23/SwiftUI\u4e13\u8f91-050-\u4f7f\u7528\u6e10\u53d8","metadata":{"permalink":"/2021/12/23/SwiftUI\u4e13\u8f91-050-\u4f7f\u7528\u6e10\u53d8","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-23-SwiftUI\u4e13\u8f91-050-\u4f7f\u7528\u6e10\u53d8/index.md","source":"@site/blog/2021-12-23-SwiftUI\u4e13\u8f91-050-\u4f7f\u7528\u6e10\u53d8/index.md","title":"SwiftUI\u4e13\u8f91050-\u4f7f\u7528\u6e10\u53d8","description":"headerimg","date":"2021-12-23T00:00:00.000Z","formattedDate":"2021\u5e7412\u670823\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.72,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91050-\u4f7f\u7528\u6e10\u53d8","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91051-\u7ed8\u5236\u67f1\u72b6\u56fe","permalink":"/2021/12/24/SwiftUI\u4e13\u8f91-051-\u7ed8\u5236\u67f1\u72b6\u56fe"},"nextItem":{"title":"SwiftUI\u4e13\u8f91049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f","permalink":"/2021/12/22/SwiftUI\u4e13\u8f91-049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f"}},"content":"![headerimg](./Header.png)\\nSwiftUI \u6709\u51e0\u79cd\u6e32\u67d3\u6e10\u53d8\u7684\u65b9\u5f0f\u3002\u6e10\u53d8\u53ef\u7528\u4e8e\u586b\u5145 \u4e00\u4e2aShape\uff0c\u586b\u5145\u4e00\u4e2a\u8fb9\u6846\u7b49\u3002\\n\\n\u672c\u6587\uff0c\u6211\u4eec\u5c06\u4e86\u89e3\u6211\u4eec\u53ef\u4ee5\u5728 SwiftUI \u4e2d\u4f7f\u7528\u54ea\u4e9b\u7c7b\u578b\u7684\u6e10\u53d8\u4ee5\u53ca\u5982\u4f55\u5b9a\u4e49\u5b83\u4eec\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148 \uff0c\u521b\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**GradientViews**\\n\\n## How to do it\u2026\\n\\nSwiftUI\u67093\u4e2d\u7c7b\u578b\u7684\u6e10\u53d8\uff1a\\n\\n- Linear gradients\\n- Radial gradients\\n- Angular gradients\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u5148\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6837\u5f0f, \u65b9\u4fbf\u6211\u4eec\u4e4b\u540e\u4f7f\u7528\\n```swift\\nextension Text {\\n    func bigLight() -> some View {\\n        font(.system(size: 80))\\n            .fontWeight(.thin)\\n            .multilineTextAlignment(.center)\\n            .foregroundColor(.white)\\n    }\\n}\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2a\u7ebf\u6027\u6e10\u53d8View\uff1a\\n```swift\\nstruct LinearGradientView: View {\\n    var body: some View {\\n        ZStack {\\n            LinearGradient(gradient: Gradient(colors:[.orange, .green, .blue, .black]), startPoint: .topLeading, endPoint: .bottomTrailing)\\n            Text(\\"Linear Gradient\\")\\n                .bigLight()\\n        }\\n    }\\n}\\n```\\n\\n3. \u540c\u7406\uff0c\u5728\u521b\u5efaRadialGradientView\\n```swift\\nstruct RadialGradientView: View {\\n    var body: some View {\\n        ZStack {\\n            RadialGradient(gradient:Gradient(colors:[.orange, .green,.blue, .black]), center: .center, startRadius: 20, endRadius: 500)\\n            Text(\\"Radial Gradient\\")\\n                .bigLight()\\n        }\\n    }\\n}\\n```\\n\\n4. \u540c\u7406\uff0c\u518d\u521b\u5efaAngularGradientView\\n```swift\\nstruct AngularGradientView: View {\\n    var body: some View {\\n        ZStack {\\n            AngularGradient(gradient: Gradient(colors: [.orange, .green,.blue, .black,.black, .blue,.green, .orange]),center: .center)\\n            Text(\\"Angular Gradient\\")\\n                .bigLight()\\n        }\\n    }\\n}\\n```\\n\\n5. \u7528Picker\u663e\u793a\u51fa\u6765\\n```swift\\nstruct ContentView: View {\\n    @State private var selectedGradient = 0\\n    @ViewBuilder var content: some View {\\n        switch selectedGradient {\\n        case 0: LinearGradientView()\\n        case 1: RadialGradientView()\\n        default: AngularGradientView()\\n        }\\n    }\\n    var body: some View {\\n        ZStack(alignment: .top) {\\n            content.edgesIgnoringSafeArea(.all)\\n            Picker(selection: $selectedGradient, label: Text(\\"Select Gradient\\")) {\\n                    Text(\\"Linear\\").tag(0)\\n                    Text(\\"Radial\\").tag(1)\\n                    Text(\\"Angular\\").tag(2)\\n                }.pickerStyle(SegmentedPickerStyle())\\n                .padding(.horizontal, 32)\\n            }\\n    }\\n}\\n```\\n\\n\u200b\\t![Figure_7.12_B17962](https://tva1.sinaimg.cn/large/008i3skNly1gy4e9kwec7j309q06ijrr.jpg)\\n\\n## How it works\u2026\\n\\n\u6bcf\u79cd\u6e10\u53d8\u90fd\u8981color\u53c2\u6570\uff0c\u63d0\u4f9b\u6e10\u53d8\u7684\u989c\u8272\u3002\u8fd8\u6709\u4e9b\u989d\u5916\u8bbe\u7f6e\uff0c\u8be6\u7ec6\u7684\u67e5\u770b\u4e0bApi\u6587\u6863\u3002"},{"id":"/2021/12/22/SwiftUI\u4e13\u8f91-049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f","metadata":{"permalink":"/2021/12/22/SwiftUI\u4e13\u8f91-049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-22-SwiftUI\u4e13\u8f91-049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f/index.md","source":"@site/blog/2021-12-22-SwiftUI\u4e13\u8f91-049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f/index.md","title":"SwiftUI\u4e13\u8f91049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f","description":"headerimg","date":"2021-12-22T00:00:00.000Z","formattedDate":"2021\u5e7412\u670822\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.185,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91050-\u4f7f\u7528\u6e10\u53d8","permalink":"/2021/12/23/SwiftUI\u4e13\u8f91-050-\u4f7f\u7528\u6e10\u53d8"},"nextItem":{"title":"SwiftUI\u4e13\u8f91048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761","permalink":"/2021/12/21/SwiftUI\u4e13\u8f91-048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\u6211\u4eec\u5c06\u7528SwiftUI\u5b9e\u73b0\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f\u3002\\n\\n\u5982\u679c\u4e0d\u77e5\u9053\u89c4\u5219\uff0c\u53ef\u4ee5\u7f51\u4e0a\u641c\u7d22\u4e00\u4e0b\uff0c\u7b80\u5355\u6765\u8bb2\u5c31\u662f3\u5b50\u68cb\uff0c3\u4e2a\u8fde\u6210\u7ebf\u5c31\u83b7\u80dc\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a**TicTacToe**\\n\\n## How to do it\u2026\\n\\nTicTacToe\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff1a\\n\\n- \u68cb\u76d8\\n- \u5708\u5708\\n- \u53c9\u53c9\\n\\n1. \u6784\u5efa\u5708\u5708\\n```swift\\nstruct Nought: View {\\n    var body: some View {\\n        Circle()\\n            .stroke(.red, lineWidth: 10)\\n    }\\n}\\n```\\n\\n2. \u6784\u5efa\u53c9\u53c9\\n```swift\\nstruct CrossShape: Shape {\\n    func path(in rect: CGRect) -> Path {\\n        Path() { path in\\n            path.move(to: CGPoint(x: rect.minX, y: rect.minY))\\n            path.addLine(to: CGPoint(x: rect.maxX, y: rect.maxY))\\n            path.move(to: CGPoint(x: rect.maxX, y: rect.minY))\\n            path.addLine(to: CGPoint(x: rect.minX, y: rect.maxY))\\n        }\\n    }\\n}\\nstruct Cross: View {\\n    var body: some View {\\n        CrossShape()\\n            .stroke(.green, style: StrokeStyle(lineWidth: 10, lineCap: .round, lineJoin: .round))\\n    }\\n}\\n```\\n\\n3. \u5b9a\u4e49Cell\u6765\u62bd\u8c61\u6bcf\u4e00\u4e2a\u683c\u5b50\\n```swift\\nstruct Cell: View {\\n    enum CellType {\\n        case hidden\\n        case nought\\n        case cross\\n    }\\n    @State private var type: CellType = .hidden\\n    @Binding var isNextNought: Bool\\n    @ViewBuilder private var content: some View {\\n        switch type {\\n        case .hidden: Color.clear\\n        case .nought: Nought()\\n        case .cross: Cross()\\n        }\\n    }\\n    var body: some View {\\n        content\\n            .padding(20)\\n            .contentShape(Rectangle())\\n            .onTapGesture {\\n                guard type == .hidden else {\\n                    return\\n                }\\n                type = isNextNought ? .nought : .cross\\n                isNextNought.toggle()\\n            }\\n    }\\n}\\n```\\n\\n4. \u5b9e\u73b0\u68cb\u76d8\\n```swift\\nstruct GridShape: Shape {\\n    func path(in rect: CGRect) -> Path {\\n        Path() { path in\\n            path.move(to: CGPoint(x: rect.width/3, y: rect.minY))\\n            path.addLine(to: CGPoint(x: rect.width/3, y: rect.maxY))\\n            path.move(to: CGPoint(x: 2*rect.width/3, y: rect.minY))\\n            path.addLine(to: CGPoint(x: 2*rect.width/3, y: rect.maxY))\\n            path.move(to: CGPoint(x: rect.minX, y: rect.height/3))\\n            path.addLine(to: CGPoint(x: rect.maxX, y: rect.height/3))\\n            path.move(to: CGPoint(x: rect.minX, y: 2*rect.height/3))\\n            path.addLine(to: CGPoint(x: rect.maxX, y: 2*rect.height/3))\\n        }\\n    }\\n}\\n\\nstruct Row: View {\\n    @Binding var isNextNought: Bool\\n    var body: some View {\\n        HStack {\\n            Cell(isNextNought: $isNextNought)\\n            Cell(isNextNought: $isNextNought)\\n            Cell(isNextNought: $isNextNought)\\n        }\\n    }\\n}\\nstruct Grid: View {\\n    @State var isNextNought: Bool = false\\n    var body: some View {\\n        ZStack {\\n            GridShape().stroke(.blue, lineWidth: 15)\\n            VStack {\\n                Row(isNextNought: $isNextNought)\\n                Row(isNextNought: $isNextNought)\\n                Row(isNextNought: $isNextNought)\\n            }\\n        }.aspectRatio(contentMode: .fit)\\n    }\\n}\\n```\\n\\n5. \u5728ContentView\u4e2d\u4f7f\u7528\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n        Grid().padding(.horizontal, 20)\\n    }\\n}\\n```\\n\\n![image-20220106233906878](https://tva1.sinaimg.cn/large/008i3skNly1gy4do2ix1sj30ce0p4my8.jpg)\\n\\n\\n\\n## How it works\u2026\\n\\n**isNextNought**\u53d8\u91cf\u5b9a\u4e49 \u4e0b\u4e00\u4e2a\u5c06\u653e\u7f6e\u54ea\u79cd\u7c7b\u578b\u7684\u6807\u8bb0\u3002\u5b83\u5728**Grid**\u7ec4\u4ef6\u4e2d\u8bbe\u7f6e\u4e3a**false**\uff0c\u8fd9\u610f\u5473\u7740\u7b2c\u4e00\u4e2a\u6807\u8bb0\u5c06\u59cb\u7ec8\u662f**Cross**\u3002\u5f53\u70b9\u51fb\u4e00\u4e2a\u5355\u5143\u683c\u65f6\uff0c**isNextNought**\u53d8\u91cf\u5c06\u88ab\u5207\u6362\u3002\\n\\n\u6709\u8da3\u7684\u662f\uff0c\u5728\u4e3a**onTapGesture**\u624b\u52bf\u5e94\u7528\u89c6\u56fe\u4fee\u9970\u7b26\u4e4b\u524d\uff0c\u6211\u4eec\u5fc5\u987b\u8bbe\u7f6e\u4e00\u4e2a**contentShape()**\u4fee\u9970\u7b26\u3002\u4e4b\u6240\u4ee5\u4f1a\u8fd9\u6837\uff0c\u662f\u56e0\u4e3a\u9ed8\u8ba4\u7684\u53ef\u70b9\u51fb\u533a\u57df\u662f\u7531\u7ec4\u4ef6\u7684\u53ef\u89c1\u90e8\u5206\u7ed9\u51fa\u7684\uff0c\u4f46\u662f\u4e00\u5f00\u59cb\uff0c\u6240\u6709\u7684\u5355\u5143\u683c\u90fd\u662f\u9690\u85cf\u7684\uff0c\u6240\u4ee5\u8be5\u533a\u57df\u662f\u7a7a\u7684\uff01\\n\\n\u7136\u540e**contentShape()**\u4fee\u9970\u7b26\u5b9a\u4e49\u53ef\u4ee5\u68c0\u6d4b\u5230\u89e6\u6478\u7684\u547d\u4e2d\u6d4b\u8bd5\u533a\u57df\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u5360\u636e\u6574\u4e2a\u533a\u57df\uff0c\u56e0\u6b64\u4f7f\u7528**Rectangle**\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528**Circle**\u3001**Capsule**\uff0c\u751a\u81f3\u81ea\u5b9a\u4e49\u5f62\u72b6\u3002\\n\\n\u4e0d\u8fc7\u8fd9\u4e2a\u6e38\u620f\u8fd8\u6ca1\u6709\u5b8c\u5168\u5b8c\u6210\uff0c\u8fd8\u7f3a\u5c11\u5224\u65ad\u8d62\u7684\u903b\u8f91\uff0c\u611f\u5174\u8da3\u7684\u53ef\u4ee5\u81ea\u5df1\u8865\u5168\u3002"},{"id":"/2021/12/21/SwiftUI\u4e13\u8f91-048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761","metadata":{"permalink":"/2021/12/21/SwiftUI\u4e13\u8f91-048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-21-SwiftUI\u4e13\u8f91-048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761/index.md","source":"@site/blog/2021-12-21-SwiftUI\u4e13\u8f91-048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761/index.md","title":"SwiftUI\u4e13\u8f91048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761","description":"headerimg","date":"2021-12-21T00:00:00.000Z","formattedDate":"2021\u5e7412\u670821\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.795,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f","permalink":"/2021/12/22/SwiftUI\u4e13\u8f91-049-\u505a\u4e00\u4e2aTic-Tac-Toe\u5c0f\u6e38\u620f"},"nextItem":{"title":"SwiftUI\u4e13\u8f91047-\u4f7f\u7528Canvas Api\u7ed8\u5236","permalink":"/2021/12/20/SwiftUI\u4e13\u8f91-047-\u4f7f\u7528CanvasApi\u7ed8\u5236"}},"content":"![headerimg](./Header.png)\\n\u672c\u6587\u6211\u4eec\u5c06\u5b9e\u73b0\u4e00\u4e2a\u7c7b\u4f3c\u4e8eApple Watch\u4e0a\u7684\u73af\u5f62\u8fdb\u5ea6\u6761\uff0c\u5e76\u7528Slider\u63a7\u5236\u8fdb\u5ea6\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee\uff1a**ProgressRings**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u9876\u4e00\u4e2a\u4e00\u4e2a\u73af\u5f62\u7684shape: ProgressRing\\n```swift\\nstruct ProgressRing: Shape {\\n    private let startAngle = Angle.radians(1.5 * .pi)\\n    @Binding var progress: Double\\n    func path(in rect: CGRect) -> Path {\\n        Path() { path in\\n            path.addArc(center: CGPoint(x: rect.midX, y: rect.midY), radius: rect.width/2.0, startAngle: startAngle, endAngle: startAngle + Angle(radians: 2 * .pi * progress), clockwise: false)            \\n        }\\n    }\\n}\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2aProgressRingsView\uff0c\u7528\u6765\u663e\u793a\u591a\u4e2a\u540c\u5fc3\u5706\\n```swift\\nstruct ProgressRingsView: View {\\n    private let ringPadding = 5.0\\n    private let ringWidth = 40.0\\n    private var ringStrokeStyle: StrokeStyle {\\n        StrokeStyle(lineWidth: ringWidth, lineCap: .round, lineJoin: .round)\\n    }\\n    @Binding var progressExternal: Double\\n    @Binding var progressCentral: Double\\n    @Binding var progressInternal: Double\\n    var body: some View {\\n        ZStack {\\n            ProgressRing(progress: $progressInternal)\\n                .stroke(.blue, style: ringStrokeStyle)\\n                .padding(2*(ringWidth + ringPadding))\\n            ProgressRing(progress: $progressCentral)\\n                .stroke(.red, style: ringStrokeStyle)\\n                .padding(ringWidth + ringPadding)\\n\\n            ProgressRing(progress: $progressExternal)\\n                .stroke(.green, style: ringStrokeStyle)\\n                .padding(ringWidth)\\n        }\\n    }\\n}\\n```\\n\\n3. \u5728ContentView\u4e2d\u521b\u5efa\u6700\u7ec8\u7684View\uff0c\u52a0\u4e0a\u53ef\u8c03\u8282\u8fdb\u5ea6\u7684Slider\\n```swift\\nstruct ContentView: View {\\n    @State private var progressExternal = 0.3\\n    @State private var progressCentral = 0.7\\n    @State private var progressInternal = 0.5\\n\\n    var body: some View {\\n        ZStack {\\n            ProgressRingsView(progressExternal: $progressExternal, progressCentral: $progressCentral, progressInternal: $progressInternal)\\n                .aspectRatio(contentMode: .fit)\\n\\n            VStack(spacing: 10) {\\n                Spacer()\\n                Slider(value: $progressInternal, in: 0 ... 1, step: 0.01)\\n                Slider(value: $progressCentral, in: 0 ... 1, step: 0.01)\\n                Slider(value: $progressExternal, in: 0 ... 1, step: 0.01)\\n            }.padding(30)\\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\uff1a\\n\\n![image-20220106231426582](https://tva1.sinaimg.cn/large/008i3skNly1gy4cye6ryzj30by0p474t.jpg)\\n\\n## How it works\u2026\\n\\n**ProgressRing**\u53ea\u662f\u7b80\u5355\u7684Path+arc\uff0c\u4ed6\u66b4\u9732\u4e86progress\u4f9b\u5916\u90e8\u8bbe\u7f6e\u8fdb\u5ea6\u3002\\n\\n\u4e4b\u540e\uff0c\u6211\u4eecProgressRingsView\u4e2d\u6dfb\u52a0\u4e863\u4e2a\u540c\u5fc3\u5706\u3002\u5206\u522b\u66b4\u9732@Binding\u4f9b\u5916\u90e8\u8bbe\u7f6e\\n\\n\u6700\u7ec8\u6211\u4eec\u5728ContentView\u4e2d\u52a0\u4e0a\u4e86Slider\uff0c\u5e76\u8c03\u8282\u8fdb\u5ea6\u3002"},{"id":"/2021/12/20/SwiftUI\u4e13\u8f91-047-\u4f7f\u7528CanvasApi\u7ed8\u5236","metadata":{"permalink":"/2021/12/20/SwiftUI\u4e13\u8f91-047-\u4f7f\u7528CanvasApi\u7ed8\u5236","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-20-SwiftUI\u4e13\u8f91-047-\u4f7f\u7528CanvasApi\u7ed8\u5236/index.md","source":"@site/blog/2021-12-20-SwiftUI\u4e13\u8f91-047-\u4f7f\u7528CanvasApi\u7ed8\u5236/index.md","title":"SwiftUI\u4e13\u8f91047-\u4f7f\u7528Canvas Api\u7ed8\u5236","description":"headerimg","date":"2021-12-20T00:00:00.000Z","formattedDate":"2021\u5e7412\u670820\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.06,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91047-\u4f7f\u7528Canvas Api\u7ed8\u5236","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761","permalink":"/2021/12/21/SwiftUI\u4e13\u8f91-048-\u5b9e\u73b0\u4e00\u4e2a\u73af\u5f62\u8fdb\u5ea6\u6761"},"nextItem":{"title":"SwiftUI\u4e13\u8f91046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf","permalink":"/2021/12/19/SwiftUI\u4e13\u8f91-046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf"}},"content":"![headerimg](./Header.png)\\nUIkit\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627fUIView\uff0c\u7136\u540e\u5728drawRect\u4e2d\u4f7f\u7528Core Graphic Api\u8fdb\u884c\u7ed8\u5236\u3002\\n\\nSwiftUI\u901a\u8fc7**Canvas**\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u5728Canvas\u4e2d\u4f7f\u7528Core Graphic \u8fdb\u884c\u7ed8\u5236\u3002\\n\\n\u6211\u4eec\u6765\u5b9e\u73b0\u4e00\u4e2a\u7ed8\u56feApp\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**Drawing**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u6211\u4eec\u521b\u5efa\u4e2aLine\u6570\u636e\u7ed3\u6784, \u5e76\u5728ContentView\u4e2d\u589e\u52a0\u4e00\u4e2aState\\n```swift\\nstruct Line {\\n    var points: [CGPoint]\\n}\\nstruct ContentView: View {\\n    @State var lines: [Line] = []\\n    var body: some View {\\n        \\n    }\\n}\\n```\\n\\n2. \u5728body\u4e2d\uff0c\u6211\u4eec\u52a0\u5165Canvas\uff0c\u80fd\u591f\u5c06lines\u7ed8\u5236\u51fa\u6765\\n```swift\\nvar body: some View {\\n  Canvas { ctx, size in\\n      for line in self.lines {\\n          var path = Path()\\n          path.addLines(line.points)\\n          ctx.stroke(path, with: .color(.red),style: .init(lineWidth: 5, lineCap: .round, lineJoin: .round))\\n      }\\n  }\\n}\\n```\\n\\n3. \u6211\u4eec\u6dfb\u52a0\u4e2a\u624b\u52bf\uff0c\u80fd\u591f\u6839\u636e\u624b\u52bf\uff0c\u66f4\u65b0lines\\n```swift\\nvar body: some View {\\n        Canvas { ctx, size in\\n            for line in self.lines {\\n                var path = Path()\\n                path.addLines(line.points)\\n                ctx.stroke(path, with: .color(.red),style: .init(lineWidth: 5, lineCap: .round, lineJoin: .round))\\n            }\\n        }.gesture(DragGesture(minimumDistance: 0, coordinateSpace: .local).onChanged({ value in\\n            let position = value.location\\n            if value.translation == .zero {\\n                lines.append(Line(points: [position]))\\n            } else{\\n                guard let lastIdx = lines.indices.last else {\\n                    return\\n                }\\n                lines[lastIdx].points.append(position)\\n            }\\n        }))\\n    }\\n```\\n\\n![aaaa](https://tva1.sinaimg.cn/large/008i3skNgy1gy4c3ggzlyj309q0l1aap.jpg)\\n\\n## How it works\u2026\\n\\n\u6574\u4e2aapp\u4e3b\u8981\u5206\u4e3a2\u90e8\u5206\uff1a\\n\\n- \u901a\u8fc7**points**\u6570\u7ec4\u8fdb\u884c\u7ed8\u5236\uff1aCanvas\u63d0\u4f9b\u4e86\u4e00\u4e2aContext\uff0c\u6211\u4eec\u80fd\u591f\u5728\u91cc\u9762\u7528CoreGraphic APi\u8fdb\u884c\u7ed8\u5236\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2aPath\uff0c\u7136\u540e\u5c06Points\u4f20\u7ed9path , \u6700\u540e\u518dstroken\u3002\\n- \u4e3a\u6bcf\u6b21\u624b\u6307\u7684\u70b9\u79fb\u52a8\u90fd\u521b\u5efa\u4e00\u4e2apoints\u6570\u7ec4\u4fdd\u5b58\u3002\u6211\u4eec\u7528\u4e86**DrawGesture**\uff0c\u5e76\u7528onChange\u76d1\u542c\u79fb\u52a8\u3002\u5982\u679c**translation**\u4e3a.zero\uff0c\u8bf4\u660e\u624b\u6307\u6309\u4e0b\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4e00\u6761\u65b0\u7684Line\u5230\u6570\u7ec4\u4e2d\u3002\u5982\u679ctranslation\u5927\u4e8ezero\uff0c\u8bf4\u660e\u624b\u6307\u5728\u79fb\u52a8\uff0c\u6b64\u65f6\u6211\u4eec\u9700\u8981\u66f4\u65b0line\u91cc\u9762\u7684points\u3002"},{"id":"/2021/12/19/SwiftUI\u4e13\u8f91-046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf","metadata":{"permalink":"/2021/12/19/SwiftUI\u4e13\u8f91-046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-19-SwiftUI\u4e13\u8f91-046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf/index.md","source":"@site/blog/2021-12-19-SwiftUI\u4e13\u8f91-046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf/index.md","title":"SwiftUI\u4e13\u8f91046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf","description":"headerimg","date":"2021-12-19T00:00:00.000Z","formattedDate":"2021\u5e7412\u670819\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.715,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91047-\u4f7f\u7528Canvas Api\u7ed8\u5236","permalink":"/2021/12/20/SwiftUI\u4e13\u8f91-047-\u4f7f\u7528CanvasApi\u7ed8\u5236"},"nextItem":{"title":"SwiftUI\u4e13\u8f91045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape","permalink":"/2021/12/18/SwiftUI\u4e13\u8f91-045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape"}},"content":"![headerimg](./Header.png)\\n\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5982\u4f55\u7ed8\u5236\u81ea\u5b9a\u4e49shape\uff0c\u4f46\u53ea\u4f7f\u7528\u4e86\u76f4\u7ebf\u3002\\n\\n\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u7ed8\u5236\u66f2\u7ebf\u3002\\n\\n\u6211\u4eec\u6765\u7ed8\u5236\u4e00\u4e2a\u5fc3\u5f62\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**Heart**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2aextension\uff0c\u6765\u5feb\u901f\u83b7\u53d6\u77e9\u5f62\u76841/4\u7684\u4f4d\u7f6e\u3002\\n```swift\\nextension CGRect {\\n    var quarterX: CGFloat {\\n        minX + size.height/4\\n    }\\n\\n    var quarterY: CGFloat {\\n        minY + size.height/4\\n    }\\n\\n    var threeQuartersX: CGFloat {\\n        minX + 3*size.height/4\\n    }\\n\\n    var threeQuartersY: CGFloat {\\n        minY + 3*size.height/4\\n    }\\n}\\n```\\n\\n2. \u521b\u5efa\u5fc3\u5f62\\n```swift\\nstruct Heart: Shape {\\n    func path(in rect: CGRect) -> Path {\\n        Path() { path in\\n            path.move(to: CGPoint(x: rect.midX, y: rect.maxY))\\n            path.addCurve(to: CGPoint(x: rect.minX, y: rect.quarterY),\\n                          control1: CGPoint(x: rect.midX, y: rect.threeQuartersY),\\n                          control2: CGPoint(x: rect.minX, y: rect.midY))\\n            path.addArc(center: CGPoint(x: rect.quarterX, y: rect.quarterY),\\n                        radius: rect.size.width/4,\\n                        startAngle: .radians(.pi),\\n                        endAngle: .radians(0),\\n                        clockwise: false)\\n            path.addArc(center: CGPoint(x: rect.threeQuartersX, y: rect.quarterY),\\n                        radius: rect.size.width/4,\\n                        startAngle: .radians(.pi),\\n                        endAngle: .radians(0),\\n                        clockwise: false)\\n            path.addCurve(to: CGPoint(x: rect.midX, y: rect.maxY),\\n                          control1: CGPoint(x: rect.maxX, y: rect.midY),\\n                          control2: CGPoint(x: rect.midX, y: rect.threeQuartersY))\\n        }\\n    }\\n}\\n```\\n\\n3. \u663e\u793a\\n```swift\\nvar body: some View {\\n    Heart()\\n        .fill(.red)\\n        .overlay(Heart().stroke(.orange, lineWidth: 10))\\n        .aspectRatio(contentMode: .fit)\\n        .padding(.horizontal, 20)\\n}\\n```\\n\\n![image-20220106192538867](https://tva1.sinaimg.cn/large/008i3skNgy1gy46ccdjz7j308k0dewel.jpg)\\n\\n\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u9996\u5148\u5b9a\u4f4d\u5230\u5e95\u90e8\u4e2d\u592e\uff0c\u7136\u540e\u6cbf\u7740\u987a\u65f6\u9488\u7ed8\u5236\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230**arc()** \u51fd\u6570\u6709\u4e2a **clockwise** \u53c2\u6570\u3002\u4f46\u662f\u6211\u4eec\u7684clockwise\u8bbe\u7f6e\u4e3afalse\uff0c\u65b9\u5411\u5374\u662f\u987a\u65f6\u9488\uff0c\u6709\u70b9\u5947\u602a\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\\n\\n\u8fd9\u662f\u56e0\u4e3aSwiftUI\u548cUIView\u4e00\u6837\uff0c\u4e5f\u662f\u4f7f\u7528\u4e00\u4e2aflipped coordinate system\u3002\u6240\u4ee5SwiftUI\u4e2d\u7684\u987a\u65f6\u9488\uff0c\u5bf9\u7528\u6237\u6765\u8bf4\u5c31\u662f\u9006\u65f6\u9488\u3002\u6240\u4ee5\u6211\u4eec\u8bbe\u7f6e\u4e3afalse\u3002\\n\\n![Figure_7.8_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gy46j7n3iyj30dw07zmxa.jpg)"},{"id":"/2021/12/18/SwiftUI\u4e13\u8f91-045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape","metadata":{"permalink":"/2021/12/18/SwiftUI\u4e13\u8f91-045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-18-SwiftUI\u4e13\u8f91-045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape/index.md","source":"@site/blog/2021-12-18-SwiftUI\u4e13\u8f91-045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape/index.md","title":"SwiftUI\u4e13\u8f91045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape","description":"headerimg","date":"2021-12-18T00:00:00.000Z","formattedDate":"2021\u5e7412\u670818\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.895,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf","permalink":"/2021/12/19/SwiftUI\u4e13\u8f91-046-\u81ea\u5b9a\u4e49shape\u4e2d\u7ed8\u5236\u66f2\u7ebf"},"nextItem":{"title":"SwiftUI\u4e13\u8f91044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape","permalink":"/2021/12/17/SwiftUI\u4e13\u8f91-044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape"}},"content":"![headerimg](./Header.png)\\n\u81ea\u5b9a\u4e49shape\u4e5f\u53ea\u662f\u4f7f\u7528Path\u7ec4\u4ef6\u5b9a\u4e49\u597d\u5f62\u72b6\uff0c\u7136\u540e\u5305\u88f9\u6210\u4e00\u4e2aShape\u5c31\u884c\u4e86\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u81ea\u5b9a\u4e49\u4e00\u4e2a\u83f1\u5f62\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**RhombusApp**\\n\\n## How to do it\u2026\\n\\n1. \u521b\u5efa\u83f1\u5f62\\n```swift\\nstruct Rhombus: Shape {\\n    func path(in rect: CGRect) -> Path {\\n        Path() { path in\\n            path.move(to: CGPoint(x: rect.midX, y: rect.minY))\\n            path.addLine(to: CGPoint(x: rect.minX, y: rect.midY))\\n            path.addLine(to: CGPoint(x: rect.midX, y: rect.maxY))\\n            path.addLine(to: CGPoint(x: rect.maxX, y: rect.midY))\\n            path.closeSubpath()\\n        }\\n    }\\n}\\n```\\n\\n2. \u663e\u793a\u51fa\u6765\\n```swift\\nvar body: some View {\\n    Rhombus()\\n        .fill(.orange)\\n        .aspectRatio(0.7, contentMode: .fit)\\n        .padding(.horizontal, 10)\\n}\\n```\\n\\n![image-20220106191015673](https://tva1.sinaimg.cn/large/008i3skNgy1gy45wby22pj30760dkt8q.jpg)\\n\\n## How it works\u2026\\n\\n\u8981\u521b\u5efa\u81ea\u5b9a\u4e49shape\uff0c\u4f60\u9700\u8981\u5b9e\u73b0Shape\u534f\u8bae\\n\\nShape\u534f\u8bae\u9700\u8981\u5b9e\u73b0`func path(in rect: CGRect) -> Path `\u3002\\n\\n\u6211\u4eec\u521b\u5efa\u4e00\u4e2aPath\uff0c\u5728path\u7684\u95ed\u5305\u4e2d\u7ed8\u5236\u56fe\u5f62\u3002\\n\\n\u6ce8\u610f\u7ed8\u5236\u7684\u5750\u6807\u7cfb\u7684\u539f\u70b9\u5728\u5de6\u4e0a\u89d2\uff1a\\n\\n![Figure_7.6_B17962](https://tva1.sinaimg.cn/large/008i3skNgy1gy45zj4zvoj306y0e00sz.jpg)\\n\\n## Shape\u7684Api\\n\\n### Defining a Shape\u2019s Path\\n\\n```swift\\n//\u4e0a\u9762\u6f14\u793a\u8fc7\u4e86\uff0c\u5b9a\u4e49shape\u7684path\\nfunc path(in rect: CGRect) -> Path\\n//\u6839\u636e\u6309\u767e\u5206\u6bd4\uff0c\u622a\u65adpath\\nfunc trim(from startFraction: CGFloat = 0, to endFraction: CGFloat = 1) -> some Shape\\n```\\n\\n\u6211\u4eec\u6765\u770b\u770btrim\u7684demo\\n\\n```swift\\nvar body: some View {\\n  //\u53ea\u8981path\u76840-25%,\u6240\u4ee5\u5f97\u5230\u7684\u5706\u5f27\u662f1/4\uff0c\u5728\u95ed\u5408path\\n    Circle().trim(from: 0, to: 0.25)\\n}\\n```\\n\\n![image-20220108161917454](https://tva1.sinaimg.cn/large/008i3skNly1gy6c735qsoj30d40b8a9z.jpg)\\n\\n### Transforming a Shape\\n\\n```swift\\nfunc transform(_ transform: CGAffineTransform) -> TransformedShape<Self>\\nfunc size(_ size: CGSize) -> some Shape\\nfunc scale(_ scale: CGFloat, anchor: UnitPoint = .center) -> ScaledShape<Self>\\nfunc rotation(_ angle: Angle, anchor: UnitPoint = .center) -> RotatedShape<Self>\\nfunc offset(_ offset: CGSize) -> OffsetShape<Self>\\n```\\n\\n### Setting the Stroke Characteristics\\n\\n```swift\\nfunc stroke<S>(_ content: S, lineWidth: CGFloat = 1) -> some View where S : ShapeStyle\\n//StrokeStyle\u5b9a\u4e49\u4e86linewidth\uff0c\u8fde\u63a5\u5934\u7684\u6837\u5f0f\uff0c\u865a\u7ebf\u7b49\\nfunc stroke<S>(_ content: S, style: StrokeStyle) -> some View where S : ShapeStyle"},{"id":"/2021/12/17/SwiftUI\u4e13\u8f91-044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape","metadata":{"permalink":"/2021/12/17/SwiftUI\u4e13\u8f91-044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-17-SwiftUI\u4e13\u8f91-044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape/index.md","source":"@site/blog/2021-12-17-SwiftUI\u4e13\u8f91-044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape/index.md","title":"SwiftUI\u4e13\u8f91044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape","description":"headerimg","date":"2021-12-17T00:00:00.000Z","formattedDate":"2021\u5e7412\u670817\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":0.995,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape","permalink":"/2021/12/18/SwiftUI\u4e13\u8f91-045-\u7ed8\u5236\u81ea\u5b9a\u4e49shape"},"nextItem":{"title":"SwiftUI\u4e13\u8f91043-\u663e\u793apopovers","permalink":"/2021/12/16/SwiftUI\u4e13\u8f91-043-\u663e\u793apopovers"}},"content":"![headerimg](./Header.png)\\nSwiftUI\u67095\u4e2a\u5185\u7f6e\u7684shape:\\n\\n- Rectangle\\n- RoundedRectangle\\n- Capsule\\n- Circle\\n- Ellipse\\n\\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u7ed3\u5408\u4ed6\u4eec\uff0c\u521b\u5efa\u66f4\u590d\u6742\u7684shape\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148 \uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b**BuiltInShapes**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u521b\u5efa\u4e00\u4e2aVstack\u6765\u663e\u793a\u6211\u4eec\u7684\u6240\u6709shape\\n```swift\\nvar body: some View {\\n    VStack(spacing: 10){\\n\\n    }.padding(.horizontal, 20)\\n}\\n```\\n\\n2. \u6dfb\u52a0shape\\n```swift\\nvar body: some View {\\n  VStack(spacing: 10){\\n      Rectangle().stroke(.orange, lineWidth: 15)\\n      RoundedRectangle(cornerRadius: 20).fill(.red)\\n      Capsule(style: .continuous).fill(.green).frame(height: 100)\\n      Capsule(style: .circular).fill(.green).frame(height: 100)\\n      Circle().stroke(.blue, lineWidth: 15)\\n      Ellipse().fill(.purple)\\n  }.padding(.horizontal, 20)\\n}\\n```\\n\\n![image-20220106184041907](https://tva1.sinaimg.cn/large/008i3skNly1gy451m4i7aj30bm0om0te.jpg)\\n\\n## How it works\u2026\\n\\n\u4ee3\u7801\u6bd4\u8f83\u7b80\u5355\uff0c\u6211\u4eec\u89e3\u91ca\u4e0bcapsule\\n\\ncapsule\u6709\u4e24\u79cd\u5706\u89d2\\n\\n- Continuous\uff1a \u5706\u89d2\u662f\u5e73\u6ed1\u8fc7\u6e21\u5230\u6a2a\u7ebf\u7684\\n- Circular\uff1a\u4e0d\u662f\u5e73\u6ed1\u8fc7\u6e21\uff0c\u5c31\u662f\u534a\u5706\\n\\n\u7136\u540e\u518d\u6ce8\u610f\u4e0bstroke\u548cstokeBorder\u7684\u533a\u522b\\n\\nStroke: frame\u662fstroke\u7684\u4e2d\u7ebf\\n\\n![image-20220106185204381](https://tva1.sinaimg.cn/large/008i3skNgy1gy45delyw6j30wq0ecmxr.jpg)\\n\\nstrokeBorder\uff1a\u5728frame\u5185\u90e8\u521b\u5efa\u4e00\u4e2astroke\uff0cstroke\u7684\u5916\u8fb9\u6cbf\u662fframe\u3002\\n\\n![image-20220106185410521](https://tva1.sinaimg.cn/large/008i3skNgy1gy45flagd8j307q032a9v.jpg)"},{"id":"/2021/12/16/SwiftUI\u4e13\u8f91-043-\u663e\u793apopovers","metadata":{"permalink":"/2021/12/16/SwiftUI\u4e13\u8f91-043-\u663e\u793apopovers","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-16-SwiftUI\u4e13\u8f91-043-\u663e\u793apopovers/index.md","source":"@site/blog/2021-12-16-SwiftUI\u4e13\u8f91-043-\u663e\u793apopovers/index.md","title":"SwiftUI\u4e13\u8f91043-\u663e\u793apopovers","description":"headerimg","date":"2021-12-16T00:00:00.000Z","formattedDate":"2021\u5e7412\u670816\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.315,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91043-\u663e\u793apopovers","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape","permalink":"/2021/12/17/SwiftUI\u4e13\u8f91-044-\u4f7f\u7528SwiftUI\u5185\u7f6e\u7684Shape"},"nextItem":{"title":"SwiftUI\u4e13\u8f91042-\u663e\u793acontext menus","permalink":"/2021/12/15/SwiftUI\u4e13\u8f91-042-\u663e\u793acontextmenus"}},"content":"![headerimg](./Header.png)\\n\u5f39\u51fa\u6846\u662f\u4e00\u79cd\u53ef\u4ee5\u663e\u793a\u5728\u5c4f\u5e55\u4e0a\u4ee5\u63d0\u4f9b\u6709\u5173\u7279\u5b9a\u9879\u76ee\u7684\u66f4\u591a\u4fe1\u606f\u7684\u89c6\u56fe\u3002\u5b83\u4eec\u5305\u62ec\u4e00\u4e2a\u7bad\u5934\uff0c\u6307\u5411\u5b83\u4eec\u8d77\u6e90\u7684\u4f4d\u7f6e\u3002\u4f60\u53ef\u4ee5\u70b9\u51fb\u4efb\u4f55\u5176\u4ed6\u5c4f\u5e55\u533a\u57df\u4ee5\u5173\u95ed\u5f39\u51fa\u7a97\u53e3\u3002\u5f39\u51fa\u6846\u901a\u5e38\u7528\u4e8e\u8f83\u5927\u7684\u5c4f\u5e55\uff0c\u4f8b\u5982 iPad\u3002\\n\\n\u672c\u6587\uff0c\u6211\u4eec\u5c06\u5728 iPad \u4e0a\u521b\u5efa\u5e76\u663e\u793a\u4e00\u4e2a\u5f39\u51fa\u6846\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**DisplayingPopovers**\\n\\n## How to do it\\n\\n1. \u9996\u5148\u5b9a\u4e49\u4e00\u4e2aState\u63a7\u5236\u662f\u5426\u663e\u793apopover\\n```swift\\n@State private var showPopover = false\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2a\u6309\u94ae\uff0c\u70b9\u51fb\u65f6\u663e\u793aPopover\\n```swift\\nvar body: some View {\\n    Button(\\"show popover\\") {\\n        self.showPopover = true\\n    }.popover(isPresented: $showPopover, arrowEdge: .bottom) {\\n        Text(\\"Popover content displayed here\\")\\n            .font(.system(size: 40))\\n    }\\n}\\n```\\n\\n3. \u9884\u89c8\u5207\u6362\u6210iPad\uff0c\u6216\u8005\u76f4\u63a5\u5728iPad\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\\n```swift\\nstatic var previews: some View {\\n      ContentView()\\n          .previewDevice(\\"iPad Pro (9.7-inch)\\")\\n  }\\n```\\n\\n![008i3skNly1gy38aznqryj30o40xmdgp](https://tva1.sinaimg.cn/large/008i3skNly1gy38h48t3fj30b40fijrh.jpg)\\n\\n## How it works\\n\\n**.popover()**\u67094\u4e2a\u53c2\u6570\uff1a**isPresented**, **attachmentAnchor**, **arrowEdge**, \u548c **content**.\\n\\n**isPresented**\u63a7\u5236\u662f\u5426\u663e\u793a\u3002\\n\\n**attachmentAnchor**\u8bbe\u7f6e\u5f39\u7a97\u951a\u70b9\u3002\\n\\n**arrowEdge**\u63a7\u5236\u5f39\u7a97\u7684\u5c0f\u7bad\u5934\u65b9\u5411\u3002\\n\\n**content**\u63a7\u5236\u5f39\u7a97\u5185\u5bb9\u3002"},{"id":"/2021/12/15/SwiftUI\u4e13\u8f91-042-\u663e\u793acontextmenus","metadata":{"permalink":"/2021/12/15/SwiftUI\u4e13\u8f91-042-\u663e\u793acontextmenus","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-15-SwiftUI\u4e13\u8f91-042-\u663e\u793acontextmenus/index.md","source":"@site/blog/2021-12-15-SwiftUI\u4e13\u8f91-042-\u663e\u793acontextmenus/index.md","title":"SwiftUI\u4e13\u8f91042-\u663e\u793acontext menus","description":"headerimg","date":"2021-12-15T00:00:00.000Z","formattedDate":"2021\u5e7412\u670815\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":0.975,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91042-\u663e\u793acontext menus","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91043-\u663e\u793apopovers","permalink":"/2021/12/16/SwiftUI\u4e13\u8f91-043-\u663e\u793apopovers"},"nextItem":{"title":"SwiftUI\u4e13\u8f91041-\u663e\u793asheets","permalink":"/2021/12/14/SwiftUI\u4e13\u8f91-041-\u663e\u793asheets"}},"content":"![headerimg](./Header.png)\\ncontext menus\u662f\u4e00\u4e2a\u5f39\u51fa\u83dc\u5355\uff0c\u7528\u4e8e\u663e\u793a\u5f00\u53d1\u4eba\u5458\u9884\u671f\u7528\u6237\u53ef\u80fd\u4f1a\u6267\u884c\u7684\u64cd\u4f5c\u3002context menus\u5728 iOS \u4e0a\u662f\u901a\u8fc7 3D Touch \u89e6\u53d1\u548c macOS \u4e0a\u7684\u53f3\u952e\u5355\u51fb\u89e6\u53d1\u3002\\n\\ncontext menus\u7531\u4e00\u7ec4\u5728\u9690\u5f0f**HStack \u4e2d**\u6c34\u5e73\u663e\u793a\u7684\u6309\u94ae**\u7ec4\u6210**\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee\uff1a**DisplayingContextMenus**\\n\\n## How to do it\\n\\n1. \u9996\u5148\u5b9a\u4e49\u4e00\u4e2aState\\n```swift\\n@State private var bulbColor = Color.red\\n```\\n\\n2. \u5b9a\u4e49\u4e2aImage\\n```swift\\nImage(systemName: \\"lightbulb.fill\\")\\n      .font(.system(size: 60))\\n      .foregroundColor(self.bulbColor)\\n```\\n\\n3. \u6dfb\u52a0contextMemu\\n```swift\\nvar body: some View {\\n    Image(systemName: \\"lightbulb.fill\\")\\n        .font(.system(size: 60))\\n        .foregroundColor(self.bulbColor)\\n        .contextMenu {\\n            Button(\\"Yellow Bulb\\"){\\n                self.bulbColor = Color.yellow\\n            }\\n            Button(\\"Blue Bulb\\"){\\n                self.bulbColor = Color.blue\\n            }\\n            Button(\\"Green Bulb\\"){\\n                self.bulbColor = Color.green\\n            }\\n        }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\uff0c\u957f\u6309\u56fe\u7247:\\n\\n![image-20220105233301390](https://tva1.sinaimg.cn/large/008i3skNgy1gy37vfiqnvj30d00qugm6.jpg)\\n\\n## How it works\\n\\n**.contextMenu()** \u4fee\u9970\u7b26\u53ef\u4ee5\u6dfb\u52a0\u5230\u4efb\u4f55View\u4e0a\u3002\\n\\n\u5f53\u6211\u4eec\u957f\u6309View\u65f6\uff0c\u4f1a\u5f39\u51faContextMenu\u3002"},{"id":"/2021/12/14/SwiftUI\u4e13\u8f91-041-\u663e\u793asheets","metadata":{"permalink":"/2021/12/14/SwiftUI\u4e13\u8f91-041-\u663e\u793asheets","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-14-SwiftUI\u4e13\u8f91-041-\u663e\u793asheets/index.md","source":"@site/blog/2021-12-14-SwiftUI\u4e13\u8f91-041-\u663e\u793asheets/index.md","title":"SwiftUI\u4e13\u8f91041-\u663e\u793asheets","description":"headerimg","date":"2021-12-14T00:00:00.000Z","formattedDate":"2021\u5e7412\u670814\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.835,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91041-\u663e\u793asheets","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91042-\u663e\u793acontext menus","permalink":"/2021/12/15/SwiftUI\u4e13\u8f91-042-\u663e\u793acontextmenus"},"nextItem":{"title":"SwiftUI\u4e13\u8f91040-\u663e\u793aconfirmationDialog","permalink":"/2021/12/13/SwiftUI\u4e13\u8f91-040-\u663e\u793aconfirmationDialog"}},"content":"![headerimg](./Header.png)\\nSwiftUI\u4f7f\u7528sheets\u6765present\u65b0\u7684View(\u7c7b\u4f3c\u4e8eUIKit\u7684present\u529f\u80fd)\uff0c\u5141\u8bb8\u4f60\u5f80\u4e0b\u62d6\u52a8\uff0c\u8ba9\u5f39\u51fa\u7684View\u6d88\u5931\u3002\\n\\n\u672c\u7ae0\u5c06\u6f14\u793a\u5982\u4f55present\u4e00\u4e2aNavigationView\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**PresentingSheets**\u3002\\n\\n## How to do it\\n\\n1. \u9996\u5148\u521b\u5efa2\u4e2a\u4e24\u4e2aState\\n\\n```swift\\n@State private var showSheet = false\\n@State private var sheetWithNav = false\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2a\u6309\u94ae\uff0c\u70b9\u51fb\u540e\u663e\u793asheet\\n```swift\\nvar body: some View {\\n    VStack {\\n        Button(\\"Display Sheet\\") {\\n            self.showSheet = true\\n        }.sheet(isPresented: $showSheet) {\\n\\n        } content: {\\n            SheetView()\\n        }\\n    }\\n}\\n```\\n\\n3. \u5b9e\u73b0SheetView\\n```swift\\nstruct SheetView: View {\\n    var body: some View {\\n        Text(\\"This is the sheet we want to display View\\")\\n    }\\n}\\n```\\n\\n\u8fd0\u884c\\n\\n![image-20220105190022691](https://tva1.sinaimg.cn/large/008i3skNgy1gy2zzs3nuuj30iq11wgm6.jpg)\\n\\n4. \u518d\u521b\u5efa\u4e00\u4e2a\u6309\u94ae\uff0c\u70b9\u4e86\u663e\u793a\u5e26\u5bfc\u822a\u7684sheet\\n```swift\\n Button(\\"SheetWithNavigationBar\\") {\\n      self.sheetWithNav = true\\n  }.sheet(isPresented: $sheetWithNav) {\\n\\n  } content: {\\n      SheetWithNavView(sheetWithNav: $sheetWithNav)\\n  }\\n```\\n\\n5. \u5b9e\u73b0\u6211\u4eec\u7684SheetWithNavView\\n```swift\\nstruct SheetWithNavView: View {\\n  //\u6ce8\u610f\u662f@Binding\\n    @Binding var sheetWithNav: Bool\\n    var body: some View {\\n        NavigationView {\\n            Text(\\"Sheet with navigation\\")\\n                .navigationTitle(\\"NaviagtionTitle\\")\\n                .navigationBarTitleDisplayMode(.inline)\\n                .navigationBarItems(trailing: Button(\\"Done\\", action: {\\n                    self.sheetWithNav = false\\n                }))\\n        }\\n    }\\n}\\n\\nstruct SheetWithNavView_Previews: PreviewProvider {\\n    static var previews: some View {\\n      //\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8bbe\u7f6e@Binding\u7684\u503c\uff1a.constant(true)\\n        SheetWithNavView(sheetWithNav: .constant(true))\\n    }\\n}\\n```\\n\\n![image-20220105231502701](https://tva1.sinaimg.cn/large/008i3skNly1gy37cq8qwej30ji130755.jpg)\\n\\nok\uff0c\u73b0\u5728\u6211\u4eec\u70b9\u51fbDone\uff0c\u754c\u9762\u5c31\u4f1a\u6d88\u5931\\n\\n## How it works\\n\\n\u9996\u5148sheet\u7ed1\u5b9a\u4e86\u662f\u5426\u5c55\u793aisPresented\uff0c\u4e00\u4e2a\u53ef\u9009\u7684onDismiss\uff0c\u4e00\u4e2a\u8981\u663e\u793a\u7684View\u3002\\n\\n\u4e4b\u540e\u6211\u4eec\u4e5f\u6f14\u793a\u4e86\uff0c\u5982\u4f55\u901a\u8fc7\u4f20\u9012\u7ed1\u5b9a\u7684isPresented\uff0c\u8ba9\u5f39\u51fa\u7684View\u80fd\u591f\u901a\u8fc7\u4ee3\u7801dismiss\u3002\\n\\n\u4f20\u9012\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f7f\u7528@Binding\u63a5\u53d7\u3002\\n\\n\u5728preview\u65f6\uff0c\u5bf9\u4e8e@Binding\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7.constant()\u6765\u6a21\u62df\uff0c\u4fbf\u4e8e\u6211\u4eec\u9884\u89c8\u3002"},{"id":"/2021/12/13/SwiftUI\u4e13\u8f91-040-\u663e\u793aconfirmationDialog","metadata":{"permalink":"/2021/12/13/SwiftUI\u4e13\u8f91-040-\u663e\u793aconfirmationDialog","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-13-SwiftUI\u4e13\u8f91-040-\u663e\u793aconfirmationDialog/index.md","source":"@site/blog/2021-12-13-SwiftUI\u4e13\u8f91-040-\u663e\u793aconfirmationDialog/index.md","title":"SwiftUI\u4e13\u8f91040-\u663e\u793aconfirmationDialog","description":"headerimg","date":"2021-12-13T00:00:00.000Z","formattedDate":"2021\u5e7412\u670813\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":0.91,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91040-\u663e\u793aconfirmationDialog","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91041-\u663e\u793asheets","permalink":"/2021/12/14/SwiftUI\u4e13\u8f91-041-\u663e\u793asheets"},"nextItem":{"title":"SwiftUI\u4e13\u8f91039-\u6dfb\u52a0action Button\u5230alert\u4e2d","permalink":"/2021/12/12/SwiftUI\u4e13\u8f91-039-\u6dfb\u52a0actionButton\u5230alert\u4e2d"}},"content":"![headerimg](./Header.png)\\nConfirmation dialogs \u662f iOS 15 \u5f00\u59cb\u51fa\u73b0\u7684\u3002\\n\\n\u4ed6\u548cActionsheet\u7c7b\u4f3c\uff0c\u4e0d\u8fc7Actionsheet\u5df2\u7ecf\u88ab\u5e9f\u5f03\u4e86\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**PresentingConfirmationDialogs**\\n\\n## How to do it\\n\\n1. \u5b9a\u4e49\u4e2aState\u63a7\u5236\u662f\u5426\u663e\u793aconfirmationDialog\\n```swift\\n@State private var showDialog = false\\nvar title  = \\"Confirmation Dialog\\"\\n```\\n\\n2. \u6dfb\u52a0\u4e2a\u6309\u94ae\uff0c\u70b9\u51fb\u540e\uff0c\u663e\u793aconfirmationDialog\\n```swift\\nvar body: some View {\\n    Button(\\"Present Confirmation Dialog\\") {\\n        showDialog = true\\n    }.confirmationDialog(title, isPresented: $showDialog) {\\n        Button(\\"Dismiss Dialog\\", role: .destructive) {\\n\\n        }\\n        Button(\\"Save\\") {\\n\\n        }\\n        Button(\\"Cancel\\", role: .cancel) {\\n\\n        }\\n        Button(\\"Print something to console\\") {\\n            print(\\"something\\")\\n        }\\n    } message: {\\n        Text(\\"\\"\\"\\n             Use Dialogs to give users alternatives for\\n             completing a task\\n            \\"\\"\\")\\n    }\\n}\\n```\\n\\n![20220105161606](https://tva1.sinaimg.cn/large/008i3skNgy1gy2v9afnolj309q0lit94.jpg)\\n\\n## How it works\\n\\n.confirmationDialog\u4fee\u9970\u7b26\u7528\u4e8e\u663e\u793a\u4e00\u4e2aconfirmationDialog\u3002title\u7528\u4e8e\u663e\u793atitle\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570binding\u63a7\u5236\u662f\u5426\u663e\u793a\uff0cactions\u63a7\u5236action btn, message\u63a7\u5236message\u7684\u663e\u793a"},{"id":"/2021/12/12/SwiftUI\u4e13\u8f91-039-\u6dfb\u52a0actionButton\u5230alert\u4e2d","metadata":{"permalink":"/2021/12/12/SwiftUI\u4e13\u8f91-039-\u6dfb\u52a0actionButton\u5230alert\u4e2d","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-12-SwiftUI\u4e13\u8f91-039-\u6dfb\u52a0actionButton\u5230alert\u4e2d/index.md","source":"@site/blog/2021-12-12-SwiftUI\u4e13\u8f91-039-\u6dfb\u52a0actionButton\u5230alert\u4e2d/index.md","title":"SwiftUI\u4e13\u8f91039-\u6dfb\u52a0action Button\u5230alert\u4e2d","description":"headerimg","date":"2021-12-12T00:00:00.000Z","formattedDate":"2021\u5e7412\u670812\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":0.915,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91039-\u6dfb\u52a0action Button\u5230alert\u4e2d","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91040-\u663e\u793aconfirmationDialog","permalink":"/2021/12/13/SwiftUI\u4e13\u8f91-040-\u663e\u793aconfirmationDialog"},"nextItem":{"title":"SwiftUI\u4e13\u8f91038-\u663e\u793aalerts","permalink":"/2021/12/11/SwiftUI\u4e13\u8f91-038-\u663e\u793aalerts"}},"content":"![headerimg](./Header.png)\\n\u4e0a\u4e2a\u4f8b\u5b50\u663e\u793a\u4e86Alert\u7684\u57fa\u672c\u7528\u6cd5\u3002\u6211\u4eec\u53ea\u663e\u793a\u4e86\u4e00\u4e2aOk\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u591a\u4e2aBtn\u5462\uff1f\\n\\n\u672c\u6587\u5c06\u4ecb\u7ecd\u5982\u4f55\u6dfb\u52a0action button\u5230alert\u4e2d\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**AlertsWithActions**\\n\\n## How to do it\\n\\n1. \u6dfb\u52a02\u4e2aState\\n```swift\\n@State private var changeText = false\\n@State private var displayedText = \\"Tap to Change Text\\"\\n```\\n\\n2. \u6dfb\u52a0\u4e00\u4e2a\u6309\u94ae\\n```swift\\nButton(displayedText){\\n    changeText = true\\n}\\n```\\n\\n3. \u6dfb\u52a0alert\\n```swift\\nvar body: some View {\\n    Button(displayedText) {\\n        changeText = true\\n    }.alert(\\"Changing Text\\", isPresented: $changeText) {\\n        Button(\\"Yea\\"){\\n                displayedText = (displayedText == \\"Stay Foolish\\") ? \\"Stay Hungry\\" : \\"Stay Foolish\\"\\n        }\\n        Button(\\"Do nothing\\"){}\\n    } message: {\\n        Text(\\"Do you want to toggle the text?\\")\\n    }\\n}\\n```\\n\\n![image-20220105152126983](https://tva1.sinaimg.cn/large/008i3skNgy1gy2tnyjnc0j30hi0vugm0.jpg)\\n\\n## How it works\\n\\nalert\u7684actions\u95ed\u5305\uff0c\u53ef\u4ee5\u5728\u91cc\u9762\u63d0\u4f9b\u591a\u4e2a\u6309\u94ae\uff0c\u7136\u540e\u5355\u72ec\u4e3a\u6bcf\u4e2a\u6309\u94ae\u8bbe\u7f6eaction\u3002"},{"id":"/2021/12/11/SwiftUI\u4e13\u8f91-038-\u663e\u793aalerts","metadata":{"permalink":"/2021/12/11/SwiftUI\u4e13\u8f91-038-\u663e\u793aalerts","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-11-SwiftUI\u4e13\u8f91-038-\u663e\u793aalerts/index.md","source":"@site/blog/2021-12-11-SwiftUI\u4e13\u8f91-038-\u663e\u793aalerts/index.md","title":"SwiftUI\u4e13\u8f91038-\u663e\u793aalerts","description":"headerimg","date":"2021-12-11T00:00:00.000Z","formattedDate":"2021\u5e7412\u670811\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.3,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91038-\u663e\u793aalerts","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91039-\u6dfb\u52a0action Button\u5230alert\u4e2d","permalink":"/2021/12/12/SwiftUI\u4e13\u8f91-039-\u6dfb\u52a0actionButton\u5230alert\u4e2d"},"nextItem":{"title":"SwiftUI\u4e13\u8f91037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab","permalink":"/2021/12/10/SwiftUI\u4e13\u8f91-037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab"}},"content":"![headerimg](./Header.png)\\n\u4e00\u79cd\u663e\u793a\u91cd\u8981\u4fe1\u606f\u7684\u5e38\u7528View\u662f\uff1aAlert\u3002\\n\\niOS 13 \u548c 14 \u663e\u793aAlert\u7684\u65b9\u5f0f\u88ab\u5e9f\u5f03\u4e86\u3002iOS 15\u4ecb\u7ecd\u4e86\u5168\u65b0\u7684\u663e\u793aalerts\u7684\u65b9\u5f0f\u3002\\n\\n\u6211\u4eec\u4e24\u79cd\u90fd\u770b\u4e00\u770b\u3002\u5148\u770biOS15\u7684\uff0c\u518d\u770b\u8001\u7248\u672c\u7684\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e2aSwiftUI\u9879\u76ee\uff1a**PresentingAlerts**\\n\\n## How to do it\\n\\n1. \u521b\u5efa\u4e00\u4e2aState, \u63a7\u5236alert\u7684\u663e\u793a\u548c\u9690\u85cf\\n```swift\\n@State private var showSubmitAlert = false\\n```\\n\\n2. \u6dfb\u52a0\u4e00\u4e2aButton\uff0c\u70b9\u51fb\u540e\uff0c\u5f39\u51faalert\\n```swift\\nvar body: some View {\\n    Button(\\"show alert\\") {\\n        self.showSubmitAlert = true\\n    }.alert(\\"Confirm Actions\\", isPresented: $showSubmitAlert) {\\n        Button(\\"Ok\\", role: .cancel) {\\n            print(\\"clicked ok\\")\\n        }\\n    } message: {\\n        Text(\\"Are you sure you want to submit the form\\")\\n    }\\n}\\n```\\n\\n![20220105144429](https://tva1.sinaimg.cn/large/008i3skNly1gy2slzd7mlj309q0k7t8u.jpg)\\n\\n3. \u518d\u770b\u770b\u8001\u7684Alert\u662f\u600e\u4e48\u7528\u7684\\n```swift\\nButton(\\"show old alert\\") {\\n      self.showSubmitAlert = true\\n  }.alert(isPresented: $showSubmitAlert) {\\n      Alert(title: Text(\\"Old Confirm Actions\\"),\\n            message: Text(\\"Are you sure you want to submit the old form\\"),\\n            dismissButton: .default(Text(\\"ok\\")))\\n  }\\n```\\n\\n## How it works\\n\\n### iOS 15\\n\\n\u4f60\u901a\u8fc7**.alert** \u4fee\u9970\u7b26\uff0c\u7ed1\u5b9a\u5230\u662f\u5426\u5c55\u793a\uff0c\u7136\u540e\u63d0\u4f9btitle\uff0cmessage\uff0c actions\u3002\\n\\n### iOS 13 and 14\\n\\n\u4f60\u901a\u8fc7**.alert** \u4fee\u9970\u7b26\uff0c\u7ed1\u5b9a\u5230\u662f\u5426\u5c55\u793a\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2aAlert\u3002\\n\\n\u5728\u8fd9\u4e2aAlert\u4e2d\u8bbe\u7f6etitle\uff0c message \u548cactions"},{"id":"/2021/12/10/SwiftUI\u4e13\u8f91-037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab","metadata":{"permalink":"/2021/12/10/SwiftUI\u4e13\u8f91-037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-10-SwiftUI\u4e13\u8f91-037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab/index.md","source":"@site/blog/2021-12-10-SwiftUI\u4e13\u8f91-037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab/index.md","title":"SwiftUI\u4e13\u8f91037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab","description":"headerimg","date":"2021-12-10T00:00:00.000Z","formattedDate":"2021\u5e7412\u670810\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.3,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91038-\u663e\u793aalerts","permalink":"/2021/12/11/SwiftUI\u4e13\u8f91-038-\u663e\u793aalerts"},"nextItem":{"title":"SwiftUI\u4e13\u8f91036-\u4f7f\u7528TabView","permalink":"/2021/12/09/SwiftUI\u4e13\u8f91-036-\u4f7f\u7528TabView"}},"content":"![headerimg](./Header.png)\\n\u5728\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5982\u4f55\u70b9\u51fb\u5e95\u90e8tab\uff0c\u8df3\u8f6c\u4e0d\u540c\u754c\u9762\u3002\u7136\u800c\uff0c\u6211\u4eec\u6709\u65f6\u5019\u4e5f\u60f3\u901a\u8fc7\u4ee3\u7801\u89e6\u53d1\u8df3\u8f6c\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u4e00\u4e2atap gesture\u6765\u4ece\u4e00\u4e2atab\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2atab\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee\uff1a**TabViewWithGestures**\\n\\n## How to do it\u2026\\n\\n1. \u6dfb\u52a0\u4e00\u4e2aState\u8bb0\u5f55\u5f53\u524d\u9009\u4e2d\u7684tab\\n```swift\\n@State private var tabSelected = 0\\n```\\n\\n2. \u6dfb\u52a0UI\\n```swift\\nvar body: some View {\\n        TabView(selection: $tabSelected) {\\n            Text(\\"Left Tab. Click to switch to right\\")\\n                .onTapGesture {\\n                    self.tabSelected = 1\\n                }.tabItem {\\n                    Label(\\"Left\\", systemImage: \\"l.circle.fill\\")\\n                }.tag(0)\\n            Text(\\"Right Tab. Click to switch to left\\")\\n                .onTapGesture {\\n                    self.tabSelected = 0\\n                }.tabItem {\\n                    Label(\\"Right\\", systemImage: \\"l.circle.fill\\")\\n                }.tag(1)\\n        }\\n    }\\n\\n```\\n\\n![image-20220105004501937](https://tva1.sinaimg.cn/large/008i3skNly1gy24c173y7j30j012u3z9.jpg)\\n\\n## How it works\u2026\\n\\n\u8981\u60f3\u4ee3\u7801\u5207\u6362tab\uff0c\u6211\u4eec\u9996\u5148\u5f97\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8\u5f53\u524d\u9009\u4e2dtab\u7684State\u3002\u7136\u540e\u4f5c\u4e3aTabView\u7684selection\u53c2\u6570\u3002\\n\\n\u6211\u4eec\u6dfb\u52a0.tag()\u4fee\u9970\u7b26\u6765\u6307\u5b9a\u6bcf\u4e2atab\u3002\u8981\u5207\u6362\u662f\uff0c\u4e3aState\u8d4b\u503c\u4e3a\u5bf9\u5e94\u7684tag\u5373\u53ef\u3002\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u5728onTapGesture\u4e2d\u4fee\u6539\u4e86state\u4e3a\u7b2c\u4e8c\u4e2atab\u7684tag\uff0c\u56e0\u6b64\u4f1a\u81ea\u52a8\u5207\u6362\u5230\u7b2c\u4e8c\u4e2atab\u3002"},{"id":"/2021/12/09/SwiftUI\u4e13\u8f91-036-\u4f7f\u7528TabView","metadata":{"permalink":"/2021/12/09/SwiftUI\u4e13\u8f91-036-\u4f7f\u7528TabView","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-09-SwiftUI\u4e13\u8f91-036-\u4f7f\u7528TabView/index.md","source":"@site/blog/2021-12-09-SwiftUI\u4e13\u8f91-036-\u4f7f\u7528TabView/index.md","title":"SwiftUI\u4e13\u8f91036-\u4f7f\u7528TabView","description":"headerimg","date":"2021-12-09T00:00:00.000Z","formattedDate":"2021\u5e7412\u67089\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.34,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91036-\u4f7f\u7528TabView","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab","permalink":"/2021/12/10/SwiftUI\u4e13\u8f91-037-\u4ee3\u7801\u5207\u6362TabView\u7684Tab"},"nextItem":{"title":"SwiftUI\u4e13\u8f91035-\u4f7f\u7528Focus\u548cSubmit","permalink":"/2021/12/08/SwiftUI\u4e13\u8f91-035-\u4f7f\u7528Focus\u548cSubmit"}},"content":"![headerimg](./Header.png)\\nNavigationView\u6bd4\u8f83\u9002\u5408\u6709\u5c42\u6b21\u7684\u6570\u636e\uff0c\u4f46\u4e0d\u592a\u9002\u5408\u4e0d\u60f3\u5173\u7684\u6570\u636e\u3002TabView\u5c31\u662f\u7528\u6765\u7ec4\u7ec7\u8fd9\u79cd\u6570\u636e\u7684\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**UsingTabViews**\\n\\n## How to do it\u2026\\n\\n1. \u65b0\u5efa\u4e00\u4e2a**HomeView**\\n```swift\\nlet games = [\\"Doom\\", \\"Final F\\",\\"Cyberpunk\\", \\"avengers\\", \\"animal trivia\\", \\"sudoku\\", \\"snakes and ladders\\", \\"Power rangers\\", \\"ultimate frisbee\\",\\"football\\", \\"soccer\\", \\"much more\\"]\\n\\nstruct HomeView: View {\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(games, id: \\\\.self) { game in\\n                    Text(game).padding()\\n                }\\n            }.navigationBarTitle(\\"Best Games for 2021\\", displayMode: .inline)\\n        }\\n    }\\n}\\n```\\n\\n2. \u65b0\u5efa\u4e00\u4e2a**CurrenciesView**\\n```swift\\nstruct Currency: Identifiable {\\n    let id = UUID()\\n    var name: String\\n    var image: String\\n}\\n\\nvar currencies = [\\n    Currency(name: \\"Dollar\\", image: \\"dollarsign.circle.fill\\"),\\n    Currency(name: \\"Sterling\\", image: \\"sterlingsign.circle.fill\\"),\\n    Currency(name: \\"Euro\\", image: \\"eurosign.circle.fill\\"),\\n    Currency(name: \\"Yen\\", image: \\"yensign.circle.fill\\"),\\n    Currency(name: \\"Naira\\", image: \\"nairasign.circle.fill\\"),\\n]\\nstruct CurrenciesView: View {\\n    var body: some View {\\n        NavigationView {\\n            VStack {\\n                ForEach(currencies) { currency in\\n                    HStack {\\n                        Group {\\n                            Text(currency.name)\\n                            Spacer()\\n                            Image(systemName: currency.image)\\n                        }.font(Font.system(size: 40, design: .default))\\n                        .padding()\\n                    }\\n                }\\n            }.navigationBarTitle(\\"Currencies\\")\\n        }\\n    }\\n}\\n```\\n\\n3. \u6253\u5f00**ContentView.swift**\uff0c\u4f7f\u7528TabView\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n        TabView {\\n            HomeView().tabItem {\\n                Label(\\"Home\\", systemImage: \\"house.fill\\")\\n            }\\n            CurrenciesView().tabItem {\\n                Label(\\"Currencies\\", systemImage: \\"coloncurrencysign.circle.fill\\")\\n            }\\n        }\\n    }\\n}\\n```\\n\\n![image-20220105002641933](https://tva1.sinaimg.cn/large/008i3skNly1gy23syy5yej30im132dh8.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u4f7f\u7528TabView\u5b9a\u4e49tab\u7684\u5185\u5bb9\u3002\\n\\n\u4f7f\u7528**.tabItem()** \u5b9a\u4e49tabbar\u7684\u5185\u5bb9\u3002\\n\\nios14\u4ee5\u540eTabView\u8fd8\u53ef\u4ee5\u7528\u4f5c**UIPageViewController**\u3002\\n\\n```swift\\nTabView {\\n\\n}.tabViewStyle(.page)"},{"id":"/2021/12/08/SwiftUI\u4e13\u8f91-035-\u4f7f\u7528Focus\u548cSubmit","metadata":{"permalink":"/2021/12/08/SwiftUI\u4e13\u8f91-035-\u4f7f\u7528Focus\u548cSubmit","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-08-SwiftUI\u4e13\u8f91-035-\u4f7f\u7528Focus\u548cSubmit/index.md","source":"@site/blog/2021-12-08-SwiftUI\u4e13\u8f91-035-\u4f7f\u7528Focus\u548cSubmit/index.md","title":"SwiftUI\u4e13\u8f91035-\u4f7f\u7528Focus\u548cSubmit","description":"headerimg","date":"2021-12-08T00:00:00.000Z","formattedDate":"2021\u5e7412\u67088\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.005,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91035-\u4f7f\u7528Focus\u548cSubmit","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91036-\u4f7f\u7528TabView","permalink":"/2021/12/09/SwiftUI\u4e13\u8f91-036-\u4f7f\u7528TabView"},"nextItem":{"title":"SwiftUI\u4e13\u8f91034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems","permalink":"/2021/12/07/SwiftUI\u4e13\u8f91-034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems"}},"content":"![headerimg](./Header.png)\\n\u5982\u679c\u7528\u6237\u5fc5\u987b\u624b\u52a8\u5355\u51fb\u6bcf\u4e2a\u5b57\u6bb5\uff0c\u586b\u5199\u5b83\uff0c\u7136\u540e\u5355\u51fb\u586b\u5199\u4e0b\u4e00\u4e2a\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f88\u4e4f\u5473\u3002\u4e00\u4e2a\u66f4\u5bb9\u6613\u548c\u66f4\u5feb\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u952e\u76d8\u4e0a\u7684\u6309\u94ae\u4ece\u4e00\u4e2a\u8868\u5355\u5b57\u6bb5\u8df3\u8f6c\u5230\u4e0b\u4e00\u4e2a\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u5730\u5740\u8868\u5355\uff0c\u5728\u5404\u4e2a\u5b57\u6bb5\u4e4b\u95f4\u8f7b\u677e\u8df3\u8f6c\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee\uff1a**FocusAndSubmit**\\n\\n## How to do it\u2026\\n\\n1. \u5728ContentView\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u8f93\u5165\u6846\u7c7b\u578b\u679a\u4e3e\\n```swift\\nstruct ContentView: View {\\n    enum AddressField{\\n        case streetName\\n        case city\\n        case state\\n        case zipCode\\n    }\\n    var body: some View {\\n        Text(\\"hello world\\")\\n    }\\n}\\n```\\n\\n2. \u6dfb\u52a0\u4e00\u4e9bState\uff0c\u51c6\u5907\u548cTextField\u7ed1\u5b9a\\n```swift\\n@State private var streetName = \\"\\"\\n@State private var city = \\"\\"\\n@State private var state = \\"\\"\\n@State private var zipCode = \\"\\"\\n```\\n\\n3. \u6dfb\u52a0\u4e00\u4e2a**@FocusState**\uff0c\u63a7\u5236\u90a3\u4e2a\u8f93\u5165\u6846\u6b63\u5728\u8f93\u5165\\n```swift\\n@FocusState private var currentFocus: AddressField?\\n```\\n\\n4. \u6784\u5efaUI\\n```swift\\nvar body: some View {\\n    VStack {\\n        TextField(\\"Address\\", text: $streetName)\\n            .focused($currentFocus, equals:.streetName)\\n            .submitLabel(.next)\\n        TextField(\\"City\\", text: $city)\\n            .focused($currentFocus, equals: .city)\\n            .submitLabel(.next)\\n        TextField(\\"State\\", text: $state)\\n            .focused($currentFocus, equals:.state)\\n            .submitLabel(.next)\\n        TextField(\\"Zip code\\", text: $zipCode)\\n            .focused($currentFocus, equals:.zipCode)\\n            .submitLabel(.done)\\n    }\\n}\\n```\\n\\n5. \u6dfb\u52a0**.onSubmit**\u5230VStack, \u5728\u91cc\u9762\u4fee\u6539currentFocus\uff0c\u63a7\u5236\u54ea\u4e2a\u8f93\u5165\u6846Foucus\u3002\\n```swift\\n.onSubmit {\\n   switch currentFocus {\\n    case .streetName: currentFocus = .city\\n    case .city: currentFocus = .state\\n    case .state:currentFocus = .zipCode\\n    default:\\n        print(\\"Thanks for providing your address\\")\\n    }\\n}\\n```\\n\\n![image-20220105000620065](https://tva1.sinaimg.cn/large/008i3skNgy1gy237u8018j30j812m75q.jpg)\\n\\n\u5f53\u70b9\u51fbnext\u65f6\uff0c\u4e0b\u4e00\u4e2a\u8f93\u5165\u6846\u4f1a\u805a\u7126\\n\\n## How it works\u2026\\n\\n**@FocusState**\u5b9a\u4e49\u4e86Foucus\u7684\u72b6\u6001\u53d8\u5316\u3002\\n\\n\u4f7f\u7528**.focused(_ : equals:)**\u5c06View\u548cFoucusState\u7ed1\u5b9a\u3002\u5f53\u805a\u7126\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u4f1a\u66f4\u65b0FoucusState\uff0c\u66f4\u65b0FoucusState\u4e5f\u4f1a\u6539\u53d8\u5bf9\u5e94View\u7684\u805a\u7126\u72b6\u6001\u3002\\n\\n\u6211\u4eec\u4f7f\u7528**.submitLabel()**\u6765\u63a7\u5236\u952e\u76d8\u53f3\u4e0b\u89d2\u7684submit\u6309\u94ae\u3002\u5f53\u70b9\u51fb\u6309\u94ae\u65f6\uff0c\u4f1a\u89e6\u53d1.onSubmit\u6ce8\u518c\u7684\u56de\u8c03\u3002"},{"id":"/2021/12/07/SwiftUI\u4e13\u8f91-034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems","metadata":{"permalink":"/2021/12/07/SwiftUI\u4e13\u8f91-034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-07-SwiftUI\u4e13\u8f91-034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems/index.md","source":"@site/blog/2021-12-07-SwiftUI\u4e13\u8f91-034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems/index.md","title":"SwiftUI\u4e13\u8f91034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems","description":"headerimg","date":"2021-12-07T00:00:00.000Z","formattedDate":"2021\u5e7412\u67087\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.36,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91035-\u4f7f\u7528Focus\u548cSubmit","permalink":"/2021/12/08/SwiftUI\u4e13\u8f91-035-\u4f7f\u7528Focus\u548cSubmit"},"nextItem":{"title":"SwiftUI\u4e13\u8f91033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections","permalink":"/2021/12/06/SwiftUI\u4e13\u8f91-033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections"}},"content":"![headerimg](./Header.png)\\n\u8868\u5355\u4e2d\u7684\u67d0\u4e9b\u5730\u65b9\u53ef\u80fd\u6709\u989d\u5916\u7684\u8981\u6c42\uff0c\u4f8b\u5982\u6700\u5c0f\u6587\u672c\u957f\u5ea6\u6216\u7ec4\u5408\u5927\u5199\u548c\u5c0f\u5199\u5b57\u7b26\u3002\u6211\u4eec\u53ef\u80fd\u60f3\u8981\u6839\u636e \u7528\u6237\u7684\u8f93\u5165\uff0c\u7981\u7528\u63d0\u4ea4\u6309\u94ae\uff0c\u76f4\u5230\u6ee1\u8db3\u6240\u6709\u8981\u6c42\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u767b\u5f55\u89c6\u56fe\uff0c\u53ea\u6709\u5f53\u7528\u6237\u5728\u7528\u6237\u540d\u548c\u5bc6\u7801\u5b57\u6bb5\u4e2d\u8f93\u5165\u4e00\u4e9b\u5185\u5bb9\u65f6\uff0c\u63d0\u4ea4\u6309\u94ae\u624d\u4f1a\u542f\u7528\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u8981\u7ed9SwiftUI\u9879\u76ee**FormFieldDisable**\\n\\n## How to do it\u2026\\n\\n1. \u65b0\u5efa\u4e00\u4e2a**LoginView**, \u5e76\u6dfb\u52a0\u4e00\u4e9b\u72b6\u6001\\n```swift\\nstruct LoginView: View {\\n    @State private var username = \\"\\"\\n    @State private var password = \\"\\"\\n    var body: some View {\\n        Text(\\"\\")\\n    }\\n}\\n```\\n\\n2. \u5b9e\u73b0UI\\n\\n```swift\\nVStack {\\n    Text(\\"Dungeons and Wagons\\")\\n        .fontWeight(.heavy)\\n        .foregroundColor(.blue)\\n        .font(.largeTitle)\\n        .padding(.bottom, 30)\\n    Image(systemName: \\"person.circle\\")\\n         .font(.system(size: 150))\\n         .foregroundColor(.gray)\\n         .padding(.bottom,40)\\n    Group{\\n        TextField(\\"Username\\", text: $username)\\n        SecureField(\\"Password\\", text: $password)\\n    }.padding().overlay(RoundedRectangle(cornerRadius: 10).stroke(Color.black, lineWidth: 2))\\n    Button {\\n        print(\\"Login clicked\\")\\n    } label: {\\n        Text(\\"Login\\")\\n            .padding()\\n            .background((username.isEmpty || password.isEmpty) ?.gray : Color.blue)\\n            .foregroundColor(Color.white)\\n            .clipShape(Capsule())            \\n    }.disabled(username.isEmpty || password.isEmpty)\\n  }\\n```\\n\\n3. \u6dfb\u52a0\u5230ContentView\u4e2d\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n        LoginView()\\n    }\\n}\\n```\\n\\n![image-20211231185513737](https://tva1.sinaimg.cn/large/008i3skNgy1gxx7qu61rtj30c80p00t9.jpg)\\n\\n## How it works\u2026\\n\\n**.disable\uff08\uff09**\u53ef\u4ee5\u8ba9\u6309\u94ae\u4e0d\u54cd\u5e94\u4e8b\u4ef6\u3002\\n\\n\u6211\u4eec\u8fd8\u4ecb\u7ecd\u4e86Group\uff0c\u5c06\u6837\u5f0f\u540c\u65f6\u5e94\u7528\u4e8egroup\u4e2d\u7684\u591a\u4e2aview\u3002"},{"id":"/2021/12/06/SwiftUI\u4e13\u8f91-033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections","metadata":{"permalink":"/2021/12/06/SwiftUI\u4e13\u8f91-033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-06-SwiftUI\u4e13\u8f91-033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections/index.md","source":"@site/blog/2021-12-06-SwiftUI\u4e13\u8f91-033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections/index.md","title":"SwiftUI\u4e13\u8f91033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections","description":"headerimg","date":"2021-12-06T00:00:00.000Z","formattedDate":"2021\u5e7412\u67086\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.295,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems","permalink":"/2021/12/07/SwiftUI\u4e13\u8f91-034-\u5f00\u542f\u548c\u7981\u7528Form\u4e2d\u7684\u67d0\u4e9bitems"},"nextItem":{"title":"SwiftUI\u4e13\u8f91032-\u9884\u89c8mock\u6570\u636e","permalink":"/2021/12/05/SwiftUI\u4e13\u8f91-032-\u9884\u89c8Mock\u6570\u636e"}},"content":"![headerimg](./Header.png)\\nForm\u63d0\u4f9b\u4e86\u4e00\u79cd\u4ece\u7528\u6237\u90a3\u91cc\u83b7\u53d6\u4fe1\u606f\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u8868\u683c\u5f88\u957f\u65f6\uff0c\u7528\u6237\u5728\u5b8c\u6210\u65f6\u4f1a\u611f\u5230\u6c14\u9981\uff0c\u63d0\u4ea4\u8868\u683c\u7684\u4eba\u5f88\u5c11 \u610f\u5473\u7740\u60a8\u7684\u8c03\u67e5\u6570\u636e\u66f4\u5c11\uff0c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u6ce8\u518c\u66f4\u5c11\uff0c\u6216\u8005\u63d0\u4f9b\u60a8\u6536\u96c6\u7684\u4efb\u4f55\u6570\u636e\u7684\u4eba\u66f4\u5c11\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u6839\u636e\u7528\u6237\u7684\u8f93\u5165\u663e\u793a/\u9690\u85cfForm\u7684\u9644\u52a0\u5730\u5740\u90e8\u5206\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**SignUp**\\n\\n## How to do it\u2026\\n\\n1. \u65b0\u5efa\u4e00\u4e2a**SignUpView**\uff0c\u5e76\u6dfb\u52a0state\\n```swift \\nstruct SignUpView: View {\\n    @State private var fname = \\"\\"\\n    @State private var lname = \\"\\"\\n    @State private var street = \\"\\"\\n    @State private var city = \\"\\"\\n    @State private var zip = \\"\\"\\n    @State private var lessThanTwo = false\\n    @State private var username = \\"\\"\\n    @State private var password = \\"\\"\\n    var body: some View {\\n        Text(/*@START_MENU_TOKEN@*/\\"Hello, World!\\"/*@END_MENU_TOKEN@*/)\\n    }\\n}\\n```\\n\\n2. \u6dfb\u52a0\u4e00\u4e2aForm\\n```swift\\nvar body: some View {\\n    NavigationView {\\n        Form {\\n\\n        }.navigationTitle(\\"Sign up\\")\\n    }\\n}\\n```\\n\\n3. \u6dfb\u52a0\u4e00\u4e2asection\u5230Form\u91cc\\n```swift\\nSection(header: Text(\\"Names\\")){\\n    TextField(\\"First Name\\", text: $fname)\\n    TextField(\\"Last Name\\" , text: $lname)\\n}\\n```\\n\\n4. \u518d\u6dfb\u52a0\u4e00\u4e2asection\\n```swift\\nSection(header: Text(\\"Current Address\\")){\\n    TextField(\\"Street Address\\" , text: $street)\\n    TextField(\\"City\\" , text: $city)\\n    TextField(\\"Zip\\" , text: $zip)\\n}\\n```\\n\\n5. \u5728zip\u540e\u6dfb\u52a0\u4e00\u4e2aToggle, \u5982\u679c\u52fe\u9009\u4e86\uff0c\u624d\u663e\u793a\u7b2c\u4e09\u4e2asection\\n```swift\\nToggle(isOn: $lessThanTwo){\\n    Text(\\"Have you lived here for 2+ years\\")\\n}\\n```\\n\\n6. \u6dfb\u52a0\u7b2c\u4e09\u4e2asection\uff0c\u6839\u636e\u662f\u5426\u52fe\u9009\u663e\u793a\u548c\u9690\u85cf\\n```swift\\nif !lessThanTwo{\\n    Section(header: Text(\\"Previous Address\\")) {\\n        TextField(\\"Street Address\\" , text: $street)\\n        TextField(\\"City\\" , text: $city)\\n        TextField(\\"Zip\\" , text: $zip)\\n    }\\n}\\n```\\n\\n7. \u5728\u6dfb\u52a0\u4e00\u4e2asection\\n```swift\\nSection(header:Text(\\"Create Account Info\\")) {\\n    TextField(\\"Create Username\\" , text: $username)\\n    SecureField(\\"Password\\", text: $password)\\n}\\n```\\n\\n8. \u6700\u540e\u6dfb\u52a0\u4e00\u4e2a\u63d0\u4ea4\u6309\u94ae\\n```swift\\nButton(\\"Submit\\") {\\n    print(\\"Form submit action here\\")\\n}\\n```\\n\\n\u6700\u7ec8\uff0c\u5f53\u6211\u4eec\u6253\u5f00toggle\u65f6\uff0c\u4e0d\u4f1a\u663e\u793a\u4e0d\u9700\u8981\u586b\u5199\u7684section\\n\\n![20211231183357](https://tva1.sinaimg.cn/large/008i3skNgy1gxx755o5a4j30af0l0gm2.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u4f7f\u7528**if**\u6761\u4ef6\u8bed\u53e5\u6765\u663e\u793a\u6216\u9690\u85cf\u8868\u5355\u4e2d\u7684\u90e8\u5206\u5b57\u6bb5\u3002\u4f8b\u5982\uff0c\u4ec5\u5f53**lessThanTwo**\u53d8\u91cf\u7684\u503c\u8bbe\u7f6e\u4e3a**true**\u65f6\uff0c\u624d\u4f1a\u663e\u793a\u8868\u5355\u7684**Previous Address**\u90e8\u5206\u3002"},{"id":"/2021/12/05/SwiftUI\u4e13\u8f91-032-\u9884\u89c8Mock\u6570\u636e","metadata":{"permalink":"/2021/12/05/SwiftUI\u4e13\u8f91-032-\u9884\u89c8Mock\u6570\u636e","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-05-SwiftUI\u4e13\u8f91-032-\u9884\u89c8Mock\u6570\u636e/index.md","source":"@site/blog/2021-12-05-SwiftUI\u4e13\u8f91-032-\u9884\u89c8Mock\u6570\u636e/index.md","title":"SwiftUI\u4e13\u8f91032-\u9884\u89c8mock\u6570\u636e","description":"headerimg","date":"2021-12-05T00:00:00.000Z","formattedDate":"2021\u5e7412\u67085\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.785,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91032-\u9884\u89c8mock\u6570\u636e","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections","permalink":"/2021/12/06/SwiftUI\u4e13\u8f91-033-\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections"},"nextItem":{"title":"SwiftUI\u4e13\u8f91031-\u9884\u89c8UIKit","permalink":"/2021/12/04/SwiftUI\u4e13\u8f91-031-\u9884\u89c8UIKit"}},"content":"![headerimg](./Header.png)\\n\u901a\u5e38\u6211\u4eec\u83b7\u53d6\u6570\u636e\u662f\u901a\u8fc7 API \u8c03\u7528\u3002\u4f46\u8fd9\u53ef\u80fd\u5f88\u8017\u65f6\uff0c\u5e76\u5f88\u5feb\u6210\u4e3a\u74f6\u9888\u3002\u66f4\u5feb\u7684\u9009\u62e9\u662f\u4ec5\u5728\u6784\u5efa\u65f6\u63d0\u4f9b\u4e00\u4e9bmock\u6570\u636e\u3002\\n\\n\u672c\u7ae0\u6211\u4eec\u5c06\u5728**Preview Content**\u6587\u4ef6\u5939\u4e0b\u5b58\u50a8\u4e00\u4e9bjson\uff0c\u6765\u6a21\u62dfApi\u8c03\u7528\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee**UsingMockDataForPreviews**\\n\\n## How to do it\\n\\n1. \u9996\u5148\u51c6\u5907\u4e00\u4e2ajson\u6587\u4ef6: insetsData.json\\n```swift\\n[\\n  {\\n      \\"id\\": 1,\\n    \\"imageName\\": \\"honeybee\\",\\n    \\"name\\": \\"Honey bee\\",\\n    \\"habitat\\": \\"Tropical climates\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  },\\n  {\\n      \\"id\\": 2,\\n    \\"imageName\\": \\"greenbrownfly\\",\\n    \\"name\\": \\"Green Fly\\",\\n    \\"habitat\\": \\"warm and moist climates\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  },\\n  {\\n      \\"id\\": 3,\\n    \\"imageName\\": \\"greenbug\\",\\n    \\"name\\": \\"Green bug\\",\\n    \\"habitat\\": \\"orchards and gardens\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  },\\n  {\\n      \\"id\\": 4,\\n    \\"imageName\\": \\"blackbeatle\\",\\n    \\"name\\": \\"Black Beatle\\",\\n    \\"habitat\\": \\"Tropical climates\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  },\\n  {\\n      \\"id\\": 5,\\n    \\"imageName\\": \\"brownspider\\",\\n    \\"name\\": \\"Brown Spider\\",\\n    \\"habitat\\": \\"warm and moist climates\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  },\\n  {\\n      \\"id\\": 6,\\n    \\"imageName\\": \\"bluedragonfly\\",\\n    \\"name\\": \\"Blue Dragonfly\\",\\n    \\"habitat\\": \\"around lakes and streams\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consecte\\"\\n  },\\n  {\\n      \\"id\\": 7,\\n    \\"imageName\\": \\"brownblackbutterfly\\",\\n    \\"name\\": \\"Brown Black Butterfly\\",\\n    \\"habitat\\": \\"deciduous forests\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  },\\n  {\\n      \\"id\\": 8,\\n    \\"imageName\\": \\"grasshopper\\",\\n    \\"name\\": \\"Grasshopper\\",\\n    \\"habitat\\": \\"dry open habitat with lots of grass\\",\\n    \\"description\\": \\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer.\\"\\n  }\\n]\\n```\\n\\n2. \u521b\u5efa\u4e00\u4e2amodel\u548cjson\u5bf9\u5e94\\n```swift\\nstruct Insect : Decodable, Identifiable{\\n    var id: Int\\n    var imageName: String\\n    var name:String\\n    var habitat:String\\n    var description:String\\n}\\n\\nlet testInsect = Insect(id: 1, imageName: \\"grasshopper\\", name: \\"grass\\", habitat: \\"rocks\\", description: \\"none\\")\\n\\n```\\n\\n3. \u5728**ContentView.swift**\u4e2d\u589e\u52a0UI\u4ee3\u7801,\u663e\u793a\u6570\u636e\\n```swift\\nstruct ContentView: View {\\n    var insects:[Insect] = []\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(insects) { insect in\\n                    HStack {\\n                        Image(insect.imageName)\\n                            .resizable()\\n                            .aspectRatio(contentMode: .fit)\\n                            .clipShape(Rectangle())\\n                            .frame(width: 100, height: 80)\\n                        VStack(alignment: .leading) {\\n                            Text(insect.name).font(.title)\\n                            Text(insect.habitat)\\n                        }.padding(.vertical)\\n                    }\\n                }\\n\\n            }.navigationBarTitle(\\"Insects\\")\\n        }\\n    }\\n}\\n```\\n\\n4. \u5728\u9884\u89c8\u4e2d\u4f20\u5165mock\u6570\u636e\\n```swift\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        ContentView(insects: Self.testInsects)\\n    }\\n    \\n    static var testInsects : [Insect]{\\n        guard let url = Bundle.main.url(forResource:\\"insetsData\\", withExtension: \\"json\\"),\\n            let data = try? Data(contentsOf: url) else{\\n                return[]\\n        }\\n        let decoder  = JSONDecoder()\\n        let array = try?decoder.decode([Insect].self, from: data)\\n        return array ??  [testInsect]\\n    }\\n}\\n```\\n\\n![image-20211231181222575](https://tva1.sinaimg.cn/large/008i3skNgy1gxx6iafb9cj30dk0qc0tt.jpg)\\n\\n## How it works\\n\\n\u5728preview\u4e2d\uff0c\u6211\u4eec\u8bfb\u53d6json\u6587\u4ef6\uff0c\u7136\u540e\u8f6c\u6210modle\u6570\u7ec4\uff0c\u5f97\u5230mock\u6570\u636e\u3002\\n\\n\u7136\u540e\u5c06Mock\u6570\u636e\u4f20\u7ed9View\u663e\u793a\u3002"},{"id":"/2021/12/04/SwiftUI\u4e13\u8f91-031-\u9884\u89c8UIKit","metadata":{"permalink":"/2021/12/04/SwiftUI\u4e13\u8f91-031-\u9884\u89c8UIKit","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-04-SwiftUI\u4e13\u8f91-031-\u9884\u89c8UIKit/index.md","source":"@site/blog/2021-12-04-SwiftUI\u4e13\u8f91-031-\u9884\u89c8UIKit/index.md","title":"SwiftUI\u4e13\u8f91031-\u9884\u89c8UIKit","description":"headerimg","date":"2021-12-04T00:00:00.000Z","formattedDate":"2021\u5e7412\u67084\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.695,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91031-\u9884\u89c8UIKit","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91032-\u9884\u89c8mock\u6570\u636e","permalink":"/2021/12/05/SwiftUI\u4e13\u8f91-032-\u9884\u89c8Mock\u6570\u636e"},"nextItem":{"title":"SwiftUI\u4e13\u8f91030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40","permalink":"/2021/12/03/SwiftUI\u4e13\u8f91-030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40"}},"content":"![headerimg](./Header.png)\\n\u5982\u679c\u60a8\u559c\u6b22\u8f7b\u677e\u9884\u89c8 UI \u66f4\u6539\uff0c\u4f46\u60a8\u7684\u9879\u76ee\u53c8\u53ea\u662fUIkit\uff0c\u90a3\u4e48\u8bf7\u653e\u5fc3 \u56e0\u4e3a\u4f60\u4e5f\u53ef\u4ee5\u5728\u6784\u5efa UIKit \u5e94\u7528\u7a0b\u5e8f\u65f6\u4f7f\u7528\u8fd9\u4e2a\u5f3a\u5927\u7684\u529f\u80fd\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u5c06UIViewController\u548cUIView\u5305\u88c5\u5230 SwiftUI \u89c6\u56fe\u4e2d\uff0c\u7136\u540e\u4f7f\u7528\u5b9e\u65f6\u9884\u89c8\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e2a\u666e\u901astoryboard\u5de5\u7a0b\uff1aUIKitPreview\\n\\n## How to do it\\n\\n1. \u65b0\u5efa\u4e00\u4e2aswift\u6587\u4ef6**ViewControllerPreview**, \u9075\u5faaUIViewControllerRepresentable\\n```swift\\nimport UIKit\\nimport SwiftUI\\nstruct ViewControllerPreview: UIViewControllerRepresentable {\\n    let viewControllerBuilder: () -> UIViewController\\n    init(_ viewControllerBuilder: @escaping () -> UIViewController) {\\n        self.viewControllerBuilder = viewControllerBuilder\\n    }\\n\\n    func makeUIViewController(context: Context) -> some UIViewController {\\n        return self.viewControllerBuilder()\\n    }\\n    func updateUIViewController(_ uiViewController: UIViewControllerType, context: Context) {\\n        \\n    }\\n}\\n```\\n\\n2. \u7136\u540e\u521b\u5efa\u4e00\u4e2apreview, \u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u9884\u89c8\u4efb\u4f55UIViewController\u4e86\\n```swift\\nstruct ViewControllerPreview_Previews: PreviewProvider {\\n    static var previews: some View {\\n        ViewControllerPreview {\\n            MyViewController()\\n        }\\n    }\\n}\\n```\\n\\n3. \u5199\u4e2aviewcontroller\\n\\n```swift\\nimport SnapKit\\nclass MyViewController: UIViewController {\\n    override func viewDidLoad() {\\n        super.viewDidLoad()\\n        self.setupView()\\n    }\\n    func setupView() {\\n        self.view.backgroundColor = UIColor.black.withAlphaComponent(0.5)\\n        self.contaienrView = UIView()\\n        self.contaienrView.backgroundColor = UIColor.white\\n        self.contaienrView.layer.cornerRadius = 8\\n        self.view.addSubview(self.contaienrView)\\n        self.contaienrView.snp.makeConstraints { make in\\n            make.center.equalToSuperview()\\n            make.width.equalTo(290)\\n            make.height.equalTo(162)\\n        }\\n        let textColor = UIColor(red: 0x27 / 255.0, green: 0x27 / 255.0, blue: 0x55 / 255.0, alpha: 1.0)\\n        self.titleLabel = UILabel()\\n        self.titleLabel.font = UIFont.systemFont(ofSize: 15)\\n        self.titleLabel.textColor = textColor\\n        self.titleLabel.text = \\"\u662f\u5426\u6e05\u9664\u6240\u6709\u6536\u85cf\u4e60\u9898\u8bb0\u5f55\\"\\n        self.titleLabel.numberOfLines = 2\\n        self.contaienrView.addSubview(self.titleLabel)\\n        self.titleLabel.snp.makeConstraints { make in\\n            make.leading.equalToSuperview().offset(20)\\n            make.trailing.equalToSuperview().offset(-20)\\n            make.top.equalToSuperview().offset(20)\\n            make.height.equalTo(45)\\n        }\\n        \\n        self.descLabel = UILabel()\\n        self.descLabel.textColor = textColor.withAlphaComponent(0.5)\\n        self.descLabel.text = \\"\u6e05\u9664\u540e\u5f53\u524d\u79d1\u76ee\u65e0\u9519\u9898\u8bb0\u5f55\uff0c\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\\"\\n        self.descLabel.font = UIFont.systemFont(ofSize: 12)\\n        self.contaienrView.addSubview(self.descLabel)\\n        self.descLabel.snp.makeConstraints { make in\\n            make.leading.equalToSuperview().offset(20)\\n            make.trailing.equalToSuperview().offset(-20)\\n            make.top.equalTo(self.titleLabel.snp.bottom).offset(4)\\n            make.height.equalTo(20)\\n        }\\n        let sepColor = UIColor(red: 0xF0/255.0, green: 0xF0/255.0, blue: 0xF0/255.0, alpha: 1.0)\\n        self.hLine = UIView()\\n        self.hLine.backgroundColor = sepColor\\n        self.contaienrView.addSubview(self.hLine)\\n        self.hLine.snp.makeConstraints { make in\\n            make.leading.trailing.equalToSuperview()\\n            make.bottom.equalToSuperview().offset(-49)\\n            make.height.equalTo(1)\\n        }\\n        self.vLine = UIView()\\n        self.vLine.backgroundColor = sepColor\\n        self.contaienrView.addSubview(self.vLine)\\n        self.vLine.snp.makeConstraints { make in\\n            make.centerX.equalToSuperview()\\n            make.bottom.equalToSuperview()\\n            make.width.equalTo(1)\\n            make.height.equalTo(49)\\n        }\\n        \\n        self.clearBtn = UIButton(type: .custom)\\n        self.clearBtn.setTitle(\\"\u6e05\u9664\\", for: .normal)\\n        self.clearBtn.setTitleColor(textColor.withAlphaComponent(0.5), for: .normal)\\n        self.clearBtn.titleLabel?.font = UIFont.systemFont(ofSize: 15)\\n        self.contaienrView.addSubview(self.clearBtn)\\n        self.clearBtn.snp.makeConstraints { make in\\n            make.leading.bottom.equalToSuperview()\\n            make.trailing.equalTo(self.vLine.snp.leading)\\n            make.height.equalTo(49)\\n        }\\n        self.cancelBtn = UIButton(type: .custom)\\n        self.cancelBtn.setTitle(\\"\u53d6\u6d88\\", for: .normal)\\n        self.cancelBtn.setTitleColor(UIColor(red: 0x33/255.0, green: 0x77/255.0, blue: 0xFF/255.0, alpha: 1.0), for: .normal)\\n        self.cancelBtn.titleLabel?.font = UIFont.systemFont(ofSize: 15, weight: .medium)\\n        self.contaienrView.addSubview(self.cancelBtn)\\n        self.cancelBtn.snp.makeConstraints { make in\\n            make.trailing.bottom.equalToSuperview()\\n            make.leading.equalTo(self.vLine.snp.trailing)\\n            make.height.equalTo(49)\\n        }\\n    }\\n    \\n    var contaienrView: UIView!\\n    var titleLabel: UILabel!\\n    var descLabel: UILabel!\\n    var hLine: UIView!\\n    var vLine: UIView!\\n    var clearBtn: UIButton!\\n    var cancelBtn: UIButton!\\n}\\n```\\n\\n![image-20211231175113346](https://tva1.sinaimg.cn/large/008i3skNgy1gxx5w8hc5aj30hc0zsdgi.jpg)\\n\\n## How it works\\n\\n\u5982\u679c\u4f60\u60f3\u5728SwiftUI\u4e2d\u9884\u89c8UIViewController\uff0c\u90a3\u4e48\u9700\u8981\u5305\u88f9\u6210**UIViewControllerRepresentable**\u3002\\n\\n\u8981\u5b9e\u73b0**UIViewControllerRepresentable**, \u6211\u4eec\u9700\u8981\u5b9e\u73b0\u4e24\u4e2a\u65b9\u6cd5 **makeUIViewController** \u548c **updateUIViewController**.\\n\\nmakeUIViewController\u8fd4\u56deUIViewController\uff0c\u4f60\u518d\u8fd9\u91cc\u521d\u59cb\u5316\u4f60\u7684viewcontroller\u3002\\n\\n**updateUIViewController**\u8d1f\u8d23\u66f4\u65b0\u72b6\u6001\uff0c\u6211\u4eecdemo\u4e2d\u6ca1\u6709\u72b6\u6001\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u7559\u7a7a\u4e86\u3002"},{"id":"/2021/12/03/SwiftUI\u4e13\u8f91-030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40","metadata":{"permalink":"/2021/12/03/SwiftUI\u4e13\u8f91-030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-03-SwiftUI\u4e13\u8f91-030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40/index.md","source":"@site/blog/2021-12-03-SwiftUI\u4e13\u8f91-030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40/index.md","title":"SwiftUI\u4e13\u8f91030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40","description":"headerimg","date":"2021-12-03T00:00:00.000Z","formattedDate":"2021\u5e7412\u67083\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.175,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91031-\u9884\u89c8UIKit","permalink":"/2021/12/04/SwiftUI\u4e13\u8f91-031-\u9884\u89c8UIKit"},"nextItem":{"title":"SwiftUI\u4e13\u8f91029-\u9884\u89c8View\u5d4c\u5165NavigationView","permalink":"/2021/12/02/SwiftUI\u4e13\u8f91-029-\u9884\u89c8View\u5d4c\u5165NavigationView"}},"content":"![headerimg](./Header.png)\\nSwiftUI\u5141\u8bb8\u6211\u4eec\u901a\u8fc7.previewDevice()\u4fee\u9970\u7b26\uff0c\u5728\u591a\u79cd\u5c4f\u5e55\u5c3a\u5bf8\u4e0a\u3001\u8bbe\u5907\u7c7b\u578b\u540c\u65f6\u9884\u89c8\u5e03\u5c40\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\uff1a**PreviewOnDifferentDevices**\\n\\n## How to do it\\n\\n1. \u6dfb\u52a0\u4e00\u5f20\u56fe\u7247\u5230Preivew Content\u7684xcassets\u4e2d\u3002\\n2. \u66ff\u6362\u9ed8\u8ba4\u7684Text\u4e3a\u4ee5\u4e0b\u4ee3\u7801\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n          VStack{\\n            Image(\\"friendship\\")\\n               .resizable()\\n               .aspectRatio(contentMode: .fit)\\n            Text(\\"Importance of  Friendship\\").font(.title)\\n            Text(\\"Friends helps us deal with stress and make better life choices\\")\\n                .multilineTextAlignment(.center).padding()\\n          }\\n    }\\n}\\n```\\n\\n3. \u4fee\u6539preview\u7684\u4ee3\u7801\uff0c\u5728\u5bf9\u4e2a\u8bbe\u5907\u4e0a\u540c\u65f6\u9884\u89c8\\n```swift\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        Group {\\n            ContentView()\\n                .previewDevice(.init(rawValue: \\"iPhone 11 Pro Max\\"))\\n                .previewDisplayName(\\"Iphone 11 Pro Max\\")\\n            ContentView()\\n                .previewDevice(.init(rawValue: \\"iPhone 8\\"))\\n                .previewDisplayName(\\"iPhone 8\\")\\n            ContentView()\\n                .previewLayout(.fixed(width: 568, height: 320))\\n                .previewDisplayName(\\"Custom Size landscape\\")\\n            \\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\\n\\n![20211230191108](https://tva1.sinaimg.cn/large/008i3skNgy1gxw2mjewzwj30af0hh0t7.jpg)\\n\\n![20211230191123](https://tva1.sinaimg.cn/large/008i3skNgy1gxw2mqpkigj30af0jz74u.jpg)\\n\\n![20211230191135](https://tva1.sinaimg.cn/large/008i3skNgy1gxw2myjtu8j30af0710st.jpg)\\n\\n## How it works\\n\\n **.previewDevice()**\u4fee\u9970\u7b26\u80fd\u591f\u8ba9\u4f60\u5728\u7279\u5b9a\u8bbe\u5907\u4e0a\u9884\u89c8\u3002\\n\\n\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u540d\u5b57\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u6a21\u62df\u5668\u6765\u786e\u5b9a\\n\\n![image-20211230191436168](https://tva1.sinaimg.cn/large/008i3skNgy1gxw2op9qhzj30jo0w2jub.jpg)\\n\\n\u5982\u679c\u8981\u770b\u6a2a\u5c4f\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u5927\u5c0f\u6765\u67e5\u770b:**.previewLayout()**"},{"id":"/2021/12/02/SwiftUI\u4e13\u8f91-029-\u9884\u89c8View\u5d4c\u5165NavigationView","metadata":{"permalink":"/2021/12/02/SwiftUI\u4e13\u8f91-029-\u9884\u89c8View\u5d4c\u5165NavigationView","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-02-SwiftUI\u4e13\u8f91-029-\u9884\u89c8View\u5d4c\u5165NavigationView/index.md","source":"@site/blog/2021-12-02-SwiftUI\u4e13\u8f91-029-\u9884\u89c8View\u5d4c\u5165NavigationView/index.md","title":"SwiftUI\u4e13\u8f91029-\u9884\u89c8View\u5d4c\u5165NavigationView","description":"headerimg","date":"2021-12-02T00:00:00.000Z","formattedDate":"2021\u5e7412\u67082\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.485,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91029-\u9884\u89c8View\u5d4c\u5165NavigationView","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40","permalink":"/2021/12/03/SwiftUI\u4e13\u8f91-030-\u9884\u89c8\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u5e03\u5c40"},"nextItem":{"title":"SwiftUI\u4e13\u8f91028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize","permalink":"/2021/12/01/SwiftUI\u4e13\u8f91-028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize"}},"content":"![headerimg](./Header.png)\\n\u6709\u4e9bView\u81ea\u8eab\u5e76\u4e0d\u5305\u542bNavigationView\uff0c\u4f46\u662f\u4ed6\u53c8\u5c5e\u4e8eNavigationView stack\u4e2d\u7684\u4e00\u90e8\u5206\u3002\\n\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u8981\u770b\u5bfc\u822a\u680f\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u8fd0\u884cApp\u5e76\u5bfc\u822a\u5230\u5bf9\u5e94\u754c\u9762\u3002\\n\u4e0d\u8fc7\uff0c\u9884\u89c8\u63d0\u4f9b\u4e86\u4e00\u79cd\u8282\u7701\u65f6\u95f4\u7684\u65b9\u5f0f\u6765\u5b9e\u65f6\u67e5\u770b UI \u66f4\u6539\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**PreviewingInNavigationView**\\n\\n## How to do it\\n\\n1. \u66ff\u6362\u9ed8\u8ba4\u7684Text\u4e3a\u4ee5\u4e0b\u4ee3\u7801\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n        NavigationView {\\n            VStack {\\n                NavigationLink(destination: SecondView(someText: \\"Sample text\\")) {\\n                    Text(\\"Go to second view\\")\\n                        .foregroundColor(Color.white)\\n                        .padding()\\n                        .background(Color.black)\\n                        .cornerRadius(25)\\n                }\\n\\n            }.navigationBarTitle(\\"Previews\\", displayMode: .inline)\\n        }\\n    }\\n}\\n```\\n\\n2. \u5b9e\u73b0\u62a5\u9519\u7684**SecondView**\\n```swift\\n\\nstruct SecondView: View {\\n    var someText: String\\n        var body: some View {\\n            Text(someText)\\n                .navigationBarTitle(\\"Second View \\", displayMode: .inline)\\n        }\\n}\\n\\n///\u8fd9\u4e2apreview\uff0c\u5e76\u6ca1\u6709\u770b\u5230\u8bbe\u7f6e\u7684\u5bfc\u822a\u680ftitle, \u6211\u4eec\u9700\u8981\u8fd0\u884c\u540e\u8fdb\u5165\u8fd9\u4e2a\u754c\u9762\u624d\u80fd\u770b\u5230\\nstruct SecondView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        SecondView()\\n    }\\n}\\n```\\n\\n3. \u4fee\u6539SecondView_Previews\uff0c\u5d4c\u5165NavigationView\\n```swift\\nstruct SecondView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        NavigationView {\\n            SecondView(someText: \\"Testting\\")\\n        }\\n    }\\n}\\n```\\n\\n![image-20211230185348484](https://tva1.sinaimg.cn/large/008i3skNgy1gxw231yqswj30dy0r8wew.jpg)\\n\\n## How it works\\n\\n\u5904\u4e8e\u5bfc\u822a\u6808\u91cc\u7684\u754c\u9762\u7684**.navigationBarTitle()**\uff0c\u9884\u89c8\u662f\u770b\u4e0d\u89c1\uff0c\u6211\u4eec\u53ef\u4ee5\u4fee\u6539\u9884\u89c8\u7684\u4ee3\u7801\uff0c\u5c06\u5176\u5d4c\u5165NavigationView\u5c31\u80fd\u770b\u5230\u4e86\u3002"},{"id":"/2021/12/01/SwiftUI\u4e13\u8f91-028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize","metadata":{"permalink":"/2021/12/01/SwiftUI\u4e13\u8f91-028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-12-01-SwiftUI\u4e13\u8f91-028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize/index.md","source":"@site/blog/2021-12-01-SwiftUI\u4e13\u8f91-028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize/index.md","title":"SwiftUI\u4e13\u8f91028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize","description":"headerimg","date":"2021-12-01T00:00:00.000Z","formattedDate":"2021\u5e7412\u67081\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.455,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91029-\u9884\u89c8View\u5d4c\u5165NavigationView","permalink":"/2021/12/02/SwiftUI\u4e13\u8f91-029-\u9884\u89c8View\u5d4c\u5165NavigationView"},"nextItem":{"title":"SwiftUI\u4e13\u8f91027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f","permalink":"/2021/11/30/SwiftUI\u4e13\u8f91-027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f"}},"content":"![headerimg](./Header.png)\\n\u60a8\u53ef\u80fd\u5e0c\u671b\u6539\u8fdb\u5e94\u7528\u7684\u4e00\u4e9b\u529f\u80fd\u4ee5\u5438\u5f15\u66f4\u591a\u7684\u7528\u6237 \u3002\u6bd4\u5982\uff1a\u7528\u6237\u53ef\u80fd\u559c\u6b22\u7684\u4e0d\u540c\u5b57\u4f53\uff0c\u8fd9\u610f\u5473\u7740\u8981\u786e\u4fdd\u8bbe\u8ba1\u5728\u4e0d\u540c\u5b57\u4f53\u5927\u5c0f\u4e0b\u770b\u8d77\u6765\u4e0d\u9519\u3002SwiftUI \u9884\u89c8\u975e\u5e38\u9002\u5408\u6b64\u7c7b\u60c5\u51b5\u3002\u5b83\u4eec\u5141\u8bb8\u60a8\u7acb\u5373\u9884\u89c8\u65b0\u5185\u5bb9\u5728\u4e0d\u540c\u52a8\u6001\u5b57\u4f53\u5927\u5c0f\u4e0b\u7684\u5916\u89c2\u3002\\n\u6211\u4eec\u6765\u7f16\u5199\u4e00\u4e2a\u65b0\u95fb\u7c7b\u6587\u7ae0demo\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u5de5\u7a0b\uff1a**DynamicTypeSizesPreview**\u3002\\n\\n## How to do it\\n\\n\u4e00\u4e2a\u65b0\u95fb\u7c7b\u6587\u7ae0\u5e94\u8be5\u5305\u542b\u4e00\u4e2a\u56fe\u7247\uff0c\u4e00\u4e2atitle\uff0c\u548c\u4e00\u6bb5\u63cf\u8ff0\u3002\u6211\u4eec\u9996\u9009\u521b\u5efa\u4e00\u4e2amodel\u6765\u4ee3\u8868\u4e00\u4e2a\u65b0\u95fb\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2aView\u6765\u663e\u793a\u4ed6\uff0c\u6700\u540e\u5728\u4e0d\u540c\u5927\u5c0f\u7684\u8bbe\u5907\u4e0a\u9884\u89c8\u3002\\n\\n1. \u6211\u4eec\u628a\u4e24\u4e2a\u56fe\u7247\u653e\u5230Preview Content\u4e0b\u7684xcassets\u4e0b\\n\\n![image-20211230112258939](https://tva1.sinaimg.cn/large/008i3skNgy1gxvp1z7yt3j319u0ju76s.jpg)\\n\\n2. \u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6**Article**\uff0c\u5b9a\u4e49model\\n```swift\\nstruct Article {\\n    var imageName:String\\n    var title: String\\n    var description: String\\n}\\n```\\n\\n3. \u5728Article\u5b9a\u4e49\u7684\u4e0b\u65b9\uff0c\u6211\u4eec\u521b\u5efa\u70b9\u6570\u636e\u7528\u4e8e\u9884\u89c8\\n```swift\\nlet sampleArticle1 = Article(imageName: \\"reading\\", title: \\"Love reading\\", description: \\"Reading is essential to success\\")\\nlet sampleArticle2 = Article(imageName: \\"naptime\\", title: \\"Nap time\\", description: \\"Take naps when tired to improve performance\\")\\n```\\n\\n4. \u65b0\u5efa\u4e00\u4e2aSwiftUI view\uff1a **ArticleView**\\n```swift\\nstruct ArticleView: View {\\n    var article: Article\\n    var body: some View {\\n        HStack {\\n            Image(article.imageName)\\n                .resizable()\\n                .aspectRatio(contentMode: .fit)\\n                .frame(width: 150, height: 100)\\n                .clipShape(Ellipse())\\n            VStack {\\n                Text(article.title)\\n                    .font(.title)\\n                Text(article.description)\\n                    .padding()\\n            }\\n        }\\n    }\\n}\\n```\\n\\n5. preview\u4e2d\u4f20\u5165\u6211\u4eec\u7684demo\u6570\u636e\\n```swift\\nstruct ArticleView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        ArticleView(article: sampleArticle1)\\n    }\\n}\\n```\\n\\n\u9884\u89c8\u5c31\u5f97\u5230\uff1a\\n\\n![image-20211230113015389](https://tva1.sinaimg.cn/large/008i3skNgy1gxvp9j8h0nj30pg0ao3z3.jpg)\\n\\n6. \u6362\u4e2a\u9884\u89c8\u6570\u636e\\n```swift\\nstruct ArticleView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        ArticleView(article: sampleArticle2)\\n    }\\n}\\n```\\n\\n![image-20211230113119106](https://tva1.sinaimg.cn/large/008i3skNgy1gxvpan0fcij30oi0bu3z6.jpg)\\n\\n7. \u597d\u4e86\uff0c\u6211\u4eec\u5c06ArticleView\u6dfb\u52a0\u5230ContentView\u4e2d\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n        ArticleView(article: sampleArticle1)\\n    }\\n}\\n```\\n\\n8. \u5728ContentView_Previews\u6dfb\u52a0\u4e2aGroup\u540c\u65f6\u9884\u89c8\u591a\u4e2aView\\n```swift\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        Group {\\n            ContentView()\\n            ContentView().environment(\\\\.dynamicTypeSize, .xSmall)\\n        }\\n    }\\n}\\n```\\n\\n9. \u73b0\u5728\u6211\u4eec\u663e\u793a\u4e862\u4e2adevice\uff0c\u4e0d\u8fc7\u90fd\u662f\u5168\u5c4f\uff0c\u6211\u4eec\u8981\u67e5\u770b\u5168\u90e8\u7684\u8bdd\uff0c\u9700\u8981\u6eda\u52a8\u5f88\u957f\uff0c\u6211\u4eec\u5e0c\u671b\u53ea\u5305\u542bView\u90a3\u4e48\u5927\\n```swift\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        Group {\\n            ContentView()\\n            ContentView().environment(\\\\.dynamicTypeSize, .xSmall)\\n        }.previewLayout(.sizeThatFits)\\n    }\\n}\\n```\\n\\n10. \u6700\u540e\u6211\u4eec\u518d\u6dfb\u52a0\u4e00\u4e2aContentView\\n```swift\\nContentView().environment(\\\\.dynamicTypeSize, .accessibility5)\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\\n\\n![image-20211230181829540](https://tva1.sinaimg.cn/large/008i3skNgy1gxw12ct3bbj30gc0zk0uf.jpg)\\n\\n## How it works\\n\\n\u6211\u4eec\u901a\u8fc7Group\u53ef\u4ee5\u540c\u65f6\u9884\u89c8\u591a\u4e2a\u8bbe\u5907\u3002\\n\\n\u6211\u4eec\u901a\u8fc7 **.environment()**\u7684**dynamicTypeSize** \u8bbe\u7f6e\u4e0d\u540c\u7684\u503c\u6765\u9884\u89c8\u4e0d\u540cdynamicTypeSize\u4e0b\u7684\u60c5\u51b5\u3002\\n\\n\u6211\u4eec\u540c\u65f6\u9884\u89c8\u591a\u4e2a\u8bbe\u5907\u65f6\uff0c\u4ed6\u4eec\u90fd\u662f\u5168\u5c4f\uff0c\u6211\u4eec\u9700\u8981\u6eda\u52a8\u624d\u80fd\u67e5\u770b\u5168\u90e8\uff0c\u6d6a\u8d39\u65f6\u95f4\u3002\u6211\u4eec\u901a\u8fc7**.previewLayout(.sizeThatFits)**\u89e3\u51b3\uff0c\u8fd9\u6837\u6bcf\u4e2a\u9884\u89c8\u90fd\u53ea\u6709\u81ea\u8eab\u5927\u5c0f\u3002\\n\\n## \u5173\u4e8eDynamic Type Sizes\\n\\n\u53ef\u67e5\u770b[\u5b98\u65b9\u6587\u6863](https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/typography/#dynamic-type-sizes)\\n\\n\u8fd9\u4e2a7\u4e2a\u503c\u5206\u522b\u5bf9\u5e94iphone\u624b\u673a\u4e0a\u7684\uff1a\u8bbe\u7f6e-\u300b\u8f85\u52a9\u529f\u80fd-\u300b\u663e\u793a\u4e0e\u6587\u5b57\u5927\u5c0f-\u300b\u66f4\u5927\u5b57\u4f53\u4e2d\u76847\u4e2a\u5b57\u4f53\u5927\u5c0f\u3002\\n\\n![image-20211230183251548](https://tva1.sinaimg.cn/large/008i3skNgy1gxw1h95t51j31590u0dhy.jpg)\\n\\n\u9664\u4e86\u8fd97\u4e2a\u503c\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6eaccessbility\u76845\u4e2a\u503c\\n\\n![image-20211230183453468](https://tva1.sinaimg.cn/large/008i3skNgy1gxw1jd5fu1j314s0u0q4u.jpg)"},{"id":"/2021/11/30/SwiftUI\u4e13\u8f91-027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f","metadata":{"permalink":"/2021/11/30/SwiftUI\u4e13\u8f91-027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-30-SwiftUI\u4e13\u8f91-027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f/index.md","source":"@site/blog/2021-11-30-SwiftUI\u4e13\u8f91-027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f/index.md","title":"SwiftUI\u4e13\u8f91027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f","description":"headerimg","date":"2021-11-30T00:00:00.000Z","formattedDate":"2021\u5e7411\u670830\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.935,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize","permalink":"/2021/12/01/SwiftUI\u4e13\u8f91-028-\u9884\u89c8\u52a8\u6001\u5b57\u4f53dynamicTypeSize"},"nextItem":{"title":"SwiftUI\u4e13\u8f91026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9","permalink":"/2021/11/29/SwiftUI\u4e13\u8f91-026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9"}},"content":"![headerimg](./Header.png)\\nSwiftUI\u5185\u7f6e\u652f\u6301\u9ed1\u6697\u6a21\u5f0f\u3002\u4f60\u53ea\u9700\u8981\u4fee\u6539\u9884\u89c8\u7684\u8bbe\u7f6e\uff0c\u5c31\u80fd\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f\u3002\\n\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6f14\u793a\u4e00\u4e0b\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u521b\u5efa\u4e2a\u65b0\u7684SwiftUI\u5de5\u7a0b\uff1a**DarkModePreview**\\n\\n## How to do it\\n\\n\u81ea\u4ece SwiftUI \u51fa\u73b0\u4ee5\u6765\uff0c\u9884\u89c8\u5c31\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u60a8\u65e0\u6cd5\u5728\u9ed1\u6697\u6a21\u5f0f\u4e0b\u9884\u89c8\u4efb\u4f55\u89c6\u56fe\uff0c\u9664\u975e\u89c6\u56fe\u5305\u542b\u5728**NavigationView \u4e2d**\u3002\u8fd9\u662f\u4e00\u4e2a\u529f\u80fd\u8fd8\u662f\u4e00\u4e2a\u9519\u8bef\uff1f\u5e0c\u671b\u6211\u4eec\u80fd\u5728\u4e0b\u4e00\u7248 SwiftUI \u4e2d\u5f97\u5230\u7b54\u6848\u3002\\n\\n\u6211\u4eec\u5c06\u5728**NavigationView \u4e2d**\u5305\u542b\u4e00\u4e2a**Text**\uff0c\u5e76\u5728light\u548cdark\u6a21\u5f0f\u4e0b\u9884\u89c8\u5b83\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a\\n\\n1. \u6253\u5f00ContentView.swift\\n2. \u6dfb\u52a0\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\\n```swift\\n@Environment(\\\\.colorScheme) var deviceColorScheme\\n```\\n\\n3. \u6dfb\u52a0\u4e00\u4e2aNavigationView\\n```swift\\nNavigationView {\\n    Text(deviceColorScheme == .dark ? \\"Quick journey to the dark side\\" : \\"Back to the light\\")\\n}\\n\\n```\\n\\n4. \u5728**Content_Previews**\u4e2d\u6dfb\u52a0\u4e00\u4e2a**colorScheme**\\n```swift\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        Group {\\n            ContentView().colorScheme(.dark)\\n            ContentView().colorScheme(.light)\\n        }\\n    }\\n}\\n```\\n\\n\u6b64\u65f6\u80fd\u591f\u5728preview\u4e2d\u67e5\u770b\u5230\uff1a\\n\\n![\u622a\u5c4f2021-12-29 \u4e0b\u534811.19.13](https://tva1.sinaimg.cn/large/008i3skNly1gxv451pn3bj30dm0qqdg3.jpg)\\n\\n![image-20211229231931515](https://tva1.sinaimg.cn/large/008i3skNly1gxv4592ayej30dg0qwt93.jpg)\\n\\n## How it works\\n\\n\u5728\u9ed1\u6697\u6a21\u5f0f\u4e0b\u9884\u89c8\u5185\u5bb9\u7684\u8fc7\u7a0b\u662f\u4e0d\u8a00\u81ea\u660e\u7684\u3002\u9884\u89c8\u663e\u793a\u6765\u81ea**ContentView**\u89c6\u56fe\u7684\u5185\u5bb9\u3002\u5982\u679c\u672a\u5411\u9884\u89c8\u63d0\u4f9b\u914d\u8272\u65b9\u6848\uff0c\u5219\u4f7f\u7528**.light**\u4f5c\u4e3a\u9ed8\u8ba4\u914d\u8272\u65b9\u6848\u3002\\n\\n\u4e3a\u4e86\u5728\u660e\u6697\u6a21\u5f0f\u4e0b\u663e\u793a\u4e0d\u540c\u7684\u6587\u672c\uff0c\u6211\u4eec\u6dfb\u52a0\u4e86\u4e00\u4e2a**deviceColorScheme**\u73af\u5883\u53d8\u91cf\u3002\u7136\u540e\uff0c\u6211\u4eec\u5728**Text**\u89c6\u56fe\u4e2d\u4f7f\u7528\u4e09\u5143\u8fd0\u7b97\u7b26\u5c06\u5176\u503c\u66f4\u6539**\u4e3a\u5728**\u68c0\u6d4b\u5230\u6df1\u8272\u65b9\u6848\u65f6\u663e\u793a**Quick journey to the dark side**\uff0c\u5e76\u5728\u68c0\u6d4b\u5230\u6d45\u8272\u65b9\u6848\u65f6 **Back to the light**\u3002"},{"id":"/2021/11/29/SwiftUI\u4e13\u8f91-026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9","metadata":{"permalink":"/2021/11/29/SwiftUI\u4e13\u8f91-026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-29-SwiftUI\u4e13\u8f91-026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9/index.md","source":"@site/blog/2021-11-29-SwiftUI\u4e13\u8f91-026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9/index.md","title":"SwiftUI\u4e13\u8f91026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9","description":"headerimg","date":"2021-11-29T00:00:00.000Z","formattedDate":"2021\u5e7411\u670829\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.1,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f","permalink":"/2021/11/30/SwiftUI\u4e13\u8f91-027-\u9884\u89c8\u9ed1\u6697\u6a21\u5f0f"},"nextItem":{"title":"SwiftUI\u4e13\u8f91025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868","permalink":"/2021/11/28/SwiftUI\u4e13\u8f91-025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868"}},"content":"![headerimg](./Header.png)\\n**DisclosureGroup**\u6839\u636edisclosure control\u72b6\u6001\u6765\u63a7\u5236\u663e\u793a\u548c\u9690\u85cf\u7684\u4e00\u4e2a\u89c6\u56fe\u3002\\n\\n\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff1a\u6807\u8bc6\u5176content\u7684**label**\uff0c \u4ee5\u53ca\u63a7\u5236content\u662f\u53ef\u89c1\u8fd8\u662f\u9690\u85cf\u7684**binding**\u3002\\n\\n\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u4f8b\u5b50\u6765\u4ed4\u7ec6\u770b\u770b\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u5de5\u7a0b**DisclosureGroups**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2aState\\n```swift\\n@State private var showplanets = true\\n```\\n\\n2. \u4fee\u6539\u9ed8\u8ba4\u7684Text\u4e3a **List** \u548c **DisclosureGroup**\\n```swift\\nList {\\n    DisclosureGroup(\\"Planets\\", isExpanded: $showplanets) {\\n        Text(\\"Mercury\\")\\n        Text(\\"Venus\\")\\n    }\\n}\\n```\\n\\n3. \u518d\u5d4c\u5957\u4e00\u4e2a\\n```swift\\nvar body: some View {\\n        List {\\n            DisclosureGroup(\\"Planets\\", isExpanded: $showplanets) {\\n                Text(\\"Mercury\\")\\n                Text(\\"Venus\\")\\n                DisclosureGroup(\\"Earth\\") {\\n                    Text(\\"North America\\")\\n                    Text(\\"South America\\")\\n                    Text(\\"Europe\\")\\n                    Text(\\"Africa\\")\\n                    Text(\\"Asia\\")\\n                    Text(\\"Antarctica\\")\\n                    Text(\\"Oceania\\")\\n                }\\n            }\\n        }\\n    }\\n```\\n\\n\u8fd0\u884c\uff0c\u6700\u7ec8\u7ed3\u679c\\n\\n![Simulator Screen Shot - iPhone 12 - 2021-12-29 at 00.18.08](https://tva1.sinaimg.cn/large/008i3skNly1gxu08q6c3ij309q0l174f.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u901a\u8fc7showplanets \u63a7\u5236**DisclosureGroup** content\u7684\u663e\u793a\u548c\u9690\u85cf\u3002\\n\\n**DisclosureGroup** \u662f\u80fd\u591f\u5d4c\u5957\u7684\uff0c\u7528\u4e8e\u663e\u793a\u591a\u4e2a\u5c42\u7ea7\u3002\\n\\nDisclosureGroup\u4e5f\u80fd\u8131\u79bbList\u5355\u72ec\u4f7f\u7528\u3002"},{"id":"/2021/11/28/SwiftUI\u4e13\u8f91-025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868","metadata":{"permalink":"/2021/11/28/SwiftUI\u4e13\u8f91-025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-28-SwiftUI\u4e13\u8f91-025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868/index.md","source":"@site/blog/2021-11-28-SwiftUI\u4e13\u8f91-025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868/index.md","title":"SwiftUI\u4e13\u8f91025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868","description":"headerimg","date":"2021-11-28T00:00:00.000Z","formattedDate":"2021\u5e7411\u670828\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.25,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9","permalink":"/2021/11/29/SwiftUI\u4e13\u8f91-026-\u7528DisclosureGroup\u663e\u793a\u9690\u85cf\u5185\u5bb9"},"nextItem":{"title":"SwiftUI\u4e13\u8f91024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8","permalink":"/2021/11/27/SwiftUI\u4e13\u8f91-024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8"}},"content":"![headerimg](./Header.png)\\n\u6211\u4eec\u53ef\u4ee5\u7528\u5c55\u5f00\u6536\u8d77\u7684\u5217\u8868\u6765\u5c55\u793a\u5c42\u7ea7\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee\uff1a**ExpandingLists**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u5b9a\u4e49\u4e00\u4e2a\u591a\u5c42\u6570\u636e\u7ed3\u6784\\n```swift\\nstruct Backpack: Identifiable {\\n    let id = UUID()\\n    let name: String\\n    let icon: String\\n    var content: [Backpack]?\\n}\\n```\\n\\n2. \u51c6\u5907\u6570\u636e\\n```swift\\nlet dollar = Backpack(name: \\"Dollar\\", icon: \\"dollarsign.circle\\")\\nlet yen = Backpack(name: \\"Yen\\",icon: \\"yensign.circle\\")\\nlet currencies = Backpack(name: \\"Currencies\\", icon: \\"coloncurrencysign.circle\\", content: [dollar, yen])\\n\\nlet pencil = Backpack(name: \\"Pencil\\",icon: \\"pencil.circle\\")\\nlet hammer = Backpack(name: \\"Hammer\\",icon: \\"hammer\\")\\nlet paperClip = Backpack(name: \\"Paperclip\\",icon: \\"paperclip\\")\\nlet glass = Backpack(name: \\"Magnifying glass\\", icon: \\"magnifyingglass\\")\\nlet bin  = Backpack(name: \\"Bin\\", icon: \\"arrow.up.bin\\", content: [paperClip, glass])\\nlet tools = Backpack(name: \\"Tools\\", icon: \\"folder\\", content: [pencil, hammer,bin])\\n```\\n\\n3. \u5728contentView\u4e2d\u5b9a\u4e49\u6570\u636e\\n```swift\\nstruct ContentView: View {\\n    let bagContents = [currencies,tools]\\n}\\n```\\n\\n4. \u663e\u793a\u6570\u636e\\n```swift\\nvar body: some View {\\n    List(bagContents, children: \\\\.content){ row in\\n        Image(systemName: row.icon)\\n        Text(row.name)\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c:\\n\\n![Simulator Screen Shot - iPhone 12 - 2021-12-28 at 23.57.21](https://tva1.sinaimg.cn/large/008i3skNgy1gxtzpns2luj309q0l1t8v.jpg)\\n\\n## How it works\u2026\\n\\n\u9996\u5148\u6211\u4eec\u5b9a\u4e49\u4e86**Backpack**\uff0c\u62e5\u6709\u5d4c\u5957\u7ed3\u6784\uff0c\u80fd\u8868\u793a\u591a\u4e2a\u5c42\u7ea7\u3002\\n\\n\u6211\u4eec\u663e\u793aList\u65f6\uff0c\u6307\u5b9achildren\u4e3acontent\u5b57\u6bb5\u3002\\n\\n```swift\\nList(bagContents, children: \\\\.content){ row in\\n    Image(systemName: row.icon)\\n    Text(row.name)\\n}\\n```"},{"id":"/2021/11/27/SwiftUI\u4e13\u8f91-024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8","metadata":{"permalink":"/2021/11/27/SwiftUI\u4e13\u8f91-024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-27-SwiftUI\u4e13\u8f91-024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8/index.md","source":"@site/blog/2021-11-27-SwiftUI\u4e13\u8f91-024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8/index.md","title":"SwiftUI\u4e13\u8f91024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8","description":"headerimg","date":"2021-11-27T00:00:00.000Z","formattedDate":"2021\u5e7411\u670827\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.52,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868","permalink":"/2021/11/28/SwiftUI\u4e13\u8f91-025-\u7528List\u663e\u793a\u591a\u5c42\u7ea7\u5217\u8868"},"nextItem":{"title":"SwiftUI\u4e13\u8f91023-LazyHGrid\u548cLazyVGrid","permalink":"/2021/11/26/SwiftUI\u4e13\u8f91-023-LazyHGrid\u548cLazyVGrid"}},"content":"![headerimg](./Header.png)\\n**ScrollViewReader**\u5141\u8bb8\u4f60\u901a\u8fc7\u4ee3\u7801\u63a7\u5236\u6eda\u52a8\u5230\u67d0\u4e2aIndex\u5904\uff0c\u8fd9\u4e2aIndex\u751a\u81f3\u53ef\u80fd\u5728\u5f53\u524d\u5c4f\u5e55\u4e2d\u5e76\u4e0d\u53ef\u89c1\u3002\\n\\n\u6bd4\u5982\uff1a\u81ea\u52a8\u6eda\u52a8\u5230\u65b0\u6dfb\u52a0\u7684item\uff0c\u81ea\u52a8\u6eda\u52a8\u5230\u6700\u8fd1\u66f4\u65b0\u7684item\u7b49\u7b49\u3002\\n\\n\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u663e\u793a\u4ece A \u5230 Q \u7684\u5b57\u7b26\u5217\u8868\u3002\u5c4f\u5e55\u9876\u90e8\u7684\u6309\u94ae\u5c06\u5728\u5355\u51fb\u65f6\u4ee5\u7f16\u7a0b\u65b9\u5f0f\u4ece\u5217\u8868\u9876\u90e8\u6eda\u52a8\u5230\u5217\u8868\u672b\u5c3e\u3002\u5c4f\u5e55\u5e95\u90e8\u7684\u53e6\u4e00\u4e2a\u6309\u94ae\u5c06\u5141\u8bb8\u6211\u4eec\u4ece\u5e95\u90e8\u5411\u4e0a\u6eda\u52a8\u5230\u5217\u8868\u4e2d\u95f4\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u65b0\u5efa\u4e00\u4e2aswiftui\u9879\u76ee**ScrollViewReaders**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff1aCharacterInfo\\n```swift\\nstruct CharacterInfo: Identifiable {\\n    var name: String\\n    var id: Int\\n}\\n```\\n\\n2. \u51c6\u5907\u6570\u636e\\n```swift\\n let charArray = [\\n    CharacterInfo(name: \\"a.circle.fill\\", id: 0),\\n    CharacterInfo(name: \\"b.circle.fill\\", id: 1),\\n    CharacterInfo(name: \\"c.circle.fill\\", id: 2),\\n    CharacterInfo(name: \\"d.circle.fill\\", id: 3),\\n    CharacterInfo(name: \\"e.circle.fill\\", id: 4),\\n    CharacterInfo(name: \\"f.circle.fill\\", id: 5),\\n    CharacterInfo(name: \\"g.circle.fill\\", id: 6),\\n    CharacterInfo(name: \\"h.circle.fill\\", id: 7),\\n    CharacterInfo(name: \\"i.circle.fill\\", id: 8),\\n    CharacterInfo(name: \\"j.circle.fill\\", id: 9),\\n    CharacterInfo(name: \\"k.circle.fill\\", id: 10),\\n    CharacterInfo(name: \\"l.circle.fill\\", id: 11),\\n    CharacterInfo(name: \\"m.circle.fill\\", id: 12),\\n    CharacterInfo(name: \\"n.circle.fill\\", id: 13),\\n    CharacterInfo(name: \\"o.circle.fill\\", id: 14),\\n    CharacterInfo(name: \\"p.circle.fill\\", id: 15),\\n    CharacterInfo(name: \\"q.circle.fill\\", id: 16),\\n]\\n```\\n\\n3. \u66ff\u6362\u9ed8\u8ba4\u7684Text\u4e3aScrollview\u548cScrollViewReader\\n```swift\\nvar body: some View {\\n    ScrollView {\\n        ScrollViewReader { value in\\n            Button(\\"go to q\\") {\\n                value.scrollTo(16)\\n            }.padding().background(Color.yellow)\\n        }\\n    }\\n}\\n```\\n\\n4. \u5c06\u5217\u8868\u52a0\u8fdb\u53bb\\n```swift\\nvar body: some View {\\n    ScrollView {\\n        ScrollViewReader { value in\\n            Button(\\"go to q\\") {\\n                value.scrollTo(16)\\n            }.padding().background(Color.yellow)\\n            ForEach(charArray) { image in\\n                Image(systemName: image.name)\\n                    .id(image.id)\\n                    .font(.largeTitle)\\n                    .foregroundColor(Color.yellow)\\n                    .frame(width: 90, height: 90)\\n                    .background(Color.blue)\\n                    .padding()\\n            }\\n        }\\n    }\\n}\\n```\\n\\n5. \u518d\u52a0\u4e2a\u6309\u94ae\uff0c\u6eda\u52a8\u5230G\\n```swift\\n\\nvar body: some View {\\n    ScrollView {\\n        ScrollViewReader { value in\\n            ....\\n            Button(\\"Go to G\\") { \\n    \\t\\t\\t\\t\\tvalue.scrollTo(6, anchor: .bottom)\\n\\t\\t\\t\\t\\t\\t}.padding().background(Color.yellow)            \\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\\n\\n![20211228183732](https://tva1.sinaimg.cn/large/008i3skNgy1gxtqebas96j309j0jh3yt.jpg)\\n\\n## How it works\u2026\\n\\n **CharacterInfo** \u9075\u5faa**Identifiable** \u534f\u8bae\uff0c\u5305\u542b2\u4e2a\u5c5e\u6027  **name** \u548c **id**\u3002 **id** \u662f\u5fc5\u987b\u7684\uff0c**ScrollViewReader** \u7528\u8fd9\u4e2a\u6765\u5b9a\u4f4d\u6bcf\u4e2aitem\u3002\u5c31\u884c\u4f60\u7684\u623f\u95f4\u53f7\u4e00\u6837\uff0cScrollView\u77e5\u9053\u8be5\u5f80\u4ec0\u4e48\u5730\u65b9\u6eda\u52a8\u3002\\n\\n\u6211\u4eec\u5c06ScrollViewReader\u5d4c\u5957\u5728ScrollView\u4e2d\uff0c\u8fd9\u6837\u5c31\u80fd\u591f\u4f7f\u7528**scrollTo()** \u65b9\u6cd5\u3002\\n\\n **scrollTo()** \u65b9\u6cd5\u6709\u4e2a **anchor** \u53c2\u6570\uff0c\u7528\u6765\u6307\u5b9a\u6211\u4eec\u60f3\u6eda\u52a8\u5230\u7684\u4f4d\u7f6e\uff0c \u4ed6\u662f\u67d0\u4e2aitem\u7684id \u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7528\u6765\u6307\u5b9aItem\u6eda\u52a8\u5230\u9876\u90e8\u3001\u5e95\u90e8\u3001\u8fd8\u662f\u4e2d\u5fc3\u7b49\u3002"},{"id":"/2021/11/26/SwiftUI\u4e13\u8f91-023-LazyHGrid\u548cLazyVGrid","metadata":{"permalink":"/2021/11/26/SwiftUI\u4e13\u8f91-023-LazyHGrid\u548cLazyVGrid","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-26-SwiftUI\u4e13\u8f91-023-LazyHGrid\u548cLazyVGrid/index.md","source":"@site/blog/2021-11-26-SwiftUI\u4e13\u8f91-023-LazyHGrid\u548cLazyVGrid/index.md","title":"SwiftUI\u4e13\u8f91023-LazyHGrid\u548cLazyVGrid","description":"headerimg","date":"2021-11-26T00:00:00.000Z","formattedDate":"2021\u5e7411\u670826\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91023-LazyHGrid\u548cLazyVGrid","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8","permalink":"/2021/11/27/SwiftUI\u4e13\u8f91-024-\u7528ScrollViewReader\u63a7\u5236\u6eda\u52a8"},"nextItem":{"title":"SwiftUI\u4e13\u8f91022-\u4f7f\u7528LazyHStack\u548cLazyVStack","permalink":"/2021/11/25/SwiftUI\u4e13\u8f91-022-\u4f7f\u7528LazyHStack\u548cLazyVStack"}},"content":"![headerimg](./Header.png)\\n\u548cLazy stack\u4e00\u6837\uff0clazy grid\u4e5f\u4f7f\u7528lazy loading\u6765\u663e\u793a\u4e00\u7cfb\u5217\u7684items\u3002items\u53ea\u4f1a\u5728\u5373\u5c06\u51fa\u73b0\u5728\u5c4f\u5e55\u4e0a\u65f6\u624d\u4f1a\u521d\u59cb\u5316\u3002\\n\\n\u4ece\u4e0a\u5230\u4e0b\u7684\u4f7f\u7528LazyVGrid\uff0c \u4ece\u5de6\u5230\u53f3\u7684\u4f7f\u7528LazyHGrid\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u65b0\u9879\u76ee**LazyGrids**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u5728ContentView\u4e2d\u521b\u5efaLazyVGrid\u7684\u5e03\u5c40\u4fe1\u606f\uff0c **GridItem**\u7528\u6765\u5e2e\u52a9\u914d\u7f6elazy grid\u7684\u5e03\u5c40\\n```swift\\nlet coulumSpe = [GridItem(.adaptive(minimum: 100))]\\n```\\n\\n2. \u521b\u5efaLazyHGrid\u7684\u5e03\u5c40\u4fe1\u606f\\n\\n```swift\\nlet rowSpec = [GridItem(.flexible()),\\n                   GridItem(.flexible()),\\n                   GridItem(.flexible())]\\n```\\n\\n3. \u51c6\u5907\u4e2a\u989c\u8272\u6570\u7ec4\uff0c\u4e4b\u540e\u7528\u5728item\u4e0a\\n```swift\\nlet colors: [Color] = [.green, .red, .yellow, .blue]\\n```\\n\\n4. \u66ff\u6362\u539f\u6765\u7684Text\u4e3aVStack\uff0c ScrollView\uff0c**LazyVGrid**\\n```swift\\nVStack {\\n  ScrollView {\\n      LazyVGrid(columns: coulumSpe, spacing: 20) {\\n          ForEach(1 ... 999, id: \\\\.self) { index in\\n              Text(\\"Item \\\\(index)\\")\\n                  .padding(EdgeInsets(top: 30,leading: 15, bottom: 30, trailing: 15))\\n                  .background(colors[index % colors.count])\\n                  .clipShape(Circle())\\n                  .border(Color.red)\\n          }\\n      }\\n  }\\n}\\n```\\n\\n5. \u5728\u6765\u4e00\u4e2aScrollView\u663e\u793aLazyHGrid\uff0c\u6ce8\u610f\u8c03\u6574scrollview\u65b9\u5411\\n\\n```swift\\nScrollView(.horizontal) {\\n    LazyHGrid(rows: coulumSpe, spacing: 20) {\\n        ForEach(1 ... 999, id: \\\\.self) { index in\\n            Text(\\"Item \\\\(index)\\")\\n                .foregroundColor(.white)\\n              .padding(EdgeInsets(top: 30,leading: 15, bottom: 30, trailing: 15))\\n                .background(colors[index % colors.count])\\n                .clipShape(Capsule())\\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c:\\n\\n![20211228180104](https://tva1.sinaimg.cn/large/008i3skNgy1gxtpcxubenj309o0jjt9q.jpg)\\n\\n## How it works\u2026\\n\\n lazy grid\u6700\u57fa\u672c\u7684\u7528\u6cd5\u5c31\u662fScrollView\u4e2d\u5d4c\u5957**LazyVGrid** \u6216\u8005 **LazyHGrid**\\n\\n```swift\\nScrollView {\\n    LazyHGrid(columns: columnsSpec) {\\n        // Items to be displayed\\n    }\\n}\\n```\\n\\n\u5176\u4e2d\u6700\u91cd\u8981\u7684\u662f\u8981\u7406\u89e3\u5982\u4f55\u5b9a\u4e49\u884c\u548c\u5217\u3002\u6bd4\u5982\u4e0a\u9762\u7684\uff0c\u6211\u4eec\u7684**LazyVGrid**\u53ea\u5b9a\u4e49\u4e86\u5305\u542b\u4e00\u4e2a**GridItem**\u7684\u6570\u7ec4\uff0c\u4f46\u662f\u5374\u663e\u793a\u4e863\u5217\u3002\u8fd9\u662f\u600e\u4e48\u56de\u4e8b\uff1f\u539f\u56e0\u5728\u4e8e**GridItem**\u662f\u5982\u4f55\u5b9a\u4e49\u7684\u3002\u6211\u4eec\u5b9a\u4e49**GridItem(.adaptive(minimum: 100))**\uff0c\u5c31\u662f\u544a\u8bc9SwiftUI\u6bcf\u4e2aitem\u81f3\u5c11100\u5bbd\uff0c\u7136\u540e\u4e00\u884c\u5c3d\u53ef\u80fd\u591a\u7684\u653e\u7f6eItem\uff0c\u56e0\u6b64\u6bcf\u4e00\u884c\u7684\u4e2a\u6570\u53ef\u80fd\u5728\u6a2a\u5c4f\u548c\u7ad6\u5c4f\u4e0b\u4e0d\u4e00\u6837\u3002\\n\\n\u5982\u679c\u4f60\u60f3\u6307\u5b9a\u6bcf\u4e00\u884c\u7684\u4e2a\u6570\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 **GridItem(.flexible())**\u3002\u5c31\u50cf\u6211\u4eec\u4e0a\u9762\u5b9a\u4e49\u7684\\n\\n```swift\\nlet rowSpec = [\\n    GridItem(.flexible()),\\n    GridItem(.flexible()),\\n    GridItem(.flexible())\\n]\\n```\\n\\n\u6dfb\u52a03\u4e2aflexible\u7684GridItem\u4f1a\u5c06\u53ef\u7528 \u7a7a\u95f43\u7b49\u5206\u3002\u7136\u540e\u7528\u90a3\u6bb5\u7a7a\u95f4\u663e\u793a\uff0c\u5982\u679c\u7a7a\u95f4\u7528\u4e0d\u5b8c\uff0c\u90a3\u4e48\u5c31\u662f\u7a7a\u767d\u3002\\n\\n## Api\u8be6\u60c5\\n\\n### LazyVGrid\\n\\n```swift\\n//\u6ce8\u610f\u6709\u4e2apinnedViews\uff0c\u548cLazyVStack\u4e00\u6837\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u76f4\u60ac\u6d6e\u7684header/footer\\ninit(columns: [GridItem], alignment: HorizontalAlignment = .center, spacing: CGFloat? = nil, pinnedViews: PinnedScrollableViews = .init(), content: () -> Content)\\n```\\n\\n```swift\\nLazyVGrid(columns: coulumSpe, spacing: 20, pinnedViews: .sectionHeaders) {\\n    Section(header: Text(\\"this is section header\\")) {\\n        ForEach(1 ... 999, id: \\\\.self) { index in\\n            Text(\\"Item \\\\(index)\\")\\n                .padding(EdgeInsets(top: 30,leading: 15, bottom: 30, trailing: 15))\\n                .background(colors[index % colors.count])\\n                .clipShape(Circle())\\n                .border(Color.red)\\n        }\\n    }\\n}\\n```\\n\\n![image-20211228181716473](https://tva1.sinaimg.cn/large/008i3skNgy1gxtpsgjzngj30hg0j4abp.jpg)\\n\\n\\n\\n### LazyHGrid\\n\\n```swift\\n//\u6ce8\u610f\u6709\u4e2apinnedViews\uff0c\u548cLazyVStack\u4e00\u6837\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u76f4\u60ac\u6d6e\u7684header/footer\\ninit(rows: [GridItem], alignment: VerticalAlignment = .center, spacing: CGFloat? = nil, pinnedViews: PinnedScrollableViews = .init(), content: () -> Content)\\n```"},{"id":"/2021/11/25/SwiftUI\u4e13\u8f91-022-\u4f7f\u7528LazyHStack\u548cLazyVStack","metadata":{"permalink":"/2021/11/25/SwiftUI\u4e13\u8f91-022-\u4f7f\u7528LazyHStack\u548cLazyVStack","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-25-SwiftUI\u4e13\u8f91-022-\u4f7f\u7528LazyHStack\u548cLazyVStack/index.md","source":"@site/blog/2021-11-25-SwiftUI\u4e13\u8f91-022-\u4f7f\u7528LazyHStack\u548cLazyVStack/index.md","title":"SwiftUI\u4e13\u8f91022-\u4f7f\u7528LazyHStack\u548cLazyVStack","description":"headerimg","date":"2021-11-25T00:00:00.000Z","formattedDate":"2021\u5e7411\u670825\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.42,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91022-\u4f7f\u7528LazyHStack\u548cLazyVStack","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91023-LazyHGrid\u548cLazyVGrid","permalink":"/2021/11/26/SwiftUI\u4e13\u8f91-023-LazyHGrid\u548cLazyVGrid"},"nextItem":{"title":"SwiftUI\u4e13\u8f91021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868","permalink":"/2021/11/24/SwiftUI\u4e13\u8f91-021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868"}},"content":"![headerimg](./Header.png)\\nSwiftUI 2.0 \u5f15\u5165\u4e86**LazyHStack**\u548c**LazyVStack**\u3002\u5b83\u4eec\u7684\u4f7f\u7528\u7c7b\u4f3c\u4e8e\u5e38\u89c4\u7684**HStack**\u548c**VStack**\uff0c\u4f46\u63d0\u4f9b\u4e86\u5ef6\u8fdf\u52a0\u8f7d\u3002\u4ec5\u5728content\u5728\u8bbe\u5907\u7684\u5c4f\u5e55\u4e0a\u53d8\u5f97\u53ef\u89c1\u524d\uff0cList\u624d\u5f00\u59cb\u52a0\u8f7dcontent\uff0c\u5141\u8bb8\u7528\u6237\u65e0\u7f1d\u5730\u6eda\u52a8\u6d4f\u89c8\u5927\u578b\u6570\u636e\u96c6\uff0c\u6ca1\u6709\u660e\u663e\u7684 UI \u5ef6\u8fdf\u6216\u8f83\u957f\u7684\u52a0\u8f7d\u65f6\u95f4\u3002\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2ademo\u6765\u770b\u770b\u5b83\u5728\u5b9e\u8df5\u4e2d\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2aSwiftui\u5de5\u7a0b\uff1a**LazyStacks**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u6211\u4eec\u521b\u5efa\u4e00\u4e2aCell\uff1aListRow\uff0c\u4ed6\u4f1a\u5728\u521d\u59cb\u5316\u65f6\u6253\u5370\u4e00\u4e9b\u4fe1\u606f\\n```swift\\nstruct ListRow: View {\\n    let id: Int\\n    let type: String\\n    init(id: Int, type: String){\\n        print(\\"Loading \\\\(type) item \\\\(id)\\")\\n        self.id = id\\n        self.type = type\\n    }\\n\\n    var body: some View {\\n        Text(\\"\\\\(type) \\\\(id)\\").padding()\\n    }\\n}\\n```\\n\\n2. \u6dfb\u52a0VStack\uff0c ScrollView\uff0c LazyHStack\\n\\n```swift\\nvar body: some View {\\n    VStack {\\n        ScrollView(.horizontal) {\\n            LazyHStack {\\n                ForEach(1 ... 10000, id: \\\\.self) { item in\\n                    ListRow(id: item, type:\\"Horizontal\\")\\n                }\\n            }\\n        }.frame(height: 100, alignment: .center)\\n    }\\n}\\n```\\n\\n3. \u518d\u6dfb\u52a0\u4e00\u4e2aScrollView\uff0c LazyVStack\\n```swift\\nScrollView {\\n    LazyVStack {\\n        ForEach(1 ... 10000, id: \\\\.self) { item in\\n            ListRow(id: item, type: \\"Vertical\\")\\n        }\\n    }.border(Color.blue)\\n}\\n```\\n\\n\u8fd0\u884c\\n\\n![20211228124742](https://tva1.sinaimg.cn/large/008i3skNgy1gxtga3v1pej30a30jq0t7.jpg)\\n\\n\u5f53\u6211\u4eec\u6eda\u52a8\u65f6\uff0c\u80fd\u5728\u63a7\u5236\u53f0\u770b\u5230\u5bf9\u5e94\u7684\u521d\u59cb\u5316\u4fe1\u606f\u3002\\n\\n## How it works\u2026\\n\\n\u6b63\u5982\u6211\u4eec\u5728\u672c\u8282\u7684\u4ecb\u7ecd\u4e2d\u63d0\u5230\u7684\uff0c**LazyHStack**\u548c**LazyVStack**\u89c6\u56fe\u76f8\u5bf9\u4e8e\u5e38\u89c4**HStack**\u548c**VStack**\u89c6\u56fe\u7684\u4e3b\u8981\u4f18\u70b9\u662f\u524d\u8005\u5728\u663e\u793aitem\u4e4b\u524d\u624d\u52a0\u8f7d\u5b83\u4eec\uff0c\u800c\u540e\u8005\u5728\u8fd0\u884c\u65f6\u4e00\u6b21\u52a0\u8f7d\u6240\u6709item\u3002\\n\\n\u6211\u4eec\u5728\u6eda\u52a8\u65f6\uff0c\u770b\u5230\u63a7\u5236\u53f0\u663e\u793a\u521d\u59cb\u5316log\uff0c\u8fd9\u662f\u5ef6\u8fdf\u52a0\u8f7d\u3002\u53ea\u6709\u5373\u5c06\u663e\u793a\u5728\u5c4f\u5e55\u4e0a\u7684item\u624d\u4f1a\u88ab\u521d\u59cb\u5316\u3002\\n\\n## Api\u8be6\u60c5\\n\\n### LazyHStack\\n\\n```swift\\n//\u6ce8\u610f\u6bd4\u666e\u901aStack\u591a\u4e86\u4e2apinnedViews\uff0c\u4f60\u53ef\u4ee5\u8bbe\u7f6esectionHeader\u6216\u8005sectionFooter\u60ac\u6d6e\u5728\u9876\u90e8/\u5e95\u90e8\\ninit(alignment: VerticalAlignment = .center, spacing: CGFloat? = nil, pinnedViews: PinnedScrollableViews = .init(), content: () -> Content)\\n```\\n\\n```swift\\nScrollView {\\n    LazyVStack(pinnedViews: .sectionHeaders) {\\n        Section(header: Text(\\"this is section header\\")) {\\n            ForEach(1 ... 10000, id: \\\\.self) { item in\\n                ListRow(id: item, type: \\"Vertical\\")\\n            }\\n        }\\n    }\\n}.border(Color.blue)\\n```\\n\\n![image-20211228130214194](https://tva1.sinaimg.cn/large/008i3skNgy1gxtgonw9q4j30is0hsdgd.jpg)\\n\\n\\n\\n### LazyVStack\\n\\n```swift\\n//\u7c7b\u4f3c\\ninit(alignment: HorizontalAlignment = .center, spacing: CGFloat? = nil, pinnedViews: PinnedScrollableViews = .init(), content: () -> Content)\\n```"},{"id":"/2021/11/24/SwiftUI\u4e13\u8f91-021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868","metadata":{"permalink":"/2021/11/24/SwiftUI\u4e13\u8f91-021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-24-SwiftUI\u4e13\u8f91-021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868/index.md","source":"@site/blog/2021-11-24-SwiftUI\u4e13\u8f91-021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868/index.md","title":"SwiftUI\u4e13\u8f91021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868","description":"headerimg","date":"2021-11-24T00:00:00.000Z","formattedDate":"2021\u5e7411\u670824\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.345,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91022-\u4f7f\u7528LazyHStack\u548cLazyVStack","permalink":"/2021/11/25/SwiftUI\u4e13\u8f91-022-\u4f7f\u7528LazyHStack\u548cLazyVStack"},"nextItem":{"title":"SwiftUI\u4e13\u8f91020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List","permalink":"/2021/11/23/SwiftUI\u4e13\u8f91-020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List"}},"content":"![headerimg](./Header.png)\\n**\u5217\u8868**\u89c6\u56fe\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u5230\u65e0\u6570\u4e2aitem\u3002\u968f\u7740\u5217\u8868\u4e2ditem\u6570\u7684\u589e\u52a0\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u63d0\u4f9b\u5728\u5217\u8868\u4e2d\u641c\u7d22\u7279\u5b9aitem\u7684\u80fd\u529b\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd**.searchable()**\u4fee\u9970\u7b26\u5e76\u8ba8\u8bba\u5982\u4f55\u4f7f\u7528\u5b83\u6765\u641c\u7d22\u5217\u8868\u4e2d\u7684item\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee**SearchableLists**\\n\\n## How to do it\u2026\\n\\n1. \u51c6\u5907\u6570\u636e\\n```swift\\n@State private var searchText = \\"\\"\\nlet messages = [\\n    \\"Dad, can you lend me money?\\",\\n    \\"Nada. Does money grow on trees?\\",\\n    \\"What is money made out of?\\",\\n    \\"Paper\\",\\n    \\"Where does paper come from?\\",\\n    \\"Huh.....\\",\\n]\\n```\\n\\n2. \u6dfb\u52a0NavigationView\u548cList\\n\\n```swift\\nvar body: some View {\\n    NavigationView {\\n        List {\\n          TextField(\\"search\\", text: $searchText)\\n            ForEach(searchResults, id: \\\\.self) { msg in\\n                Text(msg)\\n            }\\n        }.navigationBarTitle(\\"Order Number\\")\\n            .searchable(text: $searchText)\\n    }\\n}\\n```\\n\\n3. \u5b9e\u73b0searchResults\\n```swift\\nvar searchResults: [String] {\\n  if self.searchText.isEmpty {\\n      return self.messages\\n  } else {\\n      return self.messages.filter {\\n          $0.lowercased().contains(searchText.lowercased())\\n      }\\n  }\\n}\\n```\\n\\n\u8fd0\u884c\\n\\n![image-20211228111630217](https://tva1.sinaimg.cn/large/008i3skNgy1gxtdmnfnjvj30iw0qcq40.jpg)\\n\\n## How it works\u2026\\n\\n**searchText**\u4fdd\u5b58\u6b63\u5728\u641c\u7d22\u7684\u503c\u5e76\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9**.searchable**\u4fee\u9970\u7b26\u3002\u6bcf\u6b21**searchText**\u7684\u503c\u66f4\u6539\u65f6\uff0c\u90fd\u4f1a\u8ba1\u7b97\u8ba1\u7b97\u5c5e\u6027**searchResults**\u3002\u6700\u540e\uff0c\u5728**ForEach**\u7ed3\u6784\u4e2d\u4f7f\u7528**searchResults**\u7684\u503c\u6765\u663e\u793a\u57fa\u4e8e\u641c\u7d22\u6587\u672c\u7684\u8fc7\u6ee4\u9879\u76ee\u5217\u8868\u3002"},{"id":"/2021/11/23/SwiftUI\u4e13\u8f91-020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List","metadata":{"permalink":"/2021/11/23/SwiftUI\u4e13\u8f91-020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-23-SwiftUI\u4e13\u8f91-020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List/index.md","source":"@site/blog/2021-11-23-SwiftUI\u4e13\u8f91-020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List/index.md","title":"SwiftUI\u4e13\u8f91020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List","description":"headerimg","date":"2021-11-23T00:00:00.000Z","formattedDate":"2021\u5e7411\u670823\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.985,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868","permalink":"/2021/11/24/SwiftUI\u4e13\u8f91-021-\u4f7f\u7528\u53ef\u641c\u7d22\u5217\u8868"},"nextItem":{"title":"SwiftUI\u4e13\u8f91019-\u6dfb\u52a0sections\u5230List\u4e2d","permalink":"/2021/11/22/SwiftUI\u4e13\u8f91-019-\u6dfb\u52a0sections\u5230List\u4e2d"}},"content":"![headerimg](./Header.png)\\n\u5728 SwiftUI \u4e2d\u4e00\u76f4\u53ef\u4ee5\u7f16\u8f91\u5217\u8868\uff0c\u4f46\u5728 WWDC 2021 \u548c SwiftUI 3 \u4e4b\u524d\uff0c\u8fd9\u6837\u505a\u975e\u5e38 \u6548\u7387\u4f4e\u4e0b\uff0c\u56e0\u4e3a SwiftUI \u4e0d\u652f\u6301\u7ed1\u5b9a\u5230\u96c6\u5408\u3002\u8ba9\u6211\u4eec\u5728\u96c6\u5408\u4e0a\u4f7f\u7528\u7ed1\u5b9a\u5e76\u8ba8\u8bba\u5b83\u73b0\u5728\u5982\u4f55\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u66f4\u597d\u5730\u5de5\u4f5c\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee**EditableListsFields**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u7ed3\u6784**TodoItem**\\n```swift\\nstruct TodoItem: Identifiable {\\n    let id = UUID()\\n    var title: String\\n    init(_ someTitle:String){\\n        title = someTitle\\n    }\\n}\\n```\\n\\n2. \u7136\u540e\u6dfb\u52a0\u4e00\u4e2aState\\n```swift\\n@State var todos = [\\n      TodoItem(\\"Eat\\"),\\n      TodoItem(\\"Sleep\\"),\\n      TodoItem(\\"Code\\")\\n]\\n```\\n\\n3. \u66ff\u6362\u9ed8\u8ba4\u7684Text\u4e3aList\\n```swift\\nvar body: some View {\\n    List($todos) { $todo in\\n        TextField(\\"Number\\", text: $todo.title)\\n    }\\n}\\n```\\n\\n\u8fd0\u884c\\n\\n![image-20211228104834018](https://tva1.sinaimg.cn/large/008i3skNly1gxtctmjiuej30w80myq3n.jpg)\\n\\n## How it works\u2026\\n\\n\u8ba9\u6211\u4eec\u5148\u770b\u770b \u5728 SwiftUI 3 \u4e4b\u524d\u5982\u4f55\u5904\u7406\u53ef\u7f16\u8f91\u5217\u8868\u3002 \u5728 SwiftUI 3 \u4e4b\u524d\uff0c\u53ef\u7f16\u8f91\u9879\u76ee\u5217\u8868\u7684\u4ee3\u7801\u5c06\u4f7f\u7528\u5217\u8868\u7d22\u5f15\u6765\u521b\u5efa\u5230\u96c6\u5408\u7684\u7ed1\u5b9a\uff0c\u5982\u4e0b\u6240\u793a\uff1a\\n\\n```swift\\nList(0..<todos.count) { index in\\n  TextField(\\"Todo\\", text: $todos[index].title)\\n}\\n```\\n\\n\u8fd9\u6837\u7684\u4ee3\u7801\u4e0d\u4ec5\u901f\u5ea6\u6162\uff0c\u800c\u4e14\u7f16\u8f91\u5355\u4e2a\u9879\u76ee\u4f1a\u5bfc\u81f4 SwiftUI \u91cd\u65b0\u6e32\u67d3\u6574\u4e2a\u5143\u7d20**\u5217\u8868**\uff0c\u4ece\u800c\u5bfc\u81f4 UI \u95ea\u70c1\u548c\u66f4\u65b0\u7f13\u6162\u3002\\n\\n\u4f7f\u7528 SwiftUI 3\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7ed1\u5b9a\u4f20\u9012\u7ed9\u5143\u7d20\u96c6\u5408\uff0cSwiftUI \u5c06\u5728\u5185\u90e8\u5904\u7406 \u7ed1\u5b9a\u5230\u95ed\u5305\u4e2d\u6307\u5b9a\u7684\u5f53\u524d\u5143\u7d20\u3002\u7531\u4e8e\u6211\u4eec\u7684\u6574\u4e2a\u96c6\u5408\u90fd\u7b26\u5408**Identifiable**\u534f\u8bae\uff0c\u56e0\u6b64\u6211\u4eec\u7684\u6bcf\u4e2a\u5217\u8868\u9879\u90fd\u53ef\u4ee5\u901a\u8fc7\u5176**id**\u53c2\u6570\u6765\u552f\u4e00\u6807\u8bc6\uff1b\u56e0\u6b64\uff0c\u4ece\u5217\u8868\u4e2d\u6dfb\u52a0\u6216\u5220\u9664\u9879\u76ee\u4e0d\u4f1a\u66f4\u6539\u5217\u8868\u9879\u76ee\u7d22\u5f15\uff0c\u4e5f\u4e0d\u4f1a\u5bfc\u81f4\u6574\u4e2a\u5217\u8868\u91cd\u65b0\u5448\u73b0\u3002"},{"id":"/2021/11/22/SwiftUI\u4e13\u8f91-019-\u6dfb\u52a0sections\u5230List\u4e2d","metadata":{"permalink":"/2021/11/22/SwiftUI\u4e13\u8f91-019-\u6dfb\u52a0sections\u5230List\u4e2d","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-22-SwiftUI\u4e13\u8f91-019-\u6dfb\u52a0sections\u5230List\u4e2d/index.md","source":"@site/blog/2021-11-22-SwiftUI\u4e13\u8f91-019-\u6dfb\u52a0sections\u5230List\u4e2d/index.md","title":"SwiftUI\u4e13\u8f91019-\u6dfb\u52a0sections\u5230List\u4e2d","description":"headerimg","date":"2021-11-22T00:00:00.000Z","formattedDate":"2021\u5e7411\u670822\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":0.635,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91019-\u6dfb\u52a0sections\u5230List\u4e2d","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List","permalink":"/2021/11/23/SwiftUI\u4e13\u8f91-020-\u5c06\u96c6\u5408\u7ed1\u5b9a\u5230List"},"nextItem":{"title":"SwiftUI\u4e13\u8f91018-\u79fb\u52a8List\u4e2d\u7684rows","permalink":"/2021/11/21/SwiftUI\u4e13\u8f91-018-\u79fb\u52a8List\u4e2d\u7684rows"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\u6211\u4eec\u5c06\u7528section\u5b9e\u73b0\u4e00\u4e2a\u9759\u6001List\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee**ListWithSections**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u6dfb\u52a0\u4e00\u4e2a**NavigationView**\uff0c\u548cList\u3002\\n```swift\\nNavigationView {\\n    List {\\n\\n    }.navigationTitle(\\"Continents and Countries\\")\\n        .navigationBarTitleDisplayMode(.inline)                \\n}\\n```\\n\\n2. \u6dfb\u52a0sections\u5230List\u4e2d\\n```swift\\n List {\\n    Section(header: Text(\\"Africa\\")) {\\n        Text(\\"Nigeria\\")\\n        Text(\\"Ghana\\")\\n        Text(\\"Kenya\\")\\n        Text(\\"Senegal\\")\\n    }\\n    Section(header: Text(\\"Europe\\")) {\\n        Text(\\"Spain\\")\\n        Text(\\"France\\")\\n        Text(\\"Sweden\\")\\n        Text(\\"Finland\\")\\n        Text(\\"UK\\")\\n    }\\n}\\n```\\n\\n\u8fd0\u884c\uff0c\u6211\u4eec\u5c06\u770b\u5230\\n\\n![image-20211226173605636](https://tva1.sinaimg.cn/large/008i3skNly1gxrdcyfgwnj30jo0u4t9t.jpg)\\n\\n## How it works\u2026\\n\\n**Section**\u7528\u6765\u5c06items\u7ec4\u5408\u6210group\u3002\\n\\nsection\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u53ef\u9009\u7684header\uff0c\u7528\u4e8e\u663e\u793a\u5728group\u7684\u9876\u90e8\u3002"},{"id":"/2021/11/21/SwiftUI\u4e13\u8f91-018-\u79fb\u52a8List\u4e2d\u7684rows","metadata":{"permalink":"/2021/11/21/SwiftUI\u4e13\u8f91-018-\u79fb\u52a8List\u4e2d\u7684rows","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-21-SwiftUI\u4e13\u8f91-018-\u79fb\u52a8List\u4e2d\u7684rows/index.md","source":"@site/blog/2021-11-21-SwiftUI\u4e13\u8f91-018-\u79fb\u52a8List\u4e2d\u7684rows/index.md","title":"SwiftUI\u4e13\u8f91018-\u79fb\u52a8List\u4e2d\u7684rows","description":"headerimg","date":"2021-11-21T00:00:00.000Z","formattedDate":"2021\u5e7411\u670821\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.25,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91018-\u79fb\u52a8List\u4e2d\u7684rows","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91019-\u6dfb\u52a0sections\u5230List\u4e2d","permalink":"/2021/11/22/SwiftUI\u4e13\u8f91-019-\u6dfb\u52a0sections\u5230List\u4e2d"},"nextItem":{"title":"SwiftUI\u4e13\u8f91017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List","permalink":"/2021/11/20/SwiftUI\u4e13\u8f91-017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\u6211\u4eec\u5c06\u5b9e\u73b0\u4e00\u4e2aList\uff0c \u5141\u8bb8\u7528\u6237\u79fb\u52a8\uff0c\u91cd\u65b0\u7ec4\u7ec7rows\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u65b0\u7684SwiftUI\u9879\u76ee**MovingListRows**\\n\\n## How to do it\u2026\\n\\n1. \u8fd8\u662f\u51c6\u5907\u6570\u636e\\n```swift\\n@State var countries = [\\"USA\\", \\"Canada\\", \\"England\\", \\"Cameroon\\", \\"South Africa\\", \\"Mexico\\" , \\"Japan\\", \\"South Korea\\"]\\n```\\n\\n2. \u6784\u5efa\u4e00\u4e2aNavigationView, EditButton, List\uff0c\u53ea\u662fForEach\u7684\u65f6\u5019\u6211\u4eec\u6dfb\u52a0\u4e0a**onMove**\\n```swift\\nstruct ContentView: View {\\n    @State var countries = [\\"USA\\", \\"Canada\\", \\"England\\", \\"Cameroon\\", \\"South Africa\\", \\"Mexico\\" , \\"Japan\\", \\"South Korea\\"]\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(countries, id: \\\\.self) { country in\\n                    Text(country)\\n                }.onMove(perform: self.moveRow)\\n            }.navigationTitle(\\"Countries\\")\\n                .navigationBarTitleDisplayMode(.inline)\\n                .navigationBarItems(trailing: EditButton())\\n        }\\n    }\\n   \\n    private func moveRow(source: IndexSet, destination: Int){\\n            \\n    }\\n}\\n```\\n\\n3. \u5b9e\u73b0moveRow\\n```swift\\nprivate func moveRow(source: IndexSet, destination: Int){\\t\\n  countries.move(fromOffsets: source, toOffset: destination)\\n}\\n```\\n\\n\u5f53\u6211\u4eec\u70b9\u51fbEdit\u65f6\\n\\n![image-20211226171317473](https://tva1.sinaimg.cn/large/008i3skNly1gxrcp8ng6zj30ig0r03zb.jpg)\\n\\n## How it works\u2026\\n\\n\u9996\u5148\u6211\u4eec\u9700\u8981\u4e00\u4e2aEditButton\u6765\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\u3002\\n\\n\u5728ForEach\u65f6\uff0c\u6211\u4eec\u63d0\u4f9bonMove\u8fd9\u4e2amodifier\uff0c\u5f53\u6211\u4eec\u79fb\u52a8\u65f6\u4f1a\u89e6\u53d1\u5bf9\u5e94\u56de\u8c03\u3002\\n\\n**moveRow**\u51fd\u6570\u6709\u4e24\u4e2a\u53c2\u6570\uff0c**source** \u548c**destination**\u3002\u5206\u522b\u4ee3\u8868\u5f53\u524dindex\u548c\u79fb\u52a8\u540e\u7684index\u3002\\n\\n\u5728\u56de\u8c03\u4e2d\uff0c\u6211\u4eec\u4fee\u6539\u6570\u636e\u6e90\u79fb\u52a8\u6570\u636e\u4f4d\u7f6e\u3002"},{"id":"/2021/11/20/SwiftUI\u4e13\u8f91-017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List","metadata":{"permalink":"/2021/11/20/SwiftUI\u4e13\u8f91-017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-20-SwiftUI\u4e13\u8f91-017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List/index.md","source":"@site/blog/2021-11-20-SwiftUI\u4e13\u8f91-017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List/index.md","title":"SwiftUI\u4e13\u8f91017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List","description":"headerimg","date":"2021-11-20T00:00:00.000Z","formattedDate":"2021\u5e7411\u670820\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.06,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91018-\u79fb\u52a8List\u4e2d\u7684rows","permalink":"/2021/11/21/SwiftUI\u4e13\u8f91-018-\u79fb\u52a8List\u4e2d\u7684rows"},"nextItem":{"title":"SwiftUI\u4e13\u8f91016-\u4eceList\u4e2d\u5220\u9664rows","permalink":"/2021/11/19/SwiftUI\u4e13\u8f91-016-\u4eceList\u4e2d\u5220\u9664rows"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\u6211\u4eec\u5c06\u6f14\u793a\uff0c\u5982\u4f55\u901a\u8fc7EditButton\u6765\u8ba9\u5217\u8868\u8fdb\u5165\u53ef\u7f16\u8f91\u6a21\u5f0f\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee**ListRowEdit**\\n\\n## How to do it\u2026\\n\\n\u6211\u4eec\u5c06\u6cbf\u7528\u4e0a\u4e2a\u4f8b\u5b50\u7684\u4ee3\u7801\\n\\n1. \u590d\u5236\u4e0a\u4e2a\u9879\u76ee\u4e2dContentView\u4e2d\u7684\u4ee3\u7801\u8fc7\u6765\\n```swift\\nstruct ContentView: View {\\n    @State var countries = [\\"USA\\", \\"Canada\\", \\"England\\", \\"Cameroon\\", \\"South Africa\\", \\"Mexico\\" , \\"Japan\\", \\"South Korea\\"]\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(countries, id: \\\\.self) { country in\\n                    Text(country)\\n                }.onDelete(perform: self.deleteItem)\\n            }.navigationTitle(\\"Countries\\")\\n                .navigationBarTitleDisplayMode(.inline)\\n        }\\n    }\\n   \\n    func deleteItem(at indexSet: IndexSet) {\\n        self.countries.remove(atOffsets: indexSet)\\n    }\\n}\\n```\\n\\n2. \u4e3anavigation bar\u6dfb\u52a0\u4e00\u4e2aeditButton\\n```swift\\n.navigationBarItems(trailing: EditButton())\\n```\\n\\n3. \u70b9\u51fbEdit\u6309\u94ae\uff0c\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u70b9\u51fb\u201c-\u201d \uff0c\u5c06\u51fa\u73b0delete\u6309\u94ae\uff0c\u9009\u62e9delete\uff0c\u5c06\u5220\u9664Item\\n\\n![image-20211226165934238](https://tva1.sinaimg.cn/large/008i3skNly1gxrcaycba8j30hi0j8q3g.jpg)\\n\\n## How it works\u2026\\n\\n**.navigationBarItems(trailing: EditButton())**\u5728\u53f3\u4e0a\u89d2\u589e\u52a0\u4e86\u4e00\u4e2a\u6309\u94ae\u3002\u70b9\u51fb\u540e\uff0c\u5c06\u5728\u6bcf\u4e2aCell\u524d\u51fa\u73b0\u4e00\u4e2a\u51cf\u53f7\u3002\u70b9\u51fb\u51cf\u53f7\uff0c\u5c06\u51fa\u73b0delete\u6309\u94ae\uff0c\u9009\u62e9delete\u5c06\u5220\u9664cell\u3002"},{"id":"/2021/11/19/SwiftUI\u4e13\u8f91-016-\u4eceList\u4e2d\u5220\u9664rows","metadata":{"permalink":"/2021/11/19/SwiftUI\u4e13\u8f91-016-\u4eceList\u4e2d\u5220\u9664rows","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-19-SwiftUI\u4e13\u8f91-016-\u4eceList\u4e2d\u5220\u9664rows/index.md","source":"@site/blog/2021-11-19-SwiftUI\u4e13\u8f91-016-\u4eceList\u4e2d\u5220\u9664rows/index.md","title":"SwiftUI\u4e13\u8f91016-\u4eceList\u4e2d\u5220\u9664rows","description":"headerimg","date":"2021-11-19T00:00:00.000Z","formattedDate":"2021\u5e7411\u670819\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.345,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91016-\u4eceList\u4e2d\u5220\u9664rows","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List","permalink":"/2021/11/20/SwiftUI\u4e13\u8f91-017-\u521b\u5efa\u4e00\u4e2a\u53ef\u7f16\u8f91\u7684List"},"nextItem":{"title":"SwiftUI\u4e13\u8f91015-\u6dfb\u52a0rows\u5230List\u4e2d","permalink":"/2021/11/18/SwiftUI\u4e13\u8f91-015-\u6dfb\u52a0rows\u5230List\u4e2d"}},"content":"![headerimg](./Header.png)\\n\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u5982\u4f55\u6dfb\u52a0rows\u3002\\n\u73b0\u5728\u6211\u4eec\u6765\u5b66\u4e60\u4e00\u4e0b\u5982\u4f55\u7528swipe\u624b\u52bf\u5220\u9664rows\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee:**ListRowDelete**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u5728ContentView\u4e2d\u51c6\u5907\u4e00\u70b9\u6570\u636e\\n```swift\\n@State var countries = [\\"USA\\", \\"Canada\\", \\"England\\", \\"Cameroon\\", \\"South Africa\\", \\"Mexico\\" , \\"Japan\\", \\"South Korea\\"]\\n```\\n\\n2. \u5728body\u4e2d\u663e\u793a\u51fa\u6765\uff0c\u5e76\u52a0\u4e0a**onDelete**\\n```swift\\nstruct ContentView: View {\\n    @State var countries = [\\"USA\\", \\"Canada\\", \\"England\\", \\"Cameroon\\", \\"South Africa\\", \\"Mexico\\" , \\"Japan\\", \\"South Korea\\"]\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(countries, id: \\\\.self) { country in\\n                    Text(country)\\n                }.onDelete(perform: self.deleteItem)\\n            }.navigationTitle(\\"Countries\\")\\n                .navigationBarTitleDisplayMode(.inline)\\n        }\\n    }\\n  \\n    func deleteItem(at indexSet: IndexSet) {\\n        \\n    }\\n}\\n```\\n\\n3. \u5b9e\u73b0deleteItem\\n```swift\\nprivate func deleteItem(at indexSet: IndexSet){\\n    self.countries.remove(atOffsets: indexSet)\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\\n\\n![image-20211226164525655](https://tva1.sinaimg.cn/large/008i3skNly1gxrbw8m86tj30jg0rsdgp.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u770b\u5230\u4e86\u4e00\u4e2a\u65b0\u7684modifier: **.onDelete** \u3002\u4ed6\u4f1a\u5728\u6211\u4eec\u70b9\u51fb\u5220\u9664\u65f6\uff0c\u6267\u884c\u8bbe\u7f6e\u7684\u56de\u8c03\u3002\\n\\n\u672c\u4f8b\u4e2d\u70b9\u51fb\u540e\u4f1a\u6267\u884c**deleteItem**\u3002\u8fd9\u4e2a\u51fd\u6570\u6709\u4e00\u4e2a**IndexSet**\u53c2\u6570\uff0c\u4ed6\u91cc\u9762\u5305\u542b\u9700\u8981\u88ab\u5220\u9664\u7684index\u3002\\n\\n\u7136\u540e\u6211\u4eec\u4fee\u6539\u6570\u636e\u6e90\uff0c\u79fb\u9664\u8fd9\u4e9bIndex\u3002\\n\\n\u5f53\u7136\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0**EditButton**\u6765\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u5b9e\u73b0\u5bf9rows\u7684\u5220\u9664\u3002"},{"id":"/2021/11/18/SwiftUI\u4e13\u8f91-015-\u6dfb\u52a0rows\u5230List\u4e2d","metadata":{"permalink":"/2021/11/18/SwiftUI\u4e13\u8f91-015-\u6dfb\u52a0rows\u5230List\u4e2d","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-18-SwiftUI\u4e13\u8f91-015-\u6dfb\u52a0rows\u5230List\u4e2d/index.md","source":"@site/blog/2021-11-18-SwiftUI\u4e13\u8f91-015-\u6dfb\u52a0rows\u5230List\u4e2d/index.md","title":"SwiftUI\u4e13\u8f91015-\u6dfb\u52a0rows\u5230List\u4e2d","description":"headerimg","date":"2021-11-18T00:00:00.000Z","formattedDate":"2021\u5e7411\u670818\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.82,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91015-\u6dfb\u52a0rows\u5230List\u4e2d","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91016-\u4eceList\u4e2d\u5220\u9664rows","permalink":"/2021/11/19/SwiftUI\u4e13\u8f91-016-\u4eceList\u4e2d\u5220\u9664rows"},"nextItem":{"title":"SwiftUI\u4e13\u8f91014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell","permalink":"/2021/11/17/SwiftUI\u4e13\u8f91-014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell"}},"content":"![headerimg](./Header.png)\\n\u7528\u6237\u5bf9\u5217\u8868\u6700\u5e38\u89c1\u7684\u64cd\u4f5c\u65e0\u5916\u4e4e\uff1a\u589e\u3001\u5220\u3001\u6539\u3002\\n\u672c\u7ae0\u5c06\u4ecb\u7ecd\u5982\u4f55\u589e\u52a0rows\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff0c\u53eb\u505a**ListRowAdd**\\n\\n## How to do it\u2026\\n\\n\u8ba9\u6211\u4eec\u6700\u9876\u90e8\u521b\u5efa\u4e00\u4e2aButton\uff0c\u7528\u4e8e\u5f80\u5217\u8868\u4e2d\u52a0rows\u3002\\n\\n1. \u5728**ContentView**\u4e2d\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\\n\\n```swift\\n@State var numbers = [1,2,3,4]\\n```\\n\\n2. \u6dfb\u52a0\u4e00\u4e2a**NavigationView**\u548c\u4e00\u4e2a**List**\\n\\n```swift\\nstruct ContentView: View {\\n    @State var numbers = [1,2,3,4]\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(numbers, id: \\\\.self) { number in\\n                    Text(\\"\\\\(number)\\")\\n                }\\n            }\\n        }\\n    }\\n}\\n```\\n\\n3. \u7ed9List\u6dfb\u52a0\u4e00\u4e2aNavigationBarTitle\\n\\n```swift\\n.navigationTitle(\\"NumberList\\")\\n.navigationBarTitleDisplayMode(.inline)\\n```\\n\\n4. \u7ed9navigation bar\u6dfb\u52a0\u4e00\u4e2abutton\\n```swift   \\n.navigationBarItems(trailing: Button(\\"Add\\", action: self.addItemToRow))\\n```\\n\\n5. \u5b9e\u73b0addItemToRow\u65b9\u6cd5\\n```swift\\nprivate func addItemToRow() {\\n\\tself.numbers.append(Int.random(in: 5 ..< 100))\\n}\\n```\\n\\n\u6700\u7ec8\uff0c\u6211\u4eec\u70b9\u51fbadd\u65f6\uff0c\u80fd\u591f\u770b\u5230\u65b0\u7684cell\u3002\\n\\n![image-20211226162149439](https://tva1.sinaimg.cn/large/008i3skNly1gxrb7om4nlj30im0nk3yw.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2aState\uff1a numbers\uff0c\u7136\u540e\u4f7f\u7528ForEach\uff0c\u5c06numbers\u663e\u793a\u51fa\u6765\u3002\\n\\n\u6211\u4eec\u4f7f\u7528**navigationBarTitle**\u589e\u52a0\u4e86\u4e00\u4e2anavigationBar\u3002\\n\\n\u7136\u540e\u4f7f\u7528**navigationbartItems**\u5728\u53f3\u8fb9\u589e\u52a0\u4e86\u4e00\u4e2a\u6309\u94ae\uff0c\u5e76\u7ed1\u5b9a\u70b9\u51fb\u4e8b\u4ef6\u3002\\n\\n\u6211\u4eec\u5728\u70b9\u51fb\u4e8b\u4ef6\u4e2d\uff0c\u4fee\u6539State\uff1anumbers\u3002\u7531\u4e8e\u6570\u636e\u6e90\u53d8\u4e86\uff0cView\u81ea\u52a8\u5237\u65b0\uff0c\u5c06\u65b0\u6dfb\u52a0\u7684\u6570\u5b57\u663e\u793a\u4e86\u51fa\u6765\u3002\\n\\n\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u80fd\u6709\u70b9\u5c0f\u95ee\u9898\uff0c\u6ce8\u610f\u6211\u4eec\u7684ForEach\u4e2d\u4f7f\u7528\u4e86\\\\\\\\.self\u3002\u800cForEach\u7684id\u5e94\u8be5\u662f\u552f\u4e00\u7684\uff0c\u6211\u4eec\u7684\u968f\u673a\u6570\u53ef\u80fd\u4ea7\u751f\u76f8\u540c\u7684\u6570\u5b57\uff0c\u800c\u76f8\u540c\u7684id\u53ef\u80fd\u5bfc\u81f4\u4e00\u4e9b\u5f02\u5e38\u884c\u4e3a\u3002\u8fd9\u91cc\u53ea\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u53ea\u8981\u8bb0\u4f4fid\u5e94\u8be5\u5177\u6709\u552f\u4e00\u6027\u5c31\u597d\u3002"},{"id":"/2021/11/17/SwiftUI\u4e13\u8f91-014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell","metadata":{"permalink":"/2021/11/17/SwiftUI\u4e13\u8f91-014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-17-SwiftUI\u4e13\u8f91-014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell/index.md","source":"@site/blog/2021-11-17-SwiftUI\u4e13\u8f91-014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell/index.md","title":"SwiftUI\u4e13\u8f91014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell","description":"headerimg","date":"2021-11-17T00:00:00.000Z","formattedDate":"2021\u5e7411\u670817\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.275,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91015-\u6dfb\u52a0rows\u5230List\u4e2d","permalink":"/2021/11/18/SwiftUI\u4e13\u8f91-015-\u6dfb\u52a0rows\u5230List\u4e2d"},"nextItem":{"title":"SwiftUI\u4e13\u8f91013-\u521b\u5efastatic items List","permalink":"/2021/11/16/SwiftUI\u4e13\u8f91-013-\u521b\u5efastatic-items-List"}},"content":"![headerimg](./Header.png)\\n\u5982\u679c\u6211\u4eec\u6bcf\u6b21\u90fd\u8981\u7528\u5230\u76f8\u540c\u7684Cell\uff0c\u800c\u6bcf\u6b21\u90fd\u91cd\u590d\u5199\u4e00\u4e9bHStack\u80af\u5b9a\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u9009\u62e9\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e9bView\u5c01\u88c5\u6210\u4e00\u4e2aCell\uff0c\u589e\u52a0\u4ee3\u7801\u7684\u53ef\u91cd\u7528\u6027\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff1a**CustomRows**\\n\\n## How to do it\u2026\\n\\n\u9996\u5148\uff0c\u628a\u4e0a\u4e2a\u9879\u76ee\u7684\u4ee3\u7801\u590d\u5236\u8fc7\u6765\u3002\\n\\n1. \u65b0\u5efa\u4e00\u4e2aSwiftUI View\u6587\u4ef6**WeatherRow**\uff0c\u5728\u8fd9\u91cc\u5b9a\u4e49cell\\n```swift\\nstruct WeatherRow: View {\\n    var weather: WeatherInfo\\n    var body: some View {\\n        HStack {\\n            Image(systemName: weather.image)\\n                .frame(width: 50, alignment: .leading)\\n            Text(\\"\\\\(weather.temp)\xb0F\\")\\n                .frame(width: 80, alignment: .leading)\\n            Text(weather.city)\\n        }\\n        .font(.system(size: 25))\\n        .padding()\\n    }\\n}\\n```\\n\\n2. \u5982\u679c\u4f60\u8981\u9884\u89c8\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728**WeatherRow_Previews**\u589e\u52a0\u70b9\u6570\u636e\\n\\n```swift\\nstruct WeatherRow_Previews: PreviewProvider {\\n    static var previews: some View {\\n        WeatherRow(weather: WeatherInfo(image: \\"snow\\", temp: 5, city:\\"New York\\"))\\n    }\\n}\\n```\\n\\n3. \u4fee\u6539ContentView.swift\uff0c\u4f7f\u7528\u6211\u4eec\u7684WeatherRow\\n```swift\\nList {\\n    ForEach(self.weatherData) { weather in\\n       WeatherRow(weather: weather)\\n    }\\n}.listStyle(.grouped)\\n\\n```\\n\\n\u6700\u7ec8\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\uff1a\\n\\n![image-20211226155748936](https://tva1.sinaimg.cn/large/008i3skNgy1gxraiqq2f9j30iq0wowfo.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u5c06cell\u7684\u4ee3\u7801\u5355\u72ec\u62bd\u79bb\u5230WeatherRow\u4e2d\uff0c\u5176\u4ed6\u5730\u65b9\u5982\u679c\u9700\u8981\u76f8\u540c\u7684View\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528WeatherRow\u4e86\u3002"},{"id":"/2021/11/16/SwiftUI\u4e13\u8f91-013-\u521b\u5efastatic-items-List","metadata":{"permalink":"/2021/11/16/SwiftUI\u4e13\u8f91-013-\u521b\u5efastatic-items-List","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-16-SwiftUI\u4e13\u8f91-013-\u521b\u5efastatic-items-List/index.md","source":"@site/blog/2021-11-16-SwiftUI\u4e13\u8f91-013-\u521b\u5efastatic-items-List/index.md","title":"SwiftUI\u4e13\u8f91013-\u521b\u5efastatic items List","description":"headerimg","date":"2021-11-16T00:00:00.000Z","formattedDate":"2021\u5e7411\u670816\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.59,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91013-\u521b\u5efastatic items List","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell","permalink":"/2021/11/17/SwiftUI\u4e13\u8f91-014-List\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49Cell"},"nextItem":{"title":"SwiftUI\u4e13\u8f91012-\u4f7f\u7528ScrollView","permalink":"/2021/11/15/SwiftUI\u4e13\u8f91-012-\u4f7f\u7528ScrollView"}},"content":"![headerimg](./Header.png)\\n**List** \u548cScrollView\u7c7b\u4f3c\uff0c\u90fd\u662f\u7528\u6765\u663e\u793a\u4e00\u4e2aItems\u7684\u96c6\u5408\u3002\u4e0d\u540c\u7684\u662f**List**\u66f4\u9002\u5408\u5904\u7406\u8f83\u5927\u7684\u6570\u636e\u96c6\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u4f1a\u5c06\u6574\u4e2a\u6570\u636e\u96c6\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u4f1a\u7528static list\u6765\u663e\u793a\u5404\u4e2a\u57ce\u5e02\u7684\u5929\u6c14\u4fe1\u606f\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**StaticList**\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u5929\u6c14\u4fe1\u606f\\n```swift\\nstruct WeatherInfo: Identifiable {\\n    var id = UUID()\\n    var image: String\\n    var temp: Int\\n    var city: String\\n}\\n```\\n\\n2. \u5728ContenView\u4e2d\u51c6\u5907\u5929\u6c14\u6570\u636e\\n```swift\\nlet weatherData: [WeatherInfo] = [\\n    WeatherInfo(image: \\"snow\\", temp: 5, city:\\"NewYork\\"),\\n    WeatherInfo(image: \\"cloud\\", temp:5, city:\\"KansasCity\\"),\\n    WeatherInfo(image: \\"sun.max\\", temp: 80, city:\\"SanFrancisco\\"),\\n    WeatherInfo(image: \\"snow\\", temp: 5,city:\\"Chicago\\"),\\n    WeatherInfo(image: \\"cloud.rain\\", temp: 49,city:\\"Washington DC\\"),\\n    WeatherInfo(image: \\"cloud.heavyrain\\", temp: 60,city:\\"Seattle\\"),\\n    WeatherInfo(image: \\"sun.min\\", temp: 75,city:\\"Baltimore\\"),\\n    WeatherInfo(image: \\"sun.dust\\", temp: 65,city:\\"Austin\\"),\\n    WeatherInfo(image: \\"sunset\\", temp: 78,city:\\"Houston\\"),\\n    WeatherInfo(image: \\"moon\\", temp: 80,city:\\"Boston\\"),\\n    WeatherInfo(image: \\"moon.circle\\", temp: 45,city:\\"denver\\"),\\n    WeatherInfo(image: \\"cloud.snow\\", temp: 8,city:\\"Philadelphia\\"),\\n    WeatherInfo(image: \\"cloud.hail\\", temp: 5,city:\\"Memphis\\"),\\n    WeatherInfo(image: \\"cloud.sleet\\", temp:5,city:\\"Nashville\\"),\\n    WeatherInfo(image: \\"sun.max\\", temp: 80, city:\\"SanFrancisco\\"),\\n    WeatherInfo(image: \\"cloud.sun\\", temp: 5,city:\\"Atlanta\\"),\\n    WeatherInfo(image: \\"wind\\", temp: 88, city:\\"LasVegas\\"),\\n    WeatherInfo(image: \\"cloud.rain\\", temp: 60,city:\\"Phoenix\\"),\\n    ]\\n```\\n\\n3. \u6dfb\u52a0List\uff0c\u7528ForEach\u663e\u793a\u6bcf\u4e2a\u5929\u6c14\u4fe1\u606f\\n```swift\\nList {\\n  ForEach(self.weatherData) { weather in\\n      HStack {\\n          Image(systemName: weather.image).frame(width: 50, alignment: .leading)\\n          Text(\\"\\\\(weather.temp)\xb0F\\").frame(width: 80, alignment:.leading)\\n          Text(weather.city)\\n      }.font(.system(size: 25))\\n      .padding()\\n  }\\n}.listStyle(.grouped)\\n```\\n\\n\u6700\u7ec8\u663e\u793a\uff1a\\n\\n![image-20211224182243081](https://tva1.sinaimg.cn/large/008i3skNgy1gxp3gwbp7wj30is0sejsg.jpg)\\n\\n## How it works\u2026\\n\\n\u9996\u5148\u6211\u4eec\u521b\u5efa**WeatherInfo**\u7ed3\u6784\u4f53\uff0c\u5e76\u8ba9\u5176\u9075\u5faa**Identifiable**\u534f\u8bae\uff0c\u8fd9\u6837\u4f7f\u7528ForEach\u7684\u65f6\u5019\u5c31\u4e0d\u7528\u6307\u5b9aid\u4e86\u3002\\n\\n\u7136\u540e\u6bcf\u4e2aitem\u4f7f\u7528HStack\u6765\u663e\u793a\u5176\u4e2d\u7684\u5185\u5bb9\u3002"},{"id":"/2021/11/15/SwiftUI\u4e13\u8f91-012-\u4f7f\u7528ScrollView","metadata":{"permalink":"/2021/11/15/SwiftUI\u4e13\u8f91-012-\u4f7f\u7528ScrollView","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-15-SwiftUI\u4e13\u8f91-012-\u4f7f\u7528ScrollView/index.md","source":"@site/blog/2021-11-15-SwiftUI\u4e13\u8f91-012-\u4f7f\u7528ScrollView/index.md","title":"SwiftUI\u4e13\u8f91012-\u4f7f\u7528ScrollView","description":"headerimg","date":"2021-11-15T00:00:00.000Z","formattedDate":"2021\u5e7411\u670815\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":2.05,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91012-\u4f7f\u7528ScrollView","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91013-\u521b\u5efastatic items List","permalink":"/2021/11/16/SwiftUI\u4e13\u8f91-013-\u521b\u5efastatic-items-List"},"nextItem":{"title":"SwiftUI\u4e13\u8f91011-iOS14\u4ee5\u4e0a\u7684View\u548cControls","permalink":"/2021/11/14/SwiftUI\u4e13\u8f91-011-iOS14\u4ee5\u4e0a\u7684View\u548cControls"}},"content":"![headerimg](./Header.png)\\n\u5f53\u8981\u663e\u793a\u7684\u5185\u5bb9\u65e0\u6cd5\u653e\u5165\u5176\u5bb9\u5668\u65f6, \u4f60\u53ef\u4ee5\u4f7f\u7528ScrollView\u3002\\n\\n\u6eda\u52a8\u89c6\u56fe\u9ed8\u8ba4\u662f\u5782\u76f4\u7684\uff0c\u4f46\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6c34\u5e73\u7684\u3002\\n\\n\u672c\u7ae0\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u521b\u5efa\u6c34\u5e73\u548c\u5782\u76f4\u7684ScrollView\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee**WeScroll**\\n\\n## How to do it\u2026\\n\\n\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u663e\u793a\u5b57\u6bcdA-P\u7684ScrollView\u3002\\n\\n1. \u6dfb\u52a0\u6211\u4eec\u9700\u8981\u7684\u5b57\u6bcd\u5230contentView\u4e2d\\n```swift\\nlet letters = [\\"a\\",\\"b\\",\\"c\\",\\"d\\",\\"e\\",\\"f\\",\\"g\\",\\"h\\",\\"i\\",\\"j\\",\\"k\\",\\"l\\",\\"m\\",\\"n\\",\\"o\\",\\"p\\"]\\n```\\n\\n2. \u66ff\u6362ContentView\u4e3a\u4ee5\u4e0b\u5185\u5bb9\\n```swift\\nstruct ContentView: View {\\n    let letters = [\\"a\\",\\"b\\",\\"c\\",\\"d\\",\\"e\\",\\"f\\",\\"g\\",\\"h\\",\\"i\\",\\"j\\",\\"k\\",\\"l\\",\\"m\\",\\"n\\",\\"o\\",\\"p\\"]\\n    var body: some View {\\n        VStack {\\n            ScrollView(.vertical, showsIndicators: true) {\\n                ForEach(self.letters, id: \\\\.self) { letter in\\n                    Image(systemName: letter)\\n                        .font(.largeTitle)\\n                        .foregroundColor(.yellow)\\n                        .background(Color.blue)\\n                        .frame(width: 50, height: 50, alignment: .center)\\n                        .symbolVariant(.circle.fill)\\n                }\\n            }.frame(width: 50, height: 200, alignment: .center)\\n            \\n            ScrollView(.horizontal, showsIndicators: true) {\\n                HStack {\\n                    ForEach(self.letters, id: \\\\.self) { letter in\\n                        Image(systemName: letter)\\n                            .font(.largeTitle)\\n                            .foregroundColor(.yellow)\\n                            .background(Color.blue)\\n                            .frame(width: 50, height: 50, alignment: .center)\\n                            .symbolVariant(.circle.fill)\\n                    }\\n                }\\n            }\\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u5f97\u5230\\n\\n![image-20211224174523532](https://tva1.sinaimg.cn/large/008i3skNgy1gxp2e0sd2pj30iu0rogmg.jpg)\\n\\n## How it works\u2026\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cScrollView\u662f\u5782\u76f4\u6eda\u52a8\u7684\u3002\\n\\n\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86ForEach\u6765\u5c06\u6211\u4eec\u7684\u96c6\u5408\u6570\u636e\u8f6c\u5316\u6210Views\u3002\\n\\n\u6211\u4eec\u7ed9ForEach\u4f20\u9012\u4e862\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u9700\u8981\u8fed\u4ee3\u7684collection\uff0c\u7b2c\u4e8c\u4e2a\u662fid\u3002id\u5e2e\u52a9\u6211\u4eec\u533a\u522b\u6bcf\u4e2aitem\uff0c\u4ed6\u4eec\u5e94\u8be5\u662f\u552f\u4e00\u7684\u3002\u56e0\u4e3a\u6211\u4eec\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u5b57\u6bcd\u662f\u552f\u4e00\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528.self\u4f5c\u4e3aid\u3002\\n\\n\u5982\u679c\u4f60\u7684item\u9075\u5faa**Identifiable**\u534f\u8bae\uff0c\u5c31\u4e0d\u7528\u63d0\u4f9bid\u53c2\u6570\uff0c\u4f1a\u4f7f\u7528Identifiable\u7684id\u4f5c\u4e3aid\u3002\\n\\n\u7b2c\u4e8c\u4e2ascrollview\u6307\u5b9a\u4e86\u6eda\u52a8\u65b9\u5411\u4e3a\u6c34\u5e73\uff0c\u8981\u663e\u793a\u6eda\u52a8\u6761\uff0c\u8981\u6c34\u5e73\u663e\u793a\u5185\u5bb9\uff0c\u6211\u4eec\u7528HStack\u8ba9\u5b57\u6bcd\u6c34\u5e73\u6392\u5217\u3002\\n\\n## Api\u8be6\u60c5\\n\\n### ScrollView\\n\\n#### Creating a Scroll View\\n\\n```swift\\n//\u53ef\u4ee5\u6c34\u5e73\uff0c\u5782\u76f4\uff0c\u6216\u8005\u4e24\u4e2a\u4e00\u8d77\u6eda\u52a8\u3002\\ninit(_ axes: Axis.Set = .vertical, showsIndicators: Bool = true, content: () -> Content)\\n```"},{"id":"/2021/11/14/SwiftUI\u4e13\u8f91-011-iOS14\u4ee5\u4e0a\u7684View\u548cControls","metadata":{"permalink":"/2021/11/14/SwiftUI\u4e13\u8f91-011-iOS14\u4ee5\u4e0a\u7684View\u548cControls","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-14-SwiftUI\u4e13\u8f91-011-iOS14\u4ee5\u4e0a\u7684View\u548cControls/index.md","source":"@site/blog/2021-11-14-SwiftUI\u4e13\u8f91-011-iOS14\u4ee5\u4e0a\u7684View\u548cControls/index.md","title":"SwiftUI\u4e13\u8f91011-iOS14\u4ee5\u4e0a\u7684View\u548cControls","description":"headerimg","date":"2021-11-14T00:00:00.000Z","formattedDate":"2021\u5e7411\u670814\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":5.035,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91011-iOS14\u4ee5\u4e0a\u7684View\u548cControls","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91012-\u4f7f\u7528ScrollView","permalink":"/2021/11/15/SwiftUI\u4e13\u8f91-012-\u4f7f\u7528ScrollView"},"nextItem":{"title":"SwiftUI\u4e13\u8f91010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI","permalink":"/2021/11/13/SwiftUI\u4e13\u8f91-010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\u6211\u4eec\u5c06\u67e5\u770b\\n\\n- **ProgressView**\\n- **ColorPicker**\\n- **Link**\\n- **Menu**\\n\\nProgressView\u7528\u4e8e\u663e\u793a\u4efb\u52a1\u7684\u5b8c\u6210\u7a0b\u5ea6\u3002\u6709\u4e24\u79cd\u7c7b\u578b\u7684ProgressView\uff1a\u4e0d\u786e\u5b9a\u7684\u8fdb\u5ea6\u89c6\u56fe\u663e\u793a\u4e00\u4e2a\u65cb\u8f6c\u7684\u5706\u5708\u76f4\u5230\u4efb\u52a1\u5b8c\u6210\uff0c\u800c\u786e\u5b9a\u7684\u8fdb\u5ea6\u89c6\u56fe\u663e\u793a\u4e00\u4e2a\u88ab\u586b\u6ee1\u7684bar\uff0c\u4ee5\u663e\u793a\u4efb\u52a1\u7684\u5b8c\u6210\u7a0b\u5ea6\u3002\\n\\nColorPicker\u89c6\u56fe\u5141\u8bb8\u7528\u6237\u4ece\u591a\u79cd\u989c\u8272\u4e2d\u8fdb\u884c\u9009\u62e9\u3002\\n\\nMenu\u89c6\u56fe\u5219\u663e\u793a\u4e00\u4e2aitems\u5217\u8868\uff0c\u7528\u6237\u53ef\u4ee5\u4ece\u4e2d\u9009\u62e9\u4ee5\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee\uff0c**MoreViewsAndControls**\\n\\n## How to do it\u2026\\n\\n1. \u9996\u5148\uff0c\u6dfb\u52a0\u4e00\u4e9b\u72b6\u6001\\n```swift\\n@State private var progress = 0.5\\n@State private var color  = Color.red\\n@State private var secondColor  = Color.yellow\\n@State private var someText = \\"Initial value\\"\\n```\\n\\n2. \u6dfb\u52a0\u4e00\u4e2aList\uff0c \u5728\u6dfb\u52a0\u4e00\u4e2a\u5305\u542bProgressView\u7684Section\\n```swift\\nList {\\n    Section(header: Text(\\"ProgressViews\\")) {\\n        ProgressView(\\"Indeterminate progressview\\")\\n        ProgressView(\\"Downloading\\",value:progress, total:2)\\n        Button(\\"More\\"){\\n            if(progress < 2){\\n                progress += 0.5\\n            }\\n        }\\n    }\\n}\\n```\\n\\n3. \u518d\u6dfb\u52a0\u53e6\u4e00\u4e2aSection\\n```swift\\n\\tSection(header: Text(\\"Labels\\")) {\\n    Label(\\"Slow\\", image: \\"tortoise.fill\\")\\n    Label {\\n        Text(\\"Fast\\").font(.title)\\n    } icon: {\\n        Circle()\\n            .fill(.orange)\\n            .frame(width: 40, height: 20, alignment: .center)\\n            .overlay {\\n                Text(\\"F\\")\\n            }\\n    }\\n}\\n```\\n\\n4. \u5728\u6dfb\u52a02\u4e2aSection\uff0c\u5305\u542b**ColorPicker**\u548cLink\\n```swift\\nSection(header: Text(\\"ColorPicker\\")) {\\n    ColorPicker(selection: $color) {\\n        Text(\\"Pick my background\\").background(color).padding()\\n    }\\n    ColorPicker(\\"Picker\\", selection: $secondColor)\\n}\\nSection(header: Text(\\"Link\\")) {\\n  Link(\\"Packt Publishing\\", destination: URL(string: \\"https://www.baidu.com\\")!)\\n}\\n```\\n\\n5. \u518d\u6dfb\u52a0\u4e00\u4e2aSection\uff0c\u5305\u542bTextEditor\\n```swift\\nSection(header: Text(\\"TextEditor\\")) {\\n    TextEditor(text: $someText)\\n    Text(\\"current editortext:\\\\n\\\\(someText)\\")\\n}\\n```\\n\\n6. \u518d\u6dfb\u52a0\u4e00\u4e2aSection\uff0c\u5305\u542bMenu\\n```swift\\nSection(header: Text(\\"Menu\\")) {\\n    Menu(\\"Actions\\") {\\n        Button(\\"set TextEditor text to \'magic\'\\") {\\n            someText = \\"magic\\"\\n        }\\n        Button(\\"turn first color green\\") {\\n            color = .green\\n        }\\n        Menu(\\"Actions\\") {\\n            Button(\\"set TextEditor text to \'number\'\\") {\\n                someText = \\"number\\"\\n            }\\n            Button(\\"turn first color red\\") {\\n                color = .red\\n            }\\n        }\\n    }\\n}\\n```\\n\\n7. \u6700\u7ec8\uff0c\u6211\u4eec\u4fee\u6539\u4e0bList\u7684\u663e\u793a\u6837\u5f0f\\n```swift\\nList {\\n\\n...\\n\\n}.listStyle(.grouped)\\n```\\n\\n\u6700\u7ec8\\n\\n![image-20211224164647811](https://tva1.sinaimg.cn/large/008i3skNgy1gxp0p1v15rj30i6100406.jpg)\\n\\n## How it works\u2026\\n\\n\u4e0d\u786e\u5b9a\u8fdb\u5ea6\u7684\u8fdb\u5ea6\u6761\uff0c\u4e0d\u9700\u8981\u53c2\u6570\\n\\n```swift\\nProgressView(\\"Indeterminate progress view\\")\\nProgressView()\\n```\\n\\n\u786e\u5b9a\u8fdb\u5ea6\u7684\uff0c\u9700\u8981\u63d0\u4f9b\uff0c\u5f53\u524d\u8fdb\u5ea6\u548c\u603b\u8fdb\u5ea6, \u603b\u8fdb\u5ea6\u4e0d\u4f20\u7684\u8bdd\u9ed8\u8ba4\u4e3a1.\\n\\n```swift\\nProgressView(\\"Downloading\\",value: progress, total:2)\\n```\\n\\nLabel\u663e\u793a\u4e00\u4e2atext\u548cicon\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528SF symbol\u3002\\n\\nColorPicker\u80fd\u591f\u8ba9\u7528\u6237\u9009\u62e9\u989c\u8272\\n\\nLink\u7528\u4e8e\u663e\u793a\u4e00\u4e2a\u53ef\u4ee5\u70b9\u51fb\u7684\u94fe\u63a5\\n\\n**Menu**\u63d0\u4f9b\u4e86\u5f39\u7a97\u4f9b\u7528\u6237\u9009\u62e9\u9009\u9879\uff0c\u53ef\u4ee5\u6dfb\u52a0\u591a\u7ea7\uff0c\u4f46\u4e0d\u5efa\u8bae\u5d4c\u5957\u592a\u6df1\u3002\\n\\n## Api\u8be6\u60c5\\n\\n### ProgressView\\n\\n#### Creating Progress View\\n\\n```swift\\n//\u4e0d\u786e\u5b9a\u8fdb\u5ea6\u7684\\ninit(label: () -> Label)\\n//\u786e\u5b9a\u8fdb\u5ea6\u7684\\ninit<V>(value: V?, total: V = 1.0, label: () -> Label) where CurrentValueLabel == EmptyView, V : BinaryFloatingPoint\\n//\u901a\u8fc7config\u521d\u59cb\u5316\uff0c\u901a\u5e38\u7528\u5728\u81ea\u5b9a\u4e49style\u4e2d\\ninit(_ configuration: ProgressViewStyleConfiguration) where Label == ProgressViewStyleConfiguration.Label, CurrentValueLabel == ProgressViewStyleConfiguration.CurrentValueLabel\\n//\u6bd4\u5982\\nstruct DarkBlueShadowProgressViewStyle: ProgressViewStyle {\\n    func makeBody(configuration: Configuration) -> some View {\\n        ProgressView(configuration)\\n            .shadow(color: Color(red: 0, green: 0, blue: 0.6),\\n                    radius: 4.0, x: 1.0, y: 2.0)\\n    }\\n}\\n```\\n\\n#### Styling Progress Views\\n\\n```swift\\nfunc progressViewStyle<S>(_ style: S) -> some View where S : ProgressViewStyle\\n//\u76f4\u7ebf\\nstatic var linear: LinearProgressViewStyle { get }\\n//\u8fd0\u884c\u770b\u6548\u679c\u4f3c\u4e4e\u662f\u548c\u4e0d\u786e\u5b9a\u8fdb\u5ea6\u7684\u90a3\u79cd\u5c0f\u83ca\u82b1\u4e00\u6837\uff0c\u770b\u4e0d\u5230\u8fdb\u5ea6\u7684\u6539\u53d8\\nstatic var circular: CircularProgressViewStyle { get }\\n```\\n\\n### Label\\n\\n#### Creating a Label from Text and an Image\\n\\n```swift\\n//title + \u672c\u5730image\\ninit<S>(_ title: S, image name: String) where S : StringProtocol\\n```\\n\\n#### Creating a Label from Text and an SF Symbol\\n\\n```swift\\n//title + sf symbol\\ninit<S>(_ title: S, systemImage name: String) where S : StringProtocol\\n```\\n\\n#### Creating a Label from a Title and Icon\\n\\n```swift\\n//title + Icon\\ninit(title: () -> Title, icon: () -> Icon)\\n```\\n\\n#### Creating a Label from a Configuration\\n\\n```swift\\ninit(_ configuration: LabelStyleConfiguration)\\n//\u6bd4\u5982\\nstruct RedBorderedLabelStyle: LabelStyle {\\n    func makeBody(configuration: Configuration) -> some View {\\n        Label(configuration)\\n            .border(Color.red)\\n    }\\n}\\n```\\n\\n#### Styling Labels\\n\\n```swift\\nfunc labelStyle<S>(_ style: S) -> some View where S : LabelStyle\\n//\u53ea\u663e\u793a\u56fe\u7247\\nstatic var iconOnly: IconOnlyLabelStyle { get }\\n//title + icon\\nstatic var titleAndIcon: TitleAndIconLabelStyle { get }\\n//\u53ea\u663e\u793atitle\\nstatic var titleOnly: TitleOnlyLabelStyle { get }\\n```\\n\\n### Link\\n\\n```swift\\n// \u663e\u793a\u7684title \u548c\u8df3\u8f6c\u7684url\\ninit(destination: URL, label: () -> Label)\\n```\\n\\n### Menu\\n\\n#### Creating a Menu from Content\\n\\n```swift\\n//\u70b9\u51fb\u540e\u51fa\u73b0content\u4e2d\u7684\u9009\u9879\\ninit(content: () -> Content, label: () -> Label)\\n```\\n\\n#### Creating a Menu with a Primary Action\\n\\n```swift\\n//\u666e\u901a\u70b9\u51fb\u4f1a\u89e6\u53d1primaryAction\uff0c\u5982\u679c\u957f\u6309\u6216\u8005\u53cc\u51fb\u5219\u663e\u793acontent\u4e2d\u7684\u9009\u9879\\ninit(content: () -> Content, label: () -> Label, primaryAction: @escaping () -> Void)\\n```\\n\\n#### Creating a Menu from a Configuration\\n\\n```swift\\ninit(_ configuration: MenuStyleConfiguration)\\n//\u6bd4\u5982\\nstruct RedBorderMenuStyle: MenuStyle {\\n    func makeBody(configuration: Configuration) -> some View {\\n        Menu(configuration)\\n            .border(Color.red)\\n    }\\n}\\n```\\n\\n#### Styling a Menu\\n\\n```swift\\nfunc menuStyle<S>(_ style: S) -> some View where S : MenuStyle\\n//\u9ed8\u8ba4\u7684\\nstruct DefaultMenuStyle\\n//\u65e0\u8fb9\u6846button\\nstruct BorderlessButtonMenuStyle\\n//\u6709\u8fb9\u6846\uff0c\u53ea\u80fdmacOS\u7528\\nstruct BorderedButtonMenuStyle\\n```"},{"id":"/2021/11/13/SwiftUI\u4e13\u8f91-010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI","metadata":{"permalink":"/2021/11/13/SwiftUI\u4e13\u8f91-010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-13-SwiftUI\u4e13\u8f91-010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI/index.md","source":"@site/blog/2021-11-13-SwiftUI\u4e13\u8f91-010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI/index.md","title":"SwiftUI\u4e13\u8f91010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI","description":"headerimg","date":"2021-11-13T00:00:00.000Z","formattedDate":"2021\u5e7411\u670813\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.38,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91011-iOS14\u4ee5\u4e0a\u7684View\u548cControls","permalink":"/2021/11/14/SwiftUI\u4e13\u8f91-011-iOS14\u4ee5\u4e0a\u7684View\u548cControls"},"nextItem":{"title":"SwiftUI\u4e13\u8f91009-SwiftUI\u4e2d\u4f7f\u7528UIKit","permalink":"/2021/11/12/SwiftUI\u4e13\u8f91-009-SwiftUI\u4e2d\u4f7f\u7528UIKit"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u4ece UIKit \u89c6\u56fe\u8df3\u8f6c\u5230 SwiftUI \u89c6\u56fe\uff0c\u540c\u65f6\u5c06\u6587\u672c\u4f20\u9012\u7ed9\u6211\u4eec\u7684 SwiftUI \u89c6\u56fe\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2a\u666e\u901aStoryboard\u5de5\u7a0b\u3002\\n\\n## How to do it\u2026\\n\\n1. \u9009\u4e2dMain.stroyboard\u3002\\n2. \u9009\u4e2d**ViewController**\\n3. \u5728\u83dc\u5355\u4e2d\u9009\u62e9 **Editor** | **Embed in** | **Navigation Controller**.\\n4. \u9009\u62e9\u53f3\u4e0a\u89d2\u7684+\u53f7\uff0c\u6dfb\u52a0\u4e00\u4e2a**Hosting View Controller**\u5230storyboard\u91cc\\n5. \u6dfb\u52a0\u4e00\u4e2aButton\u5230ViewController\u4e2d\uff0c\u6dfb\u52a0\u70b9\u51fbbtn\u8df3\u8f6c\u5230HostingViewController\\n6. \u62d6\u52a8segue\u5230ViewController\u4e2d\uff0c\u53d6\u540d\u4e3agotoSwiftUI\\n```swift\\n    @IBSegueAction func gotoSwiftUI(_ coder: NSCoder) -> UIViewController? {\\n        return UIHostingController(coder: coder, rootView: rootView)\\n    }\\n\\n```\\n\\n7. \u6dfb\u52a0import SwiftUI\\n```swift\\nimport SwiftUI\\n```\\n\\n8. \u5728gotoSwiftUI\u4e2d\u521b\u5efarootView\\n```swift\\n@IBSegueAction func gotoSwiftUI(_ coder: NSCoder) -> UIViewController? {\\n  let greetings = \\"Hello From UIKit\\"\\n\\tlet rootView = Greetings(textFromUIKit:greetings)\\n  return UIHostingController(coder: coder, rootView: rootView)\\n}\\n```\\n\\n9. \u65b0\u5efa\u4e00\u4e2aSwiftUI View, \u53d6\u540d**Greetings**\\n10. \u5b9e\u73b0Greetings\\n```swift\\nstruct Greetings: View {\\n    var textFromUIKit = \\"\\"\\n    var body: some View {\\n        Text(textFromUIKit)\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\uff0c\u70b9\u51fbbutton\uff0c\u5c31\u80fd\u591f\u8df3\u8f6c\u5230Greetings\uff0c\u5e76\u663e\u793a\u4f20\u8fc7\u53bb\u7684\u53c2\u6570\\n![Untitled](https://tva1.sinaimg.cn/large/008i3skNgy1gxozv4r4xzg30940ixdgz.gif)\\n\\n\\n## How it works\u2026\\n\\n\u4e3a\u4e86\u5728\u666e\u901a\u9879\u76ee\u4e2d\u663e\u793aSwiftUI\uff0c\u4f60\u9700\u8981\u5c06SwiftUI\u89c6\u56fe\u5305\u88f9\u5230\u4e00\u4e2a**ViewController** \u6216\u8005 **InterfaceController**\u4e2d\u3002\\n\\n\u6211\u4eec\u6dfb\u52a0\u4e86**UIHostingController**\u4f5c\u4e3aSwiftUI\u7684\u5bb9\u5668\u3002"},{"id":"/2021/11/12/SwiftUI\u4e13\u8f91-009-SwiftUI\u4e2d\u4f7f\u7528UIKit","metadata":{"permalink":"/2021/11/12/SwiftUI\u4e13\u8f91-009-SwiftUI\u4e2d\u4f7f\u7528UIKit","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-12-SwiftUI\u4e13\u8f91-009-SwiftUI\u4e2d\u4f7f\u7528UIKit/index.md","source":"@site/blog/2021-11-12-SwiftUI\u4e13\u8f91-009-SwiftUI\u4e2d\u4f7f\u7528UIKit/index.md","title":"SwiftUI\u4e13\u8f91009-SwiftUI\u4e2d\u4f7f\u7528UIKit","description":"headerimg","date":"2021-11-12T00:00:00.000Z","formattedDate":"2021\u5e7411\u670812\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.77,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91009-SwiftUI\u4e2d\u4f7f\u7528UIKit","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI","permalink":"/2021/11/13/SwiftUI\u4e13\u8f91-010-\u5df2\u6709App\u4e2d\u4f7f\u7528SwiftUI"},"nextItem":{"title":"SwiftUI\u4e13\u8f91008-\u4f7f\u7528SF Symbols\u663e\u793a\u7b80\u5355\u56fe\u5f62","permalink":"/2021/11/11/SwiftUI\u4e13\u8f91-008-\u4f7f\u7528SFSymbols\u663e\u793a\u7b80\u5355\u56fe\u5f62"}},"content":"![headerimg](./Header.png)\\nSwiftUI \u662f \u5728 WWDC 2019 \u4e0a\u5ba3\u5e03 \u7684\uff0c\u4ec5\u9002\u7528\u4e8e\u8fd0\u884c iOS 13 \u53ca\u66f4\u9ad8\u7248\u672c\u7684\u8bbe\u5907\u3002\u7531\u4e8e\u5176\u76f8\u5bf9\u4e0d\u6210\u719f\uff0c\u4e0e UIKit \u76f8\u6bd4\uff0cSwiftUI \u53ef\u80fd\u7f3a\u4e4f\u5e7f\u6cdb\u7684 API \u652f\u6301\u3002\u4f8b\u5982\uff0c\u622a\u81f3 2021 \u5e74 7 \u6708\uff0c\u53ea\u80fd\u4f7f\u7528 UIKit \u7684**UIImagePickerController**\u9009\u62e9\u56fe\u7247\u548c\u89c6\u9891\u3002\u56e0\u6b64\uff0c\u9700\u8981\u5728 SwiftUI \u4e2d\u5b9e\u73b0\u67d0\u4e9b UIKit API\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u770b\u770b\u5982\u4f55\u5728 SwiftUI \u4e2d\u4f7f\u7528 UIKit API\u3002\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u5305\u88c5**UIActivityIndicatorView**\u7684View\uff0c\u7136\u540e\u5728 SwiftUI \u4e2d\u663e\u793a\u4e00\u4e2aActivityIndicator\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff0c\u53eb\u505a**UIKitToSwiftUI**\\n\\n## How to do it\u2026\\n\\n\u6211\u4eec\u80fd\u591f\u901a\u8fc7**UIViewRepresentable**\u534f\u8bae\u6765\u5728SwiftUI\u4e2d\u663e\u793aUIKit View\u3002\\n\\n1. \u65b0\u5efa\u6587\u4ef6\uff0c\u9009\u62e9`Swift File`\uff0c\u547d\u540d**ActivityIndicator**\\n2. \u66ff\u6362**import Foundation**\u4e3a**import SwiftUI**\\n```swift\\nimport SwiftUI\\n```\\n\\n3. \u4fee\u6539**ActivityIndicator**\u9075\u5faa**UIViewRepresentable**\u534f\u8bae\\n\\n```swift\\nstruct ActivityIndicator: UIViewRepresentable {\\n    var animating: Bool\\n    func updateUIView(_ activityIndicator: UIActivityIndicatorView, context: Context) {\\n        if self.animating {\\n            activityIndicator.startAnimating()\\n        } else {\\n            activityIndicator.stopAnimating()\\n        }\\n    }\\n\\n    func makeUIView(context: Context) -> UIActivityIndicatorView {\\n        return UIActivityIndicatorView()\\n    }\\n}\\n```\\n\\n4. \u6253\u5f00ContentView.swift\uff0c\u4f7f\u7528\u6211\u4eec\u521a\u521a\u7684**ActivityIndicator**\\n\\n```swift\\nstruct ContentView: View {\\n    @State var animated = false\\n    var body: some View {\\n        VStack {\\n            ActivityIndicator(animating: animated)                \\n            HStack {\\n                Toggle(isOn: $animated) {\\n                    Text(\\"Toggle Activity\\")\\n                }\\n            }\\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\uff1a\\n\\n![image-20211224150803446](https://tva1.sinaimg.cn/large/008i3skNgy1gxoxubn99dj30eq0uaglt.jpg)\\n\\n## How it works\u2026\\n\\n\u6211\u4eec\u901a\u8fc7\u5b9e\u73b0**UIViewRepresentable**\u534f\u8bae\u6765\u5c06UIKit View\u5305\u88f9\u4e3a\u4e00\u4e2aSwiftUI View\u3002\\n\\n\u5728 **ActivityIndicator.swift** \u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u4e00\u4e2a struct\uff0c \u9075\u5faa**UIViewRepresentable**\u534f\u8bae\u3002\\n\\n\u534f\u8bae\u8981\u6c42\u6211\u4eec\u5b9e\u73b0 **makeUIView** \u548c **updateUIView** \u8fd9\u4e24\u4e2a\u51fd\u6570\u3002\\n\\n **makeUIView** \u8d1f\u8d23\u521b\u5efa\u548c\u51c6\u5907View\\n\\n **updateUIView** \u8d1f\u8d23\u5f53animation\u6539\u53d8\u65f6\u66f4\u65b0 **UIView**\u3002"},{"id":"/2021/11/11/SwiftUI\u4e13\u8f91-008-\u4f7f\u7528SFSymbols\u663e\u793a\u7b80\u5355\u56fe\u5f62","metadata":{"permalink":"/2021/11/11/SwiftUI\u4e13\u8f91-008-\u4f7f\u7528SFSymbols\u663e\u793a\u7b80\u5355\u56fe\u5f62","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-11-SwiftUI\u4e13\u8f91-008-\u4f7f\u7528SFSymbols\u663e\u793a\u7b80\u5355\u56fe\u5f62/index.md","source":"@site/blog/2021-11-11-SwiftUI\u4e13\u8f91-008-\u4f7f\u7528SFSymbols\u663e\u793a\u7b80\u5355\u56fe\u5f62/index.md","title":"SwiftUI\u4e13\u8f91008-\u4f7f\u7528SF Symbols\u663e\u793a\u7b80\u5355\u56fe\u5f62","description":"headerimg","date":"2021-11-11T00:00:00.000Z","formattedDate":"2021\u5e7411\u670811\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.47,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91008-\u4f7f\u7528SF Symbols\u663e\u793a\u7b80\u5355\u56fe\u5f62","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91009-SwiftUI\u4e2d\u4f7f\u7528UIKit","permalink":"/2021/11/12/SwiftUI\u4e13\u8f91-009-SwiftUI\u4e2d\u4f7f\u7528UIKit"},"nextItem":{"title":"SwiftUI\u4e13\u8f91007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a","permalink":"/2021/11/10/SwiftUI\u4e13\u8f91-007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a"}},"content":"![headerimg](./Header.png)\\nSF Symbols\u63d0\u4f9b\u4e86\u8d85\u8fc73200\u79cdSymbols\u3002\\n\\n\u4f60\u53ef\u4ee5\u5728\u5b98\u7f51\u4e0b\u8f7dmacOS app\uff1a[SF-Symbols-3.dmg](https://developer.apple.com/sf-symbols/)\uff0c\u7136\u540e\u518dApp\u4e0a\u6d4f\u89c8\u5404\u79cdSF symbols\u3002\\n\\n\u672c\u7ae0\u6211\u4eec\u5c06\u5728label\u548cImage\u4e2d\u4f7f\u7528SF symbols\uff0c\u5e76\u4f7f\u7528modifier\u6765\u4fee\u6539symbles\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee**UsingSFSymbols**\u3002\\n\\n## How to do it\u2026\\n\\n1. \u6253\u5f00ContentView.swift\uff0c\u66ff\u6362\u9ed8\u8ba4\u7684Text\u4e3a\u4ee5\u4e0b\u4ee3\u7801\\n```swift\\nVStack {\\n    HStack {\\n        Image(systemName: \\"c\\")\\n        Image(systemName: \\"o\\")\\n        Image(systemName: \\"o\\")\\n        Image(systemName: \\"k\\")\\n    }.symbolVariant(.circle.fill)\\n        .foregroundStyle(.yellow, .blue)\\n        .font(.title)\\n}\\n```\\n\\n2. \u518d\u6dfb\u52a0\u4e00\u4e2aHStack\\n\\n```swift\\nHStack {\\n    Image(systemName: \\"b.circle.fill\\")\\n    Image(systemName: \\"o.circle.fill\\").foregroundColor(.red)\\n    Image(systemName: \\"o.circle.fill\\").imageScale(.large)\\n    Image(systemName: \\"k.circle.fill\\").accessibilityIdentifier(\\"letter k\\")\\n}.symbolVariant(.circle.fill)\\n    .foregroundColor(Color.blue)\\n    .font(.title)\\n    .padding()\\n\\n```\\n\\n3. \u518d\u6dfb\u52a0\u4e00\u4e2aHStack\\n\\n```swift\\nHStack{\\n    Image(systemName: \\"allergens\\")\\n    Image(systemName: \\"ladybug\\")\\n}.symbolVariant(.fill)\\n    .symbolRenderingMode(.multicolor)\\n    .font(.largeTitle)\\n```\\n\\n4. \u6700\u540e\uff0c\u6211\u4eec\u518d\u6dfb\u52a0\u4e00\u4e2aToggle\\n```swift\\nToggle(isOn: $wifi_on) {\\n    Label(\\"Wifi\\", systemImage: \\"wifi\\")\\n}.foregroundStyle(wifi_on ? .blue : .secondary)\\n    .padding()\\n```\\n\\n\u6700\u7ec8\u7ed3\u679c\\n\\n![image-20211224115211366](https://tva1.sinaimg.cn/large/008i3skNgy1gxos6im5lzj30e20tgdgd.jpg)\\n\\n## How it works\u2026\\n\\nSF Symbols \u5b9a\u4e49\u4e86\u4e00\u4e9b\u53d8\u4f53\uff0c\u6bd4\u5982`enclosed`,`fill`,`slash`\u3002\u8fd9\u4e9b\u4e0d\u540c\u7684\u53d8\u4f53\u80fd\u591f\u4f20\u8fbe\u4e0d\u540c\u7684\u4fe1\u606f\uff0c\u6bd4\u5982Wi-Fi symbol \u52a0\u4e0aslash\uff0c\u80fd\u591f\u8868\u8fbewifi\u4e0d\u53ef\u7528\u3002\\n\\n\u5728\u6211\u4eec\u7684\u7b2c\u4e00\u4e2aHStack\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 **.symbolVariant(.fill.circle)** \u6765\u5c06 **.fill** \u548c **.circle** \u5e94\u7528\u5230HStack\u4e2d\u7684\u6240\u6709items\u4e0a\u3002\u8fd9\u4e5f\u80fd\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\u5b9e\u73b0\uff1a\\n\\n```swift\\nHStack{         \\n \\tImage(systemName: \\"c.circle.fill\\")\\n  Image(systemName: \\"o.circle.fill \\")\\n  Image(systemName: \\"o.circle.fill \\")\\n  Image(systemName: \\"k.circle.fill \\")     \\n}\\n```\\n\\n\u7136\u800c\uff0c\u8fd9\u4e2a\u4ee3\u7801\u4e0d\u592a\u7075\u6d3b\uff0c\u6211\u4eec\u53ef\u80fd\u53ea\u9700\u8981**.circle** \u6216\u8005 **.fill** \uff0c\u6216\u8005\u90fd\u4e0d\u9700\u8981\u3002\\n\\n\u6211\u4eec\u4e5f\u6ce8\u610f\u5230\u4e86 **HStack** \u4e2d\u7684 .**foregroundStyle(...)** \u3002\u4ed6\u80fd\u63a5\u53d71\u4e2a\u30012\u4e2a\u6216\u80053\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u8bbe\u7f6eprimary, secondary, \u548c tertiary colors\u3002\u6709\u7684symbols\u53ef\u80fd\u4f1a\u540c\u65f6\u5305\u542b\u8fd93\u79cd\u989c\u8272\uff0c\u6216\u8005primary+secondary\uff0c\u6216\u8005primary+tertiary\u3002\\n\\n\u7b2c\u4e8c\u4e2aHStack\u4e5f\u6709 **.symbolVariant** , \u4e0d\u8fc7\u53ea\u67091\u4e2a\u53d8\u4f53\u3002\u540c\u65f6\u6211\u4eec\u770b\u5230\u4e86\u4e00\u4e2a\u65b0\u7684modifier: **.symbolRenderingMode()**\u3002Rendering modes\u80fd\u591f\u63a7\u5236\u989c\u8272\u5982\u4f55\u5e94\u7528\u5230symbols\u4e0a\u3002multicolor rendering mode \u5c06symbols\u6e32\u67d3\u4e3a\u591a\u5c42\u6837\u5f0f\u3002 \u6dfb\u52a0 **.multicolor** rendering mode\u8db3\u591f\u5c55\u793asymbol\u7684\u9ed8\u8ba4layer colors\u4e86\u3002 \u5176\u4ed6\u7684 rendering modes \u6709 **hierarchical**, **monochrome**, \u548c **palette**\u3002\\n\\n\u6700\u7ec8, \u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2awifi toggle\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636ewifi\u7684\u72b6\u6001\u6765\u6539\u53d8symbol\u7684\u989c\u8272\u3002\\n\\n## SymbolVariants\\n\\n\u6765\u770b\u770b\u5f53\u524d\u90fd\u6709\u4e9b\u4ec0\u4e48SymbolVariants\\n\\n```swift\\n//\u6ca1\u6709Variant\\nstatic let none: SymbolVariants\\n//\u5706\u5708\\nstatic let circle: SymbolVariants\\n//\u6b63\u65b9\u5f62\\nstatic let square: SymbolVariants\\n//\u957f\u65b9\u5f62\\nstatic let rectangle: SymbolVariants\\n//\u586b\u5145\\nstatic let fill: SymbolVariants\\n//\u659c\u7ebf\\nstatic let slash: SymbolVariants\\n```\\n\\n![image-20211224144455426](https://tva1.sinaimg.cn/large/008i3skNgy1gxox68hj1kj30ro0hcmy0.jpg)\\n\\n```swift\\nVStack(spacing: 20) {\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    .symbolVariant(.circle)\\n}\\n```\\n\\n![image-20211224144532250](https://tva1.sinaimg.cn/large/008i3skNgy1gxox6vslhjj30cc068glk.jpg)\\n\\n```swift\\nVStack(spacing: 20) {\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    .symbolVariant(.square)\\n}\\n```\\n\\n![image-20211224144633286](https://tva1.sinaimg.cn/large/008i3skNgy1gxox7xnvpoj30ce06o3yg.jpg)\\n\\n```swift\\nVStack(spacing: 20) {\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"plus\\")\\n        Image(systemName: \\"minus\\")\\n        Image(systemName: \\"xmark\\")\\n        Image(systemName: \\"checkmark\\")\\n    }\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"plus\\")\\n        Image(systemName: \\"minus\\")\\n        Image(systemName: \\"xmark\\")\\n        Image(systemName: \\"checkmark\\")\\n    }\\n    .symbolVariant(.rectangle)\\n}\\n```\\n\\n![image-20211224144707529](https://tva1.sinaimg.cn/large/008i3skNgy1gxox8j77c0j30d6068t8m.jpg)\\n\\n```swift\\nVStack(spacing: 20) {\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    .symbolVariant(.fill)\\n}\\n```\\n\\n![image-20211224144754740](https://tva1.sinaimg.cn/large/008i3skNgy1gxox9cavv8j30cc064t8m.jpg)\\n\\n```swift\\nVStack(spacing: 20) {\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    HStack(spacing: 20) {\\n        Image(systemName: \\"flag\\")\\n        Image(systemName: \\"heart\\")\\n        Image(systemName: \\"bolt\\")\\n        Image(systemName: \\"star\\")\\n    }\\n    .symbolVariant(.slash)\\n}\\n```\\n\\n![image-20211224144836914](https://tva1.sinaimg.cn/large/008i3skNgy1gxoxa340ljj30cw06swef.jpg)"},{"id":"/2021/11/10/SwiftUI\u4e13\u8f91-007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a","metadata":{"permalink":"/2021/11/10/SwiftUI\u4e13\u8f91-007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-10-SwiftUI\u4e13\u8f91-007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a/index.md","source":"@site/blog/2021-11-10-SwiftUI\u4e13\u8f91-007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a/index.md","title":"SwiftUI\u4e13\u8f91007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a","description":"headerimg","date":"2021-11-10T00:00:00.000Z","formattedDate":"2021\u5e7411\u670810\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.895,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91008-\u4f7f\u7528SF Symbols\u663e\u793a\u7b80\u5355\u56fe\u5f62","permalink":"/2021/11/11/SwiftUI\u4e13\u8f91-008-\u4f7f\u7528SFSymbols\u663e\u793a\u7b80\u5355\u56fe\u5f62"},"nextItem":{"title":"SwiftUI\u4e13\u8f91006-\u81ea\u5b9a\u4e49ViewModifier","permalink":"/2021/11/09/SwiftUI\u4e13\u8f91-006-\u81ea\u5b9a\u4e49ViewModifier"}},"content":"![headerimg](./Header.png)\\nApple\u5bf9ViewBuilder\u7684\u5b9a\u4e49\u662f: \u4e00\u4e2a\u81ea\u5b9a\u4e49\u53c2\u6570, \u80fd\u591f\u4ece\u95ed\u5305\u4e2d\u6784\u5efaViews\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u5c06\u516c\u5171View\u62bd\u79bb\u51fa\u6765\uff0c\u4ee5ViewBuilder\u4f5c\u4e3a\u53c2\u6570\uff0c\u6765\u5b9e\u73b0\u5dee\u5f02\u3002\\n\\n\u672c\u7ae0\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2aSwiftUI View\uff1a**BlueCircle**\uff0c\u5b83\u4f1a\u5728content\u7684\u53f3\u8fb9\u653e\u7f6e\u4e00\u4e2ablue circle\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff1a**UsingViewBuilder**\u3002\\n\\n## How to do it\u2026\\n\\n1. \u65b0\u5efa\u6587\u4ef6\\n2. \u9009\u62e9SwiftUI View\\n3. \u53d6\u540d**BlueCircle**\\n4. \u5220\u9664**BlueCircle_Previews**\\n5. \u6dfb\u52a0\u4ee3\u7801\\n```swift\\nstruct BlueCircle<Content: View>: View {\\n    let content: Content\\n    \\n    init(@ViewBuilder content: () -> Content) {\\n        self.content = content()\\n    }\\n    \\n    var body: some View {\\n        HStack {\\n            content\\n            Spacer()\\n            Circle().fill(Color.blue).frame(width: 20, height: 30)\\n        }.padding()\\n    }\\n}\\n```\\n\\n6. \u6253\u5f00ContentView\uff0c\u4f7f\u7528BlueCircle\\n```swift\\nstruct ContentView: View {\\n    var body: some View {\\n        BlueCircle {\\n            Text(\\"some text here\\")\\n            Rectangle().fill(Color.red).frame(width: 40, height: 40)\\n        }\\n        BlueCircle {\\n            Text(\\"hello world\\")\\n        }\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u5f97\u5230\u7ed3\u679c\\n\\n![image-20211224104842400](https://tva1.sinaimg.cn/large/008i3skNgy1gxoqchw6tej30hi0z0q3f.jpg)\\n\\n## ViewBuilder\\n\\n```swift\\n@resultBuilder struct ViewBuilder\\nstatic func buildBlock<Content>(_ content: Content) -> Content where Content : View\\nstatic func buildBlock<C0, C1>(_ c0: C0, _ c1: C1) -> TupleView<(C0, C1)> where C0 : View, C1 : View\\n....\\n//\u6211\u4eec\u53ef\u4ee5\u770b\u5230ViewBuilder\u652f\u6301\u7684\u6700\u5927\u53c2\u6570\u4e3aC0\u5230C9,\u603b\u517110\u4e2aView\\n//\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u5f53\u6211\u4eec\u6dfb\u52a0\u8d85\u8fc710\u4e2a\u5b50View\u540e\u4f1a\u62a5\u9519\u7684\u539f\u56e0\uff0c\u6b64\u65f6\u6211\u4eec\u9700\u8981\u7528Group\u6765\u51cf\u5c11\u76f4\u63a5\u5b50View\u7684\u6570\u91cf\\nstatic func buildBlock<C0, C1, C2, C3, C4, C5, C6, C7, C8, C9>(_ c0: C0, _ c1: C1, _ c2: C2, _ c3: C3, _ c4: C4, _ c5: C5, _ c6: C6, _ c7: C7, _ c8: C8, _ c9: C9) -> TupleView<(C0, C1, C2, C3, C4, C5, C6, C7, C8, C9)> where C0 : View, C1 : View, C2 : View, C3 : View, C4 : View, C5 : View, C6 : View, C7 : View, C8 : View, C9 : View\\n```"},{"id":"/2021/11/09/SwiftUI\u4e13\u8f91-006-\u81ea\u5b9a\u4e49ViewModifier","metadata":{"permalink":"/2021/11/09/SwiftUI\u4e13\u8f91-006-\u81ea\u5b9a\u4e49ViewModifier","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-09-SwiftUI\u4e13\u8f91-006-\u81ea\u5b9a\u4e49ViewModifier/index.md","source":"@site/blog/2021-11-09-SwiftUI\u4e13\u8f91-006-\u81ea\u5b9a\u4e49ViewModifier/index.md","title":"SwiftUI\u4e13\u8f91006-\u81ea\u5b9a\u4e49ViewModifier","description":"headerimg","date":"2021-11-09T00:00:00.000Z","formattedDate":"2021\u5e7411\u67089\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":1.29,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91006-\u81ea\u5b9a\u4e49ViewModifier","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a","permalink":"/2021/11/10/SwiftUI\u4e13\u8f91-007-\u4f7f\u7528ViewBuilder\u6765\u5206\u79bb\u5c55\u793a"},"nextItem":{"title":"SwiftUI\u4e13\u8f91005-\u5404\u79cdpickers","permalink":"/2021/11/08/SwiftUI\u4e13\u8f91-005-\u5404\u79cdpickers"}},"content":"![headerimg](./Header.png)\\nSwiftUI\u4e3a\u4f60\u63d0\u4f9b\u4e86\u81ea\u5b9a\u4e49modifiers\u7684\u80fd\u529b\u3002\\n\u4f60\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49modifiers\u5c06\u591a\u4e2amodifiers\u5408\u6210\u4e00\u4e2a\u3002\\n\u672c\u7ae0\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49modifier\uff0c\u4ed6\u80fd\u591f\u4e3aTextView\u6dfb\u52a0\u5706\u89d2\u548c\u80cc\u666f\u3002\\n\x3c!--truncate--\x3e\\n\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b**UsingViewModifiers**\u3002\\n\\n## How to do it\u2026\\n\\n1. \u4fee\u6539**ContentView**\u4e2d\u7684text\u4e3a**Perfect**\u3002\\n\\n```swift\\nText(\\"Perfect\\")\\n```\\n\\n2. \u5728**ContentView.swift**\u4e2d\uff0c\u65b0\u5efa\u4e00\u4e2astruct\uff0c\u9075\u5faa**ViewModifier**\uff0c\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570**Color**\u3002\\n\\n```swift\\nstruct BackgroundStyle: ViewModifier {\\n    var bgColor: Color\\n    func body(content: Content) -> some View{\\n        content\\n        .frame(width:UIScreen.main.bounds.width * 0.3)\\n        .foregroundColor(Color.black)\\n        .padding()\\n        .background(bgColor)\\n        .cornerRadius(CGFloat(20))\\n    }\\n}\\n```\\n\\n3. \u4e3aText\u6dfb\u52a0\u4e00\u4e2a**modifier**\u3002\\n```swift\\nText(\\"Perfect\\").modifier(BackgroundStyle(bgColor:.blue))\\n```\\n\\n4. \u5f53\u7136\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u7528**modifier**, \u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2aextension\u3002\\n```swift\\nextension View {\\n    func backgroundStyle(color: Color) -> some View{\\n        self.modifier(BackgroundStyle(bgColor: color))\\n    }\\n}\\n```\\n\\n5. \u5c06\u6211\u4eec\u7684modifier\u4fee\u6539\u4e3a\u521a\u521a\u7684extension\\n```swift\\nText(\\"Perfect\\").backgroundStyle(color: Color.red)\\n```\\n\\n![image-20211223212239097](https://tva1.sinaimg.cn/large/008i3skNgy1gxo31sxp0vj30fg0v80t3.jpg)\\n\\n## How it works\u2026\\n\\n\u4e00\u4e2a **ViewModifier**\u901a\u8fc7\u4fee\u6539\u539f\u6765\u4fee\u9970\u7684View\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684View  \u3002\\n\\n\u901a\u8fc7\u901a\u8fc7\u9075\u5faaViewModifier\u534f\u8bae\u6765\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49modifier\u3002\\n\\n\u901a\u8fc7.modifier()\u6765\u5e94\u7528\u6211\u4eec\u81ea\u5b9a\u4e49\u7684modifier\u3002\\n\\n\u901a\u8fc7extension\u6765\u6dfb\u52a0\u66f4\u65b9\u4fbf\u7684Api\u3002"},{"id":"/2021/11/08/SwiftUI\u4e13\u8f91-005-\u5404\u79cdpickers","metadata":{"permalink":"/2021/11/08/SwiftUI\u4e13\u8f91-005-\u5404\u79cdpickers","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-08-SwiftUI\u4e13\u8f91-005-\u5404\u79cdpickers/index.md","source":"@site/blog/2021-11-08-SwiftUI\u4e13\u8f91-005-\u5404\u79cdpickers/index.md","title":"SwiftUI\u4e13\u8f91005-\u5404\u79cdpickers","description":"headerimg","date":"2021-11-08T00:00:00.000Z","formattedDate":"2021\u5e7411\u67088\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":7.61,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91005-\u5404\u79cdpickers","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91006-\u81ea\u5b9a\u4e49ViewModifier","permalink":"/2021/11/09/SwiftUI\u4e13\u8f91-006-\u81ea\u5b9a\u4e49ViewModifier"},"nextItem":{"title":"SwiftUI\u4e13\u8f91004-Button\u4ee5\u53ca\u8df3\u8f6c","permalink":"/2021/11/07/SwiftUI\u4e13\u8f91-004-Button\u4ee5\u53ca\u8df3\u8f6c"}},"content":"![headerimg](./Header.png)\\npickers\u662f\u7528\u6765\u63d0\u4f9b\u7ed9\u7528\u6237\u9009\u62e9\u67d0\u4e2a\u503c\u7684\u3002\\n\u672c\u6587\u5c06\u4ecb\u7ecd\u4ee5\u4e0b\u7684pickers\\n- **Picker**\\n- **Toggle**\\n- **Slider**\\n- **Stepper**\\n- **DatePicker**\\n- **ColorPicker**\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff0c\u53eb\u505a**PickersApp**\u3002\\n\\n## How to do it\u2026\\n\\n1. \u5728**ContentView.swift**\u521b\u5efa\u597dState\uff0c\u4ee5\u7ed1\u5b9a\u5404\u4e2apickers\u7684value\u3002\\n```swift\\n@State var choice = 0\\n@State var showText = false\\n@State var transitModes = [\\"Bike\\", \\"Car\\", \\"Bus\\"]\\n@State var sliderVal: Float = 0\\n@State var stepVal = 0\\n@State var gameTime = Date()\\n```\\n\\n2. \u5728Body\u4e2d\u52a0\u5165\u4e00\u4e2a`Form`\u3001`Section`\u3001`Picker`\u3002\\n```swift\\nstruct ContentView: View {\\n    @State var choice = 0\\n    @State var showText = false\\n    @State var transitModes = [\\"Bike\\", \\"Car\\", \\"Bus\\"]\\n    @State var sliderVal: Float = 0\\n    @State var stepVal = 0\\n    @State var gameTime = Date()\\n    \\n    var body: some View {\\n        Form {\\n            Section {\\n                Picker(\\"Transit Modes\\", selection: $choice) {\\n                    ForEach(0..<transitModes.count) { index in\\n                        Text(\\"\\\\(self.transitModes[index])\\")\\n                    }\\n                }.pickerStyle(.segmented)\\n                Text(\\"Current choice: \\\\(self.transitModes[choice])\\")\\n            }\\n        }\\n    }\\n}\\n```\\n\\n3. \u518d\u6dfb\u52a0\u4e00\u4e2asection\uff0c\u52a0\u5165`Toggle`\\n```swift\\nSection {\\n    Toggle(isOn: $showText) {\\n        Text(\\"Show Text\\")\\n    }\\n    if showText {\\n        Text(\\"The Text toggle is on\\")\\n    }\\n}\\n```\\n\\n4. \u518d\u6dfb\u52a0\u4e00\u4e2asection\uff0c\u52a0\u5165`Slider`\\n```swift\\nSection {\\n\\tSlider(value: $sliderVal, in: 0...10, step: 0.001)\\n\\tText(\\"Slider current value\\\\(sliderVal, specifier: \\"%.1f\\")\\")\\n}\\n```\\n\\n5. \u518d\u6dfb\u52a0\u4e00\u4e2asection\uff0c\u52a0\u5165`Stepper`\\n```swift\\nSection {\\n    Stepper(\\"Stepper\\", value: $stepVal, in: 0...5)\\n    Text(\\"Stepper current value\\\\(stepVal)\\")\\n}\\n```\\n\\n6. \u518d\u6dfb\u52a0\u4e00\u4e2asection\uff0c\u52a0\u5165`DatePicker`\\n```swift\\n Section {\\n\\tDatePicker(\\"Please select a date\\", selection: $gameTime)\\n}\\n```\\n\\n7. \u518d\u6dfb\u52a0\u4e00\u4e2asection\uff0c\u52a0\u5165`DatePicker`,\u518d\u9650\u5236\u4e0b\u65f6\u95f4\u8303\u56f4\\n\\n```swift\\nSection {\\n  DatePicker(\\"select a date\\", selection: $gameTime, in: Date()...)\\n}\\n```\\n\\n\u6700\u7ec8\u5982\u4e0b\\n\\n![image-20211223113151810](https://tva1.sinaimg.cn/large/008i3skNgy1gxnlz3hh9zj30i80xuaba.jpg)\\n\\n## How it works\u2026\\n\\n`Picker`\u662f\u7528\u6765\u4ece\u4e00\u7ec4\u503c\u4e2d\u9009\u62e9\u67d0\u4e00\u4e2a\u7684\uff0c\u8bbe\u7f6estyle\u4e3aSegmented\u5c31\u5f97\u5230\u4e86\u4e00\u4e2aUIKit\u7684SegmentView\u3002\\n\\n`Toggle`\u63a7\u5236\u5f00\u548c\u5173\uff0c\u5f53\u524d\u72b6\u6001\u5b58\u50a8\u5728binding\u7684vlaue\u4e2d\u3002\\n\\n`Slider`\u9700\u89813\u4e2a\u53c2\u6570: \\n\\n- **value**: \u5f53\u524d\u503c\\n- **in**\uff1a slider\u7684\u8303\u56f4\\n- **step**\uff1a \u6b65\u8fdb\u7684\u503c\\n\\n`Stepper`\u4e5f\u540cSlider\u4e00\u6837\u9700\u8981\u90a33\u4e2a\u53c2\u6570\u3002\\n\\n\u6700\u540e\u6f14\u793a\u4e86\u4e00\u4e0bDatePicker\u7684\u4f7f\u7528\uff0c\u6ce8\u610fbinding\u7684\u7c7b\u578b\u662fdate\u3002\\n\\n> picker\u7684style\u4f1a\u6839\u636e\u4ed6\u7684\u5bb9\u5668\u4e0d\u540c\u800c\u4e0d\u540c\u3002\u6bd4\u5982\u5728Form\u6216\u8005List\u4e2d\u7684picker\u4f1a\u548c\u5728VStack\u4e2d\u7684\u4e0d\u4e00\u6837\u3002\\n>\\n> \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7`.pickerStyle`\u6765\u4fee\u6539\u9ed8\u8ba4style\u3002\\n\\n## Api\u8be6\u60c5\\n\\n### Picker\\n\\n#### Creating a Picker\\n\\n```swift\\n///SelectionValue\u9075\u5faaHashable\uff0c Content\u548cLabel\u90fd\u9075\u5faaView\\ninit(selection: Binding<SelectionValue>, content: () -> Content, label: () -> Label)\\n```\\n\\n> \u6ce8\u610fPicker\u7684\u6bcf\u4e2a\u9009\u9879\u90fd\u9700\u8981\u5e26\u4e0atag\uff0c\u800c\u4e14tag\u7684\u503c\u548c\u7c7b\u578b\u8981\u548cBinding\u7684\u53d8\u91cf\u4e00\u6837\u3002\\n\\n```swift\\nenum Flavor: String, CaseIterable {\\n    case chocolate\\n    case vanilla\\n    case strawberry\\n}\\nstruct ContentView: View {\\n    @State var selectedFlavor: Flavor = .chocolate\\n    var body: some View {\\n        Form {\\n            Section {\\n                Picker(\\"Flaver\\", selection: $selectedFlavor) {\\n                   //\u6ce8\u610f\u9700\u8981\u6807\u4e0atag\uff0c\u800c\u4e14\u7c7b\u578b\u9700\u8981\u548cBinding\u7684\u4e00\u6837\\n                    Text(\\"\\\\(Flavor.chocolate.rawValue)\\").tag(Flavor.chocolate)\\n                    Text(\\"\\\\(Flavor.vanilla.rawValue)\\").tag(Flavor.vanilla)\\n                    Text(\\"\\\\(Flavor.strawberry.rawValue)\\").tag(Flavor.strawberry)\\n                }.pickerStyle(.segmented)\\n                Text(\\"Current Flaver: \\\\(selectedFlavor.rawValue)\\")\\n            }    \\n        }\\n    }\\n}\\n```\\n\\n\u53ef\u80fd\u6709\u4eba\u5c31\u6709\u7591\u95ee\u4e86\uff0c\u4e3a\u4ec0\u4e48\u5728`how to do`\u90a3\u91cc\u7684Picker\u7684\u4f8b\u5b50\u5c31\u6ca1\u6709\u6253tag\u5462\uff1f\\n\\n\u56e0\u4e3aForEach\u4f1a\u81ea\u52a8\u4e3a\u4f60\u6253tag\uff0c\u8fd9\u4e2atag\u7684\u503c\u662f\u9075\u5faa\u4e86`Identifiable`\u534f\u8bae\u7684\u5bf9\u8c61\u7684id\u5b57\u6bb5\u3002\u6240\u4ee5\u4e4b\u524d\u7684\u90a3\u4e2a\u4f8b\u5b50\u4e0d\u7528\u663e\u793a\u7684\u5e26\u4e0atag\u3002\u5982\u679c\u6211\u4eec\u8981\u6539\u5199\u4e0a\u9762\u7684\u4f8b\u5b50\u7528ForEach\u5b9e\u73b0\u5462\uff1f\\n\\n```swift\\n///\u9075\u5faaIdentifiable\u534f\u8bae\\nenum Flavor: String, CaseIterable, Identifiable {\\n    case chocolate\\n    case vanilla\\n    case strawberry\\n    var id: Flavor { self }\\n}\\nstruct ContentView: View {\\n    @State var selectedFlavor: Flavor = .chocolate\\n    var body: some View {\\n        Form {\\n            Section {\\n                Picker(\\"Flaver\\", selection: $selectedFlavor) {\\n                    // \u4e0d\u7528\u663e\u793a\u7684\u6253tag\uff0c\u9ed8\u8ba4\u7528id\u4f5c\u4e3atag\uff0cid\u548cBinding\u90fd\u662fFlavor\u7c7b\u578b\u7684\\n                    // \u5f53\u7136\uff0c\u5982\u679c\u4f60\u613f\u610f\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5df1\u663e\u793a\u7684\u6307\u5b9atag\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tForEach(Flavor.allCases) { flavor in\\n                        Text(\\"\\\\(flavor.rawValue)\\")\\n                    }\\n                }.pickerStyle(.segmented)\\n                Text(\\"Current Flaver: \\\\(selectedFlavor.rawValue)\\")\\n            }    \\n        }\\n    }\\n}\\n```\\n\\n#### Styling Pickers\\n\\n```swift\\n/// \u8bbe\u7f6epicker\u7684\u6837\u5f0f\\nfunc pickerStyle<S>(_ style: S) -> some View where S : PickerStyle\\n```\\n\\n```swift\\n//segment\u6837\u5f0f\\nstatic var segmented: SegmentedPickerStyle { get }\\n```\\n\\n```swift\\n//\u7c7b\u4f3c\u4e8eUIPicker\u7684\u90a3\u79cd\u6eda\u8f6e\u6837\u5f0f\\nstatic var wheel: WheelPickerStyle { get }\\n```\\n\\n![image-20211223142959083](https://tva1.sinaimg.cn/large/008i3skNgy1gxnr4e090vj30ge0cowek.jpg)\\n\\n```swift\\n//macOS\u4e0a\u7684\u52fe\u9009\u6837\u5f0f\\nstatic var radioGroup: RadioGroupPickerStyle { get }\\n```\\n\\n```swift\\n//\u83dc\u5355\uff0c\u7c7b\u4f3c\u4e8eUIPopoverController\uff0c\u70b9\u4e86\u51fa\u73b0\u5c0f\u5f39\u7a97\uff0c\u5305\u542b\u6240\u6709\u9009\u9879\\nstatic var menu: MenuPickerStyle { get }\\n```\\n\\n![image-20211223142823304](https://tva1.sinaimg.cn/large/008i3skNgy1gxnr2qhu8rj30hs0am74h.jpg)\\n\\n```swift\\n//\u6240\u6709\u9009\u9879\u90fd\u540c\u65f6\u663e\u793a\u51fa\u6765\uff0c\\nstatic var inline: InlinePickerStyle { get }\\n```\\n\\n![image-20211223142709578](https://tva1.sinaimg.cn/large/008i3skNgy1gxnr1g1v55j30hi0aw74g.jpg)\\n\\n### Toggle\\n\\n#### Creating a Toggle\\n\\n```swift\\ninit(isOn: Binding<Bool>, label: () -> Label)\\n...\\n```\\n\\n#### Creating a Toggle from a Configuration\\n\\n```swift\\n//\u901a\u5e38\u7528\u5728\u81ea\u5b9a\u4e49ToggleStyle\u4e2d\\ninit(_ configuration: ToggleStyleConfiguration)\\n```\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\\n\\n```swift\\nstruct RedBorderToggleStyle: ToggleStyle {\\n    func makeBody(configuration: Configuration) -> some View {\\n        Toggle(configuration)//\u901a\u8fc7cinfiguration\u521d\u59cb\u5316\\n            .padding()\\n            .border(Color.red)\\n    }\\n}\\n\\nToggle(isOn: $showText) {\\n      Text(\\"Show Text\\")\\n}.toggleStyle(RedBorderToggleStyle())\\n```\\n\\n#### Styling a Toggle\\n\\n```swift\\nfunc toggleStyle<S>(_ style: S) -> some View where S : ToggleStyle\\n```\\n\\n\u4e0b\u9762\u662f\u4e00\u4e9b\u9ed8\u8ba4\u7684style\\n\\n```swift\\n/// switch\u6837\u5f0f\\nstatic var `switch`: SwitchToggleStyle { get }\\n```\\n\\n```swift\\n/// label\u4f5c\u4e3abtn, on\u7684\u65f6\u5019\uff0c\u80cc\u666f\u8bbe\u4e3atintColor\\nstatic var button: ButtonToggleStyle { get }\\n```\\n\\n![image-20211223144303808](https://tva1.sinaimg.cn/large/008i3skNgy1gxnrhzplnnj30ps0fcgm1.jpg)\\n\\n```swift\\n/// \u52fe\u9009\u6846\uff0c\u53ea\u6709macOS\u6709\\nstatic var checkbox: CheckboxToggleStyle { get }\\n```\\n\\n![image-20211223144416027](https://tva1.sinaimg.cn/large/008i3skNgy1gxnrj91cugj30ho04i749.jpg)\\n\\n### Slider\\n\\n```swift\\n/**\\nvalue : binding\u7684\u503c\\nbounds: \u503c\u7684\u8303\u56f4\\nstep: \u6b65\u8fdb\u7684\u5927\u5c0f\\nlabel: \u63cf\u8ff0\u7684view\\nminimumValueLabel\\nmaximumValueLabel\u6700\u5927\u548c\u6700\u5c0f\u7aef\u7684view\\n*/\\ninit<V>(value: Binding<V>, in bounds: ClosedRange<V>, step: V.Stride = 1, label: () -> Label, minimumValueLabel: () -> ValueLabel, maximumValueLabel: () -> ValueLabel, onEditingChanged: @escaping (Bool) -> Void = { _ in }) where V : BinaryFloatingPoint, V.Stride : BinaryFloatingPoint\\n```\\n\\n### Stepper\\n\\n#### Creating a Stepper \\n\\n```swift\\n/**\\nvalue : binding\u7684\u503c\\nbounds: \u503c\u7684\u8303\u56f4\\nstep: \u6b65\u8fdb\u7684\u5927\u5c0f\\nlabel: \u63cf\u8ff0\u7684view\\n*/\\ninit<V>(value: Binding<V>, in bounds: ClosedRange<V>, step: V.Stride = 1, label: () -> Label, onEditingChanged: @escaping (Bool) -> Void = { _ in }) where V : Strideable\\n```\\n\\n#### Creating a Stepper with Specified Increment and Decrement Behavior\\n\\n```swift\\n// \u4e0d\u5728\u548c\u67d0\u4e2avalue\u7ed1\u5b9a\uff0c\u5c06\u4e24\u4e2a\u6309\u94ae\u7684\u4e8b\u4ef6\u66b4\u9732\u51fa\u6765\uff0c\u63d0\u4f9b\u7ed9\u4f60\u81ea\u5b9a\u4e49\u4f60\u7684\u903b\u8f91\\ninit(label: () -> Label, onIncrement: (() -> Void)?, onDecrement: (() -> Void)?, onEditingChanged: @escaping (Bool) -> Void = { _ in })\\n```\\n\\n### DatePicker\\n\\n#### Creating a Date Picker\\n\\n```swift\\ninit(selection: Binding<Date>, displayedComponents: DatePicker<Label>.Components = [.hourAndMinute, .date], label: () -> Label)\\n/// \u53ef\u4ee5\u6307\u5b9arange, start...end\\ninit(selection: Binding<Date>, in range: ClosedRange<Date>, displayedComponents: DatePicker<Label>.Components = [.hourAndMinute, .date], label: () -> Label)\\n/// \u53ef\u4ee5\u6307\u5b9arange, start...\\ninit(selection: Binding<Date>, in range: PartialRangeFrom<Date>, displayedComponents: DatePicker<Label>.Components = [.hourAndMinute, .date], label: () -> Label)\\n/// \u53ef\u4ee5\u6307\u5b9arange, ...end\\ninit(selection: Binding<Date>, in range: PartialRangeThrough<Date>, displayedComponents: DatePicker<Label>.Components = [.hourAndMinute, .date], label: () -> Label)\\n```\\n\\n#### Setting Date Picker Components\\n\\n```swift\\n//\u8bbe\u7f6e\u663e\u793a\u7684components\\nstatic let date: DatePickerComponents// \u5e74\u6708\u65e5\\nstatic let hourAndMinute: DatePickerComponents//\u5c0f\u65f6\uff0c\u5206\u949f\\n```\\n\\n#### Styling Date Pickers\\n\\n```swift\\n///\u8bbe\u7f6epicker\u6837\u5f0f\\nfunc datePickerStyle<S>(_ style: S) -> some View where S : DatePickerStyle\\n```\\n\\n```swift\\nstatic var wheel: WheelDatePickerStyle { get }\\n```\\n\\n![image-20211223152724050](https://tva1.sinaimg.cn/large/008i3skNgy1gxnss4kk3mj30ga0ce74g.jpg)\\n\\n```swift\\n/// macOS\u4e0a\u7279\u6709\u7684\uff0c\u7c7b\u4f3c\u4e8eStepper\\nstatic var stepperField: StepperFieldDatePickerStyle { get }\\n/// macOS\u4e0a\u7279\u6709\u7684\\nstatic var field: FieldDatePickerStyle { get }\\n```\\n\\n```swift\\nstatic var graphical: GraphicalDatePickerStyle { get }\\n```\\n\\n![image-20211223152907356](https://tva1.sinaimg.cn/large/008i3skNgy1gxnstx1k4wj30h00hoaak.jpg)\\n\\n```swift\\n///component\u4ee5\u6587\u672c\u683c\u5f0f\u663e\u793a\\nstatic var compact: CompactDatePickerStyle { get }\\n```\\n\\n![image-20211223153206130](https://tva1.sinaimg.cn/large/008i3skNgy1gxnsx112spj30gu04y3yg.jpg)\\n\\n### ColorPicker\\n\\n\u9009\u62e9\u989c\u8272\\n\\n```swift\\n///\u7ed1\u5b9aColor\\ninit(selection: Binding<Color>, supportsOpacity: Bool = true, label: () -> Label)\\n///\u7ed1\u5b9aCGColor\\ninit(selection: Binding<CGColor>, supportsOpacity: Bool = true, label: () -> Label)\\n```\\n\\n```swift\\nColorPicker(selection: $color) {\\n\\tText(\\"\u9009\u62e9\u989c\u8272\\")\\n}\\n```\\n\\n![image-20211223153959117](https://tva1.sinaimg.cn/large/008i3skNgy1gxnt5817uvj30gm03cwec.jpg)"},{"id":"/2021/11/07/SwiftUI\u4e13\u8f91-004-Button\u4ee5\u53ca\u8df3\u8f6c","metadata":{"permalink":"/2021/11/07/SwiftUI\u4e13\u8f91-004-Button\u4ee5\u53ca\u8df3\u8f6c","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-07-SwiftUI\u4e13\u8f91-004-Button\u4ee5\u53ca\u8df3\u8f6c/index.md","source":"@site/blog/2021-11-07-SwiftUI\u4e13\u8f91-004-Button\u4ee5\u53ca\u8df3\u8f6c/index.md","title":"SwiftUI\u4e13\u8f91004-Button\u4ee5\u53ca\u8df3\u8f6c","description":"headerimg","date":"2021-11-07T00:00:00.000Z","formattedDate":"2021\u5e7411\u67087\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":5.885,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91004-Button\u4ee5\u53ca\u8df3\u8f6c","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91005-\u5404\u79cdpickers","permalink":"/2021/11/08/SwiftUI\u4e13\u8f91-005-\u5404\u79cdpickers"},"nextItem":{"title":"SwiftUI\u4e13\u8f91003-\u4f7f\u7528Image","permalink":"/2021/11/06/SwiftUI\u4e13\u8f91-003-\u4f7f\u7528Image"}},"content":"![headerimg](./Header.png)\\n\u672c\u7ae0\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u5404\u79cdButton\u548c\u5982\u4f55\u8df3\u8f6c\u3002\\n\\n- Button\\n- EditButton\\n- PasteButton\\n- NavigationView\\n- NavigationLink\\n\\n\x3c!--truncate--\x3e\\n\\n## Getting ready\\n\\n\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a**ButtonsApp**\u7684SwiftUI\u5de5\u7a0b\u3002\\n\\n## How to do it\u2026\\n\\n1. \u65b0\u5efa\u6587\u4ef6\\n2. \u6a21\u677f\u9009\u62e9**SwiftUI View**\\n3. \u8f93\u5165\u540d\u79f0**ButtonView**\\n4. \u91cd\u590d\u4e0a\u9762\u6b65\u9aa4\uff0c\u521b\u5efa**EditButtonView**\\n5. \u91cd\u590d\u4e0a\u9762\u6b65\u9aa4\uff0c\u521b\u5efa**PasteButtonView**\\n6. \u91cd\u590d\u4e0a\u9762\u6b65\u9aa4\uff0c\u521b\u5efa**MenuButtonView**\uff0c(**MenuButton**\u5df2\u7ecf\u5f03\u7528\u4e86\uff0c\u4f7f\u7528**Menu**)\\n7. \u6253\u5f00**ContentView.swift**\uff0c\u5728body\u4e2d\u6dfb\u52a0\u4e00\u4e2a**NavigationView**\\n```swift\\nNavigationView {\\n    VStack {\\n        NavigationLink(destination: ButtonView()) {\\n            Text(\\"Buttons\\").padding()\\n        }\\n        NavigationLink(destination: EditButtonView()) {\\n            Text(\\"EditButtons\\").padding()\\n        }\\n        NavigationLink(destination: MenuButtonView()) {\\n            Text(\\"MenuButtons\\").padding()\\n        }\\n        NavigationLink(destination: PasteButtonView()) {\\n            Text(\\"PasteButtons\\").padding()\\n        }\\n        NavigationLink(destination:\\n            Text(\\"Very long text that should not be displayed in a single line because it is not good design\\")\\n                .padding()\\n                .navigationBarTitle(Text(\\"Detail\\"))\\n        ) {\\n            Text(\\"details about text\\").padding()\\n        }\\n}.navigationBarTitle(Text(\\"Main View\\"), displayMode:.inline)\\n\\n```\\n\\n\u6700\u7ec8\u663e\u793a\u5982\u4e0b\uff1a\\n\\n![image-20211222163022220](https://tva1.sinaimg.cn/large/008i3skNly1gxmozc7y7pj30ci0oyjrs.jpg)\\n\\n8. \u6253\u5f00**EditButtonView.swift**\uff0c\u6dfb\u52a0\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u5b9e\u73b0**EditButton**\u3002\\n```swift\\nstruct EditButtonView: View {\\n    @State private var animals = [\\"Cats\\", \\"Dogs\\", \\"Goats\\"]\\n    var body: some View {\\n        NavigationView {\\n            List {\\n                ForEach(animals, id: \\\\.self) { animal in\\n                    Text(animal)\\n                }.onDelete(perform: removeAnimal)\\n            }\\n        }.navigationBarItems(trailing: EditButton())\\n        .navigationBarTitle(Text(\\"EditButtonView\\"), displayMode: .inline)\\n    }\\n    \\n    func removeAnimal(at offsets: IndexSet){\\n        animals.remove(atOffsets: offsets)\\n    }\\n}\\n```\\n\\n\u6700\u7ec8\u5f97\u5230\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684Edit\u6309\u94ae\uff0cList\u4f1a\u8fdb\u5165\u7f16\u8f91\u72b6\u6001\u3002\\n\\n![20211222164221](https://tva1.sinaimg.cn/large/008i3skNgy1gxmpcje8g3j305k0bedfr.jpg)\\n\\n9. \u6253\u5f00**MenuButtonView.swift**\uff0c \u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\\n```swift\\nvar body: some View {\\n\\tText(\\"MenuButtons are currently available on MacOS currently\\")\\n  .padding()\\n  .navigationBarTitle(\\"MenuButtons\\", displayMode:.inline)\\n\\n/*\\nMenuButton(\\"country +\\") {\\nButton(\\"USA\\") { print(\\"Selected USA\\") }.background(Color.accentColor)\\nButton(\\"India\\") { print(\\"Selected India\\") }\\n}\\n*/\\n}\\n\\n```\\n\\n10. \u6253\u5f00**PasteButtonView.swift**\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\\n```swift\\nstruct PasteButtonView: View {\\n    var body: some View {\\n        VStack {\\n            Text(\\"PasteButton controls how you paste in macOS but is not available in iOS. For more information, check the \\\\\\"See also\\\\\\" section of this recipe\\")\\n                .padding()\\n        }.navigationBarTitle(\\"PasteButton\\", displayMode: .inline)\\n    }\\n}\\n```\\n\\n## How it works\u2026\\n\\n**NavigationLink**\u5fc5\u987b\u653e\u5728**NavigationView**\u91cc\u4f7f\u7528\u3002\\n\\n **NavigationLink** \u9700\u8981\u4e24\u4e2a\u53c2\u6570**destination** \u548c **label**\u3002**destination**\u4ee3\u8868\u70b9\u51fb\u540e\u8df3\u8f6c\u7684View\u3002**label**\u4ee3\u8868\u663e\u793a\u7684\u5185\u5bb9\u3002\\n\\n`.navigationBarTitle`modifier\u7ed9ContentView\u754c\u9762\u6dfb\u52a0\u4e86\u4e2atitle\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5b9atitle\u7684\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9atitle\u663e\u793a\u7684\u6a21\u5f0f\u3002.inline\u4ee3\u8868\u5728\u6807\u51c6\u7684navigationBar\u4e2d\u663e\u793a\u3002\\n\\n\u5176\u4ed6\u51e0\u4e2a\u754c\u9762\u4e5f\u6709\u6307\u5b9a`.navigationBarTitle`\uff0c\u4f46\u662f\u5728preview\u4e2d\u4e0d\u4f1a\u663e\u793a\uff0c\u5728\u8fd0\u884c\u65f6\u624d\u4f1a\u663e\u793a\u3002\\n\\n**EditButton**\u548c**List**\u4e00\u8d77\u4f7f\u7528\uff0c\u8ba9List\u53ef\u7f16\u8f91\u3002\u6211\u4eec\u4e4b\u540e\u518d\u5b66\u4e60List\u3002\\n\\n**MenuButtons**\u548c**PasteButtons**\u53ea\u80fd\u5728macOS\u4e2d\u4f7f\u7528\u3002MenuButtons\u5df2\u88ab\u5f03\u7528\uff0c\u53ef\u4ee5\u4e0d\u7528\u770b\u4e86\u3002\\n\\nPasteButton\u53ef\u53c2\u8003\u5b98\u65b9\u6587\u6863\u4e2d\u7684\u4f8b\u5b50\u3002\\n\\n## API\u8be6\u60c5\\n\\n### Button\\n\\n#### Creating a Button\\n\\n```swift\\n// action\u662f\u70b9\u51fb\u65f6\u89e6\u53d1\u7684\u65b9\u6cd5\uff0c label\u63a7\u5236\u663e\u793a\u5185\u5bb9\\ninit(action: @escaping () -> Void, label: () -> Label)\\ninit(_ titleKey: LocalizedStringKey, action: @escaping () -> Void)\\n```\\n\\n#### Creating a Button with a Role\\n\\n```swift\\n//\u591a\u4e86\u4e2aButtonRole\uff0c\u7528\u4e8e\u63cf\u8ff0Button\u8bed\u610f\uff0cSwiftUI\u4f1a\u6839\u636e\u8bed\u610f\u6dfb\u52a0\u6837\u5f0f\uff0c\u6bd4\u5982\u53d6\u6d88\uff0c\u662f\u7ea2\u8272\u7684\u3002\\ninit(role: ButtonRole?, action: @escaping () -> Void, label: () -> Label)\\n```\\n\\n#### Creating a Button from a Configuration\\n\\n```swift\\n///\u901a\u8fc7config\u521d\u59cb\u5316\\ninit(_ configuration: PrimitiveButtonStyleConfiguration)\\n```\\n\\n#### Setting a Border Shape\\n\\n```swift\\n///\u8bbe\u7f6eborder\u6837\u5f0f\uff0c\\n// capsule : \u80f6\u56ca\u5f62\u72b6\uff0c  rounded rectangle\uff1a \u5706\u89d2\u77e9\u5f62\uff0c\u53ef\u81ea\u5b9a\u4e49\u5706\u89d2\u5927\u5c0f\\nfunc buttonBorderShape(_ shape: ButtonBorderShape) -> some View\\n```\\n\\n#### Styling Button Appearance\\n\\n```swift\\n/// \u8bbe\u7f6e\u6837\u5f0f\uff0c\u521b\u5efa\u81ea\u5b9a\u4e49\u6837\u5f0f\\nfunc buttonStyle<S>(_ style: S) -> some View where S : ButtonStyle\\n```\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\\n\\n```swift\\nstruct RedborderStyle: PrimitiveButtonStyle {\\n    func makeBody(configuration: Configuration) -> some View {\\n        configuration.label.padding().border(Color.red)\\n    }\\n}\\n\\nstruct ButtonView: View {\\n    var body: some View {\\n        Button(\\"\u4f60\u597d\\") {\\n            print(\\"hello\\")\\n        }.buttonStyle(RedborderStyle())\\n    }\\n}\\n```\\n\\n### NavigationView\\n\\n\u7528\u4e8e\u521b\u5efa\u7c7b\u4f3c\u4e8eUINavigationController\u7684\u5bfc\u822a\u3002\\n\\n#### Creating a Navigation View\\n\\n```swift\\ninit(content: () -> Content)\\n```\\n\\n#### Styling Navigation Views\\n\\n```swift\\nfunc navigationViewStyle<S>(_ style: S) -> some View where S : NavigationViewStyle\\n```\\n\\n#### Adding Titles\\n\\n```swift\\n//\u5bfc\u822a\u680f\u6807\u9898\\nfunc navigationTitle(_ titleKey: LocalizedStringKey) -> some View\\n//subtitle\uff0c\u53ea\u6709macOS\u624d\u6709\\nfunc navigationSubtitle<S>(_ subtitle: S) -> some View where S : StringProtocol\\n...\\n```\\n\\n#### Managing Navigation Bars\\n\\n```swift\\n//\u9690\u85cfnavigationbar\\nfunc navigationBarHidden(_ hidden: Bool) -> some View\\nfunc navigationBarBackButtonHidden(_ hidesBackButton: Bool) -> some View\\n///\u663e\u793a\u6a21\u5f0f\uff0cinline: \u6b63\u5e38\u5927\u5c0f\u5bfc\u822a\u680f\u5c45\u4e2d\uff0c large\uff1a\u5927\u7684\u5bfc\u822a\u680f\uff0c\u5c45\u5de6\\nfunc navigationBarTitleDisplayMode(_ displayMode: NavigationBarItem.TitleDisplayMode) -> some View\\n```\\n\\n### NavigationLink\\n\\n\u63a7\u5236navigation\u8df3\u8f6c\u7684view\u3002\u70b9\u51fb\u540e\u4f1a\u8df3\u8f6c\u5230destination\u3002\u5f53\u7136\u9664\u4e86\uff0c\u624b\u52a8\u89e6\u53d1\uff0c\u4e5f\u80fd\u591f\u901a\u8fc7\u4ee3\u7801\u89e6\u53d1\u8df3\u8f6c\u3002\u4ee3\u7801\u8df3\u8f6c\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u901a\u8fc7isActive\uff0c\u4e00\u79cd\u662f\u901a\u8fc7tag+selection\u3002\\n\\n#### Presenting a Destination View\\n\\n```swift\\ninit(destination: () -> Destination, label: () -> Label)\\ninit<S>(_ title: S, destination: () -> Destination) where S : StringProtocol\\n```\\n\\n#### Presenting a Destination View with Programmatic Activation\\n\\n```swift\\n///\u63d0\u4f9bisActive\uff0c\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7801\u6765\u8df3\u8f6c\\ninit<S>(_ title: S, isActive: Binding<Bool>, destination: () -> Destination) where S : StringProtocol\\n...\\n```\\n\\n\u4e3e\u4e2a\u4f8b\u5b50, \u4e0b\u9762\u7684\u70b9\u51fb\u4e24\u4e2a\u6309\u94ae\u90fd\u80fd\u8df3\u8f6c\u5230\u5bf9\u5e94View\u3002\\n\\n```swift\\nstruct ContentView: View {\\n    @State var showEditBtnScreen = false\\n    var body: some View {\\n        NavigationView {\\n            VStack {\\n                NavigationLink(destination: EditButtonView(), isActive: $showEditBtnScreen) {\\n                    Text(\\"EditButtons\\").padding()\\n                }\\n                Button(\\"\u8bbe\u7f6eactive\u8df3\u8f6c\\") {\\n                    showEditBtnScreen = true\\n                }\\n            }.navigationBarTitle(Text(\\"Main View\\"), displayMode: .inline)\\n        }\\n    }\\n}\\n```\\n\\n#### Presenting a Selectable Destination View\\n\\n```swift\\n///\u901a\u8fc7\u7ed9\u6bcf\u4e2aLink\u4e00\u4e2atag\uff0c\u7136\u540e\u901a\u8fc7\u8bbe\u7f6eselection\u4e3a\u5bf9\u5e94tag\uff0c\u63a7\u5236\u8df3\u8f6c\\ninit<S, V>(_ title: S, tag: V, selection: Binding<V?>, destination: () -> Destination) where S : StringProtocol, V : Hashable\\n...\\n```\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\\n\\n```swift\\nstruct ContentView: View {\\n    enum Screens {\\n        case editButtonScreen\\n        case memuButtonScreen\\n    }    \\n    @State var currentScreen: Screens?\\n    var body: some View {\\n        NavigationView {\\n            VStack {\\n                NavigationLink(destination: EditButtonView(), tag: Screens.editButtonScreen, selection: $currentScreen) {\\n                    Text(\\"EditButtons\\").padding()\\n                }\\n                NavigationLink(destination: MenuButtonView(), tag: Screens.memuButtonScreen, selection: $currentScreen) {\\n                    Text(\\"MenuButtons\\").padding()\\n                }\\n                Button(\\"\u8bbe\u7f6eselection\u8df3\u8f6c\\") {\\n                    currentScreen = .memuButtonScreen\\n                }\\n            }.navigationBarTitle(Text(\\"Main View\\"), displayMode: .inline)\\n        }\\n    }\\n}\\n```"},{"id":"/2021/11/06/SwiftUI\u4e13\u8f91-003-\u4f7f\u7528Image","metadata":{"permalink":"/2021/11/06/SwiftUI\u4e13\u8f91-003-\u4f7f\u7528Image","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-06-SwiftUI\u4e13\u8f91-003-\u4f7f\u7528Image/index.md","source":"@site/blog/2021-11-06-SwiftUI\u4e13\u8f91-003-\u4f7f\u7528Image/index.md","title":"SwiftUI\u4e13\u8f91003-\u4f7f\u7528Image","description":"headerimg","date":"2021-11-06T00:00:00.000Z","formattedDate":"2021\u5e7411\u67086\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":3.67,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91003-\u4f7f\u7528Image","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91004-Button\u4ee5\u53ca\u8df3\u8f6c","permalink":"/2021/11/07/SwiftUI\u4e13\u8f91-004-Button\u4ee5\u53ca\u8df3\u8f6c"},"nextItem":{"title":"SwiftUI\u4e13\u8f91002-\u5904\u7406\u6587\u672c","permalink":"/2021/11/05/SwiftUI\u4e13\u8f91-002-\u5904\u7406\u6587\u672c"}},"content":"![headerimg](./Header.png)\\n\u8fd9\u4e00\u7ae0\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u5982\u4f55\u6dfb\u52a0Image\u5230View\u4e2d\u3002\\n\x3c!--truncate--\x3e\\n## Getting ready\\n\\n\u65b0\u5efa\u4e00\u4e2aSwiftUI\u5de5\u7a0b\uff0c\u53eb\u505a**ImageApp**\\n\\n## How to do it\u2026\\n\\n\u9996\u5148\u8ba9\u6211\u4eec\u6dfb\u52a0\u4e00\u4e9b\u56fe\u7247\u5230Assert\u4e2d\uff0c\u7136\u540e\u6211\u4eec\u518d\u4ecb\u7ecd\u4e00\u4e9bmodifier\u6765\u4fee\u6539\u56fe\u7247\u6837\u5f0f\u3002\\n\\n1. \u66ff\u6362Text\u4e3aVStack\\n2. \u4ecehttps://github.com/PacktPublishing/SwiftUI-Cookbook-2nd-Edition/tree/main/Resources/Chapter01/recipe3\u4e0b\u8f7d\u56fe\u7247\\n3. \u62d6\u52a8\u56fe\u7247\u5230Asserts\u4e2d\\n4. \u6dfb\u52a0\u4e00\u4e2a`Image`\u5230`VStack\u4e2d`\\n```swift\\nImage(\\"dogs1\\")\\n```\\n\\n![image-20211221224926711](https://tva1.sinaimg.cn/large/008i3skNly1gxlubi8eadj30d40ou3zy.jpg)\\n\\n5. \u6dfb\u52a0\u4e00\u4e2a`.resizable()`modifier, \u4ed6\u80fd\u8ba9SwiftUI\u8c03\u6574\u56fe\u7247\u5927\u5c0f\u4ee5\u9002\u5e94\u53ef\u4ee5\u7528\u7a7a\u95f4\u3002\\n\\n```swift\\nImage(\\"dogs1\\")\\n.resizable()\\n```\\n\\n![image-20211221225044534](https://tva1.sinaimg.cn/large/008i3skNly1gxlucuqitnj30cy0ootae.jpg)\\n\\n6. \u6211\u4eec\u770b\u5230\u56fe\u7247\u88ab\u538b\u7f29\u4e86\uff0c\u7ee7\u7eed\u6dfb\u52a0\u4e00\u4e2a`.aspectRatio`\\n\\n```swift\\nImage(\\"dogs1\\")\\n    .resizable()\\n    .aspectRatio(contentMode: .fit)\\n```\\n\\n![image-20211221225341902](https://tva1.sinaimg.cn/large/008i3skNly1gxlufwjo2cj30cc0o8dgm.jpg)\\n\\n7. \u7ee7\u7eed\u6dfb\u52a0 **dog-and-nature**\u5230`VStack`\u4e2d\\n\\n```swift\\nImage(\\"dog-and-nature\\")\\n    .resizable()\\n    .aspectRatio(contentMode: .fit)\\n    .frame(width:300, height:200)\\n    .clipShape(Circle())\\n    .overlay(Circle().stroke(Color.blue, lineWidth: 6))\\n    .shadow(radius: 10)\\n```\\n\\n8. \u6211\u4eec\u5199\u4e2a\u5de5\u5177\u65b9\u6cd5\u6765\u83b7\u53d6UIImage\\n\\n```swift\\nfunc getImageFromUIImage(image:String) -> UIImage {\\n    guard let img = UIImage(named: image) else {\\n        fatalError(\\"Unable to load image\\")\\n    }\\n    return img\\n}\\n```\\n\\n9. \u7136\u540e\u4f7f\u7528UIImage\u6765\u52a0\u8f7d\u56fe\u7247\\n\\n```swift\\nImage(uiImage: getImageFromUIImage(image:\\"dog2\\"))\\n\\t.resizable()\\n\\t.frame(width: 200, height: 200)\\n\\t.aspectRatio(contentMode: .fit)\\n```\\n\\n10. \u6700\u7ec8\u6548\u679c\\n\\n![image-20211221225942417](https://tva1.sinaimg.cn/large/008i3skNly1gxlumbs7t0j30cq0pa0u9.jpg)\\n\\n## How it works\u2026\\n\\n\u6dfb\u52a0`Image`\u5230View\u4e0a\u65f6\uff0c`Image`\u9ed8\u8ba4\u663e\u793a\u539f\u59cb\u5c3a\u5bf8\u3002\u56fe\u7247\u53ef\u80fd\u5927\u4e86\uff0c\u4e5f\u53ef\u80fd\u5c0f\u4e86\u3002\\n\\n\u8981\u8ba9`Image`\u9002\u5e94\u5c4f\u5e55\u5927\u5c0f\uff0c\u6211\u4eec\u9700\u8981\u6dfb\u52a0`.resizable`modifier\u3002\u8fd9\u4f1a\u8ba9`Image`\u7f29\u653e\u4ee5\u5360\u6ee1\u53ef\u7528\u7a7a\u95f4\u3002\\n\\n\u4e3a\u4e86\u89e3\u51b3\u7f29\u653e\u7684\u62c9\u4f38\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528`.aspectRatio`modifier\u3002\\n\\n\u4f46aspectFill\u65f6\uff0c\u56fe\u7247\u53ef\u80fd\u8d85\u51fa\u8303\u56f4\uff0c\u6211\u4eec\u53ef\u4ee5\u7528`.clip()`\u88c1\u51cf\u6389\\n\\n\u5982\u679c\u6211\u4eec\u8981\u9650\u5236\u56fe\u7247\u5927\u5c0f\u56fa\u5b9a\u4e3a\u67d0\u4e2a\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528`.frame`modifier\u3002\\n\\n\u5982\u679c\u60f3\u88c1\u526a\u56fe\u7247\u4e3a\u67d0\u4e2a\u5f62\u72b6\uff0c\u53ef\u4ee5\u4f7f\u7528`.clipShape`modifier\u3002\\n\\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528`.overlay`\u548c`.shadow`\u6765\u6dfb\u52a0\u8fb9\u6846\u548c\u9634\u5f71\u3002\\n\\n\u6ce8\u610fmodifer\u7684\u987a\u5e8f\u6bd4\u8f83\u91cd\u8981\uff0c\u4e0d\u540c\u987a\u5e8f\u7684\u7ec4\u5408\u53ef\u80fd\u5f97\u5230\u4e0d\u4e00\u6837\u7684\u7ed3\u679c\u3002\\n\\n## Image\\n\\n\u6211\u4eec\u53ef\u4ee5\u4e2d\u8d44\u6e90\u4e2d\u521b\u5efaImage\\n\\n- \u4ecebundle\u4e2d\u7684\u8d44\u6e90\u6587\u4ef6\u521b\u5efa\\n- \u4eceUIImage/NSImage\u521b\u5efa\\n- \u4eceCGImage\u521b\u5efa\\n- \u4eceSF Symbols\u521b\u5efa\\n\\n### Creating an Image\\n\\n```swift\\n//\u901a\u8fc7name\u521d\u59cb\u5316\uff0cbundle\u4e3anil\u9ed8\u8ba4\u4e3amain bundle\\ninit(_ name: String, bundle: Bundle? = nil)\\n\\n```\\n\\n### Creating an Image for Use as a Control\\n\\n```swift\\n//\u548c\u4e0a\u9762\u7684\u7c7b\u4f3c\uff0c label\u7528\u4f5caccessibility\\ninit(_ name: String, bundle: Bundle? = nil, label: Text)\\ninit(_ cgImage: CGImage, scale: CGFloat, orientation: Image.Orientation = .up, label: Text)\\n```\\n\\n### Creating an Image for Decorative Use\\n\\n```swift\\n///\u521b\u5efa\u88c5\u9970\u6027\u7684image\uff0c\u4e0d\u4f1a\u6709accessibility\\ninit(decorative name: String, bundle: Bundle? = nil)\\ninit(decorative cgImage: CGImage, scale: CGFloat, orientation: Image.Orientation = .up)\\n```\\n\\n### Creating a System Symbol Image\\n\\n```swift\\ninit(systemName: String)\\n```\\n\\n### Creating an Image from a System Representation\\n\\n```swift\\n///\u901a\u8fc7\u5e73\u53f0\u5bf9\u5e94\u7684Image\u521d\u59cb\u5316\\ninit(uiImage: UIImage)\\ninit(nsImage: NSImage)\\n```\\n\\n### Resizing and Scaling Images\\n\\n```swift\\n/// \u62c9\u4f38\uff0cEdgeInsets\u4e2d\u95f4\u7684\u533a\u57df\u4e0d\u62c9\u4f38\uff0c\u56db\u5468\u62c9\u4f38\uff0cResizingMode\u5236\u5b9a\u4e86\u62c9\u4f38\u65b9\u5f0f\\nfunc resizable(capInsets: EdgeInsets = EdgeInsets(), resizingMode: Image.ResizingMode = .stretch) -> Image\\n```\\n\\n### Specifying Image Rendering Behavior\\n\\n```swift\\n///\u8bbe\u7f6esymble image\u7684render\u65b9\u5f0f\\nfunc symbolRenderingMode(_ mode: SymbolRenderingMode?) -> Image\\n//\u4e24\u79cdmode: original:\u56fe\u7247\u672c\u8272 temple: \u5c06\u6240\u6709\u4e0d\u900f\u660e\u7684\u989c\u8272\u6e32\u67d3\u4e3aforgroundColor\u3002\\nfunc renderingMode(_ renderingMode: Image.TemplateRenderingMode?) -> Image\\n///\u6e32\u67d3\u90a3\u79cd\u9700\u8981\u63d2\u503c\u7684\u56fe\u7247\uff0c\u6307\u5b9a\u63d2\u503c\u8d28\u91cf\\nfunc interpolation(_ interpolation: Image.Interpolation) -> Image\\n///\u662f\u5426\u5f00\u542f\u53cd\u952f\u9f7f\\nfunc antialiased(_ isAntialiased: Bool) -> Image\\n```\\n\\n![image-20211221233014594](https://tva1.sinaimg.cn/large/008i3skNly1gxlvhx2yyuj30yq0jqwgq.jpg)"},{"id":"/2021/11/05/SwiftUI\u4e13\u8f91-002-\u5904\u7406\u6587\u672c","metadata":{"permalink":"/2021/11/05/SwiftUI\u4e13\u8f91-002-\u5904\u7406\u6587\u672c","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-05-SwiftUI\u4e13\u8f91-002-\u5904\u7406\u6587\u672c/index.md","source":"@site/blog/2021-11-05-SwiftUI\u4e13\u8f91-002-\u5904\u7406\u6587\u672c/index.md","title":"SwiftUI\u4e13\u8f91002-\u5904\u7406\u6587\u672c","description":"headerimg","date":"2021-11-05T00:00:00.000Z","formattedDate":"2021\u5e7411\u67085\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":8.7,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91002-\u5904\u7406\u6587\u672c","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91003-\u4f7f\u7528Image","permalink":"/2021/11/06/SwiftUI\u4e13\u8f91-003-\u4f7f\u7528Image"},"nextItem":{"title":"SwiftUI\u4e13\u8f91001-layout\u76f8\u5173\u63a7\u4ef6","permalink":"/2021/11/04/SwiftUI\u4e13\u8f91-001-layout\u76f8\u5173\u63a7\u4ef6"}},"content":"![headerimg](./Header.png)\\n\u6587\u672c\u662f\u4efb\u4f55App\u7684\u4e00\u4e2a\u57fa\u7840\u3002\\n\u672c\u7ae0\u6211\u4eec\u5c06\u4ecb\u7ecd\uff1a\\n- **Text**\\n- **TextField**\\n- **SecureField**\\n- **TextEditor**\\n\\n\x3c!--truncate--\x3e\\n\\n## \u51c6\u5907\\n\\n\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a**FormattedText**\u7684\u65b0 SwiftUI \u9879\u76ee\u3002\\n\\n## \u600e\u4e48\u505a\u2026\\n\\n\u9996\u5148\u5c06Text\u7528VStack\u5305\u88f9\u4e00\u4e0b\\n\\n```swift\\nstruct ContentView: View {\\nvar body: some View {\\n        VStack{\\n            Text(\\"Hello World\\")\\n        }\\n    }\\n}\\n```\\n\\n\u7136\u540e\u6dfb\u52a0\u4e00\u4e2afontWeight modifier\u3002\\n\\n```swift\\nText(\\"Hello World\\").fontWeight(.medium)\\n```\\n\\n\u6dfb\u52a0\u4e24\u4e2a\u4e2astate\\n\\n```swift\\n@State var password = \\"\\"\\n@State var someText = \\"\\"\\n```\\n\\n\u6dfb\u52a0\u4e00\u4e2aText\u548cSecureField, \u7528Text\u663e\u793aSecureField\u7684\u8f93\u5165\\n\\n```swift\\nSecureField(\\"Enter a password\\", text: $password).padding()\\nText(\\"password entered: \\\\(password)\\").italic()\\n```\\n\\n\u6dfb\u52a0\u4e00\u4e2aText\u548cTextField\uff0c\u7528Text\u663e\u793aTextField\u7684\u8f93\u5165\\n\\n```swift\\nTextField(\\"Enter some text\\", text: $someText).padding()\\nText(\\"\\\\(someText)\\").font(.largeTitle).underline()\\n```\\n\\n\u518d\u5c1d\u8bd5\u4e00\u4e0b\u5176\u4ed6modifier\\n\\n```swift\\nText(\\"Changing text color and make it bold\\").foregroundColor(Color.blue).bold()\\nText(\\"Use kerning to change space between lines of text\\").kerning(7)\\nText(\\"Changing baseline offset\\").baselineOffset(100)\\nText(\\"Strikethrough\\").strikethrough()\\nText(\\"This is a multiline text implemented in SwiftUI. The trailing modifier was added to the text. This text also implements multiple modifiers\\")\\n\\t.background(Color.yellow)\\n\\t.multilineTextAlignment(.trailing)\\n\\t.lineSpacing(10)\\n```\\n\\n![image-20211219140147411](https://tva1.sinaimg.cn/large/008i3skNly1gxj3txyjzfj30cu0qgjsg.jpg)\\n\\n## How it works\u2026\\n\\nText\u6709\u5173\u4e8efont\uff0cspacing\u7b49\u76f8\u5173\u7684Modifier\u3002TextFiled\u548cSecureField\u90fd\u9700\u8981\u4e00\u4e2a`State`\u6765\u5b58\u50a8\u8f93\u5165\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528`@State`\u6765\u58f0\u660e\u4e00\u4e2a`State`\u3002SwiftUI\u4f1a\u5728`State`\u6539\u53d8\u65f6\uff0c\u81ea\u52a8\u5237\u65b0UI\u3002\\n\\n\u6211\u4eec\u901a\u8fc7$\u6765\u7ed1\u5b9a`State`\u3002\\n\\n```swift\\n  TextField(\\"Enter some text\\", text: $someText)     \\n```\\n\\n## There\'s more\u2026\\n\\n\u6211\u4eec\u7ee7\u7eed\u6dfb\u52a0Text\uff0c\u5f53\u5b50\u89c6\u56fe\u8d85\u8fc710\u4e2a\u65f6\uff0c\u5c31\u4f1a\u62a5\u9519\u3002\u539f\u6765\u662fSwiftUI\u53ea\u652f\u6301\u6700\u592710\u4e2a\u5b50\u89c6\u56fe\u3002\u6240\u4ee5\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528`Group`\u6765\u5206\u5272\u6211\u4eec\u7684\u5b50\u89c6\u56fe\u3002\\n\\n## \u8be6\u7ec6\u4ecb\u7ecd\\n\\n### Text\\n\\n\u7528\u4e8e\u663e\u793a1\u884c\u6216\u8005\u591a\u884c\u7684\u53ea\u8bfb\u6587\u672c\u3002\\n\\n#### Creating a Text View from a String\\n\\n```swift\\n//\u56fd\u9645\u5316\\ninit(_ key: LocalizedStringKey, tableName: String? = nil, bundle: Bundle? = nil, comment: StaticString? = nil)\\n//\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u65e0\u56fd\u9645\u5316\\ninit<S>(_ content: S) where S : StringProtocol\\n//\u5bcc\u6587\u672c\\ninit(_ attributedContent: AttributedString)\\n```\\n\\n#### Creating a Text View for a Date\\n\\n```swift\\n// \u663e\u793a\u67d0\u4e2a\u65f6\u95f4\u8303\u56f43:09-3.10 PM\\ninit(_ dates: ClosedRange<Date>)\\ninit(_ interval: DateInterval)\\n// \u663e\u793a\u65e5\u671f, \u6309\u7167style\\ninit(_ date: Date, style: Text.DateStyle)\\n```\\n\\n#### Creating a Text View with Formatting\\n\\n\u663e\u793a\u975estring\u5bf9\u8c61, \u9700\u8981\u4f60\u7684type\u9075\u5faaFormatStyle\u534f\u8bae\u3002\\n\\n```swift\\ninit<F>(_ input: F.FormatInput, format: F) where F : FormatStyle, F.FormatInput : Equatable, F.FormatOutput == String\\ninit<Subject>(_ subject: Subject, formatter: Formatter) where Subject : ReferenceConvertible\\ninit<Subject>(_ subject: Subject, formatter: Formatter) where Subject : NSObject\\n```\\n\\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u81ea\u5df1\u7684formater\u3002\u6bd4\u5982\u6211\u4eec\u8981\u683c\u5f0f\u5316\u65e5\u671f\u4e3ayyyy-MM-dd\u3002\u4f46\u9ed8\u8ba4Date.FormatStyle\u63d0\u4f9b\u7684\u4f3c\u4e4e\u4e0d\u591f\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u81ea\u5df1\u7684formater\u3002\\n\\n```swift\\nstruct YYYYMMddDateStyle: FormatStyle {\\n    typealias FormatInput = Date\\n    typealias FormatOutput = String\\n    \\n    static let dateFormater: DateFormatter = {\\n        let formater = DateFormatter()\\n        formater.dateFormat = \\"yyyy-MM-dd\\"\\n        return formater\\n    }()\\n    func format(_ value: Date) -> String {\\n        return YYYYMMddDateStyle.dateFormater.string(from: value)\\n    }\\n}\\n/// \u6269\u5c55\u4e00\u4e0bFormatStyle\uff0c\u8fd9\u6837\u5c31\u6709\u63d0\u793a\u4e86\\nextension FormatStyle where Self == YYYYMMddDateStyle {\\n    static var yyyyMMddDateStyle:YYYYMMddDateStyle { return .init() }\\n}\\n\\n//\u4f7f\u7528\\nstruct ContentView: View {\\n    var body: some View {\\n        Text.init(Date(), format: .yyyyMMddDateStyle)\\n    }\\n}\\n```\\n\\n#### Creating a Text View from an Image\\n\\n\u5c06\u56fe\u7247\u5305\u88f9\u4e3aText\uff0c\u9002\u5408\u548c\u5176\u4ed6Text\u62fc\u63a5\u3002\\n\\n```swift\\ninit(_ image: Image)\\n```\\n\\n\u4f8b\u5b50:\\n\\n```swift\\nstruct ContentView: View {\\n    @State var password = \\"\\"\\n    @State var someText = \\"Initial text\\"\\n    var body: some View {\\n            Text(\\"hello\\") + Text(Image(\\"my-img-name\\")) + Text(\\"world\\")\\n    }\\n}            \\n```\\n\\n#### Choosing a Font\\n\\n\u5b57\u4f53\u76f8\u5173\uff1a\\n\\n```swift\\nfunc font(Font?) -> Text\\nfunc fontWeight(Font.Weight?) -> Text\\n```\\n\\n#### Styling the View\u2019s Text\\n\\n\u6587\u672c\u6837\u5f0f\\n\\n```swift\\nfunc foregroundColor(Color?) -> Text\\nfunc bold() -> Text\\nfunc italic() -> Text\\nfunc strikethrough(Bool, color: Color?) -> Text\\nfunc underline(Bool, color: Color?) -> Text\\nfunc monospacedDigit() -> Text\\nfunc kerning(CGFloat) -> Text\\nfunc tracking(CGFloat) -> Text\\nfunc baselineOffset(CGFloat) -> Text\\nfunc textCase(Text.Case?) -> some View\\n```\\n\\n#### Fitting Text into Available Space\\n\\n\u7f29\u653e\u76f8\u5173:\\n\\n```swift\\nfunc allowsTightening(Bool) -> some View//\u662f\u5426\u5141\u8bb8\u7f29\u653e\u4e24\u4e2a\u5b57\u7b26\u95f4\u7684\u95f4\u8ddd\\nfunc minimumScaleFactor(CGFloat) -> some View//\u7f29\u653e\u5b57\u4f53\\nfunc truncationMode(Text.TruncationMode) -> some View//\u622a\u65ad\\n```\\n\\n#### Handling Multiline Text\\n\\n\u5904\u7406\u591a\u884c\u6587\u672c\\n\\n```swift\\nfunc lineLimit(Int?) -> some View\\nfunc lineSpacing(CGFloat) -> some View\\nfunc multilineTextAlignment(TextAlignment) -> some View\\n```\\n\\n#### \u5176\u4ed6\\n\\n\u8fd8\u6709\u4e9bvoiceover\u548caccessbility\u76f8\u5173\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\\n\\n\\n\\n### TextField\\n\\n\u8f93\u5165\u6846\u3002\\n\\n#### Creating a Text Field with a String Value\\n\\ntextfield\u548cstring\u7ed1\u5b9a\u3002\u9700\u89813\u4e2a\u4e1c\u897f\uff1a title, binding\u548cprompt\u3002\\n\\n```swift\\ninit(_ titleKey: LocalizedStringKey, text: Binding<String>, prompt: Text?)\\ninit<S>(_ title: S, text: Binding<String>, prompt: Text?) where S : StringProtocol\\ninit(text: Binding<String>, prompt: Text? = nil, label: () -> Label)\\n```\\n\\n\u6ce8\u610ftitle\u548cprompt\u7684\u533a\u522b\u3002\\n\\n```swift\\nForm {\\n    TextField(text: $username, prompt: Text(\\"Required\\")) {\\n        Text(\\"Username\\")\\n    }\\n    SecureField(text: $password, prompt: Text(\\"Required\\")) {\\n        Text(\\"Password\\")\\n    }\\n}\\n```\\n\\n\u5728macOS\u4e0a\uff1a\u524d\u9762\u7684\u6587\u5b57\u662ftitle/label\u3002placeholder\u662fprompt\u3002\\n\\n![image-20211219172142715](https://tva1.sinaimg.cn/large/008i3skNly1gxj9ltz1ppj30qi05m74e.jpg)\\n\\n\u5728ios\u4e0a\uff0c\u4e0d\u4f1a\u5355\u72ec\u663e\u793alabel\uff0c\u5982\u679c\u63d0\u4f9b\u4e86prompt\uff0c\u5219\u7528prompt\u4f5c\u4e3aplaceholder\uff0c\u6ca1\u6709\u63d0\u4f9b\u5219\u7528title/label\u4f5c\u4e3aplaceholder\u3002\\n\\n![image-20211219172316635](https://tva1.sinaimg.cn/large/008i3skNly1gxj9nghei6j30og094q2x.jpg)\\n\\n#### Creating a Text Field with an Arbitrary Value\\n\\nTextField\u5e76\u4e0d\u4e00\u5b9a\u53ea\u80fdbinding\u5230String\uff0c\u53ef\u4ee5Binding\u5230\u4efb\u4f55\u7c7b\u578b\uff0c\u53ea\u662f\u9700\u8981\u4e00\u4e2aParseableFormatStyle \u6216\u8005 Formatter\u3002\\n\\n```swift\\ninit<F>(_ titleKey: LocalizedStringKey, value: Binding<F.FormatInput>, format: F, prompt: Text? = nil) where F : ParseableFormatStyle, F.FormatOutput == String\\ninit<S, F>(_ title: S, value: Binding<F.FormatInput>, format: F, prompt: Text? = nil) where S : StringProtocol, F : ParseableFormatStyle, F.FormatOutput == String\\ninit<F>(value: Binding<F.FormatInput>, format: F, prompt: Text? = nil, label: () -> Label) where F : ParseableFormatStyle, F.FormatOutput == String\\ninit<V>(_ titleKey: LocalizedStringKey, value: Binding<V>, formatter: Formatter, prompt: Text?)\\ninit<S, V>(_ title: S, value: Binding<V>, formatter: Formatter, prompt: Text?) where S : StringProtocol\\ninit<V>(value: Binding<V>, formatter: Formatter, prompt: Text? = nil, label: () -> Label)\\n```\\n\\n\u6211\u4eec\u6765\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5c06\u4e00\u4e2aPerson\u7ed1\u5b9a\u5230TextField\u3002TextField\u663e\u793a`firstName lastName`\u3002\\n\\n\u5148\u5b9a\u4e49Person\\n\\n```swift\\nstruct Person {\\n    var firstName = \\"\\"\\n    var lastName = \\"\\"\\n}\\n```\\n\\n\u5b9a\u4e49\u89e3\u6790\u7b56\u7565\uff0c\u8d1f\u8d23\u5c06String\u89e3\u6790\u6210Person\\n\\n```swift\\n/// \u89e3\u6790\uff0c\u8d1f\u8d23\u5c06string\u89e3\u6790\u6210\u81ea\u5b9a\u4e49\u7c7b\u578b\\nstruct PersonParseStrategy: ParseStrategy {\\n    typealias ParseInput = String\\n    typealias ParseOutput = Person\\n    func parse(_ value: String) throws -> Person {\\n        var components = value.components(separatedBy: \\" \\")\\n        if components.isEmpty {\\n            return Person()\\n        } else if components.count == 1 {\\n            return Person(firstName: components[0], lastName: \\"\\")\\n        } else {\\n            let firstName = components[0]\\n            components.removeFirst()\\n            let lastName = components.joined(separator: \\" \\")\\n            return Person(firstName: firstName, lastName: lastName)\\n        }\\n    }\\n}\\n```\\n\\n\u5b9a\u4e49FormatStyle\uff0c\u8d1f\u8d23\u5c06Person\u683c\u5f0f\u5316\u4e3aString\\n\\n```swift\\n/// formater, \u8d1f\u8d23\u5c06\u81ea\u5b9a\u4e49\u7c7b\u578b\u89e3\u6790\u6210textfield\u7684\u663e\u793a\\nstruct PersonNameFormatStyle: ParseableFormatStyle {\\n    typealias Strategy = PersonParseStrategy\\n    typealias FormatInput = Person\\n    typealias FormatOutput = String\\n    var parseStrategy = PersonParseStrategy()\\n    func format(_ value: Person) -> String {\\n        return \\"\\\\(value.firstName) \\\\(value.lastName)\\"\\n    }\\n}\\n@available(iOS 15.0, *)\\nextension ParseableFormatStyle where Self == PersonNameFormatStyle {\\n    static var personNameFormatStyle: PersonNameFormatStyle { .init() }\\n}\\n```\\n\\n\u4f7f\u7528\\n\\n```swift\\nstruct ContentView: View {\\n    @State var person = Person()\\n    var body: some View {\\n    TextField(\\"\u8bf7\u8f93\u5165\u59d3\u540d\\", value: $person, format: .personNameFormatStyle, prompt: nil)\\n\\t\\tText(\\"firstName:\\\\(person.firstName) lastName:\\\\(person.lastName)\\")\\n    }\\n}       \\n```\\n\\n#### Creating a Text Field with an Arbitrary Optional\\n\\n\u548c\u4e0a\u9762\u7684\u7c7b\u4f3c\uff0c\u53ea\u662f\u652f\u6301Optional\\n\\n```swift\\ninit<F>(_ titleKey: LocalizedStringKey, value: Binding<F.FormatInput?>, format: F, prompt: Text? = nil) where F : ParseableFormatStyle, F.FormatOutput == String\\n....\u7701\u7565\\n```\\n\\n#### Styling Text Fields\\n\\n\u8bbe\u7f6etext field\u7684style\\n\\n```swift\\nfunc textFieldStyle<S>(_ style: S) -> some View where S : TextFieldStyle\\n```\\n\\n\u4e3e\u4f8b\\n\\n```swift\\nTextField(\\"\u8bf7\u8f93\u5165\u59d3\u540d\\", value: $person, format: .personNameFormatStyle, prompt: nil)\\n.textFieldStyle(.roundedBorder)\\n```\\n\\n#### \u5e38\u7528\u7684UITextFieldDelegate\u5bf9\u6bd4\\n\\n.editingChanged\\n\\n```swift\\nTextField(\\"\\", text: $password)\\n   .onChange(of: password) { newValue in\\n        password = Format(password)\\n   }\\n```\\n\\n.editingDidBegin / .editingDidEnd\\n\\n```\\n@FocusState var isFocused: Bool\\nTextField(\\"\\", text: $password)\\n    .focused($isFocused)                \\n    .onChange(of: isFocused) { newValue in\\n       print(\\"current foucus state \\\\(newValue)\\")\\n    }\\n```\\n\\ntextShouldReturn\\n\\n```swift\\nTextField(\\"\\", text: $password)\\n   .onSubmit {\\n       print(\\"clicked return btn\\")\\n   }\\n```\\n\\n### SecureField\\n\\n\u53ea\u80fdbinding\u5230string\uff0c\u4e0d\u80fd\u50cfTextField\u4e00\u6837\u53ef\u4ee5\u7ed1\u5b9a\u4efb\u4f55\u503c\u3002\\n\\n\u6ca1\u6709\u663e\u793a\u771f\u5b9e\u8f93\u5165\u5bc6\u7801\u7684\u529f\u80fd\u3002\u8981\u5b9e\u73b0\u773c\u775b\u529f\u80fd\uff0c\u53ea\u6709\u7528TextField\u548cSecureField\u4e00\u8d77\u3002\\n\\n#### Creating a Secure Text Field\\n\\n\u548ctexfiled\u7c7b\u4f3c\\n\\n```swift\\ninit<S>(_ title: S, text: Binding<String>, prompt: Text?) where S : StringProtocol\\n```\\n\\n#### Configuring Text Entry\\n\\n```swift\\nfunc keyboardType(_ type: UIKeyboardType) -> some View //\u952e\u76d8\u7c7b\u578b\\nfunc disableAutocorrection(_ disable: Bool?) -> some View //\u81ea\u52a8\u4fee\u6b63\\nfunc textInputAutocapitalization(_ autocapitalization: TextInputAutocapitalization?) -> some View //\u81ea\u52a8\u9996\u5b57\u6bcd\u5927\u5c0f\u5199\\n//\u8bbe\u7f6e\u6587\u672c\u7c7b\u578b\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u7c7b\u578b\u4e3a\u8f93\u5165\u63d0\u4f9b\u5efa\u8bae\\nfunc textContentType(_ textContentType: UITextContentType?) -> some View\\n```\\n\\n### TextEditor\\n\\n\u663e\u793a\u548c\u7f16\u8f91\u591a\u884c\u8f83\u957f\u7684\u6587\u672c\\n\\n#### Creating a Text Editor\\n\\n```swift\\ninit(text: Binding<String>)\\n```\\n\\n#### Styling the View\u2019s Text\\n\\n```swift\\nfunc font(_ font: Font?) -> some View\\nfunc foregroundColor(_ color: Color?) -> some View\\nfunc multilineTextAlignment(_ alignment: TextAlignment) -> some View\\nfunc lineSpacing(_ lineSpacing: CGFloat) -> some View\\nfunc allowsTightening(_ flag: Bool) -> some View\\n```\\n\\n#### Managing Text Entry\\n\\n```swift\\nfunc textInputAutocapitalization(_ autocapitalization: TextInputAutocapitalization?) -> some View\\nfunc disableAutocorrection(_ disable: Bool?) -> some View\\nfunc keyboardType(_ type: UIKeyboardType) -> some View\\n```"},{"id":"/2021/11/04/SwiftUI\u4e13\u8f91-001-layout\u76f8\u5173\u63a7\u4ef6","metadata":{"permalink":"/2021/11/04/SwiftUI\u4e13\u8f91-001-layout\u76f8\u5173\u63a7\u4ef6","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-04-SwiftUI\u4e13\u8f91-001-layout\u76f8\u5173\u63a7\u4ef6/index.md","source":"@site/blog/2021-11-04-SwiftUI\u4e13\u8f91-001-layout\u76f8\u5173\u63a7\u4ef6/index.md","title":"SwiftUI\u4e13\u8f91001-layout\u76f8\u5173\u63a7\u4ef6","description":"headerimg","date":"2021-11-04T00:00:00.000Z","formattedDate":"2021\u5e7411\u67084\u65e5","tags":[{"label":"swiftUI","permalink":"/tags/swift-ui"}],"readingTime":10.615,"truncated":true,"authors":[],"frontMatter":{"title":"SwiftUI\u4e13\u8f91001-layout\u76f8\u5173\u63a7\u4ef6","tags":["swiftUI"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91002-\u5904\u7406\u6587\u672c","permalink":"/2021/11/05/SwiftUI\u4e13\u8f91-002-\u5904\u7406\u6587\u672c"},"nextItem":{"title":"\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain","permalink":"/2021/11/03/\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain"}},"content":"![headerimg](./Header.png)\\n\u672c\u6587\u5c06\u4ecb\u7ecd\u7528\u4e8e\u5e03\u5c40\u76f8\u5173\u7684\u4e00\u4e9b\u63a7\u4ef6\\n\\n- VStack\\n- HStack\\n- ZStack\\n- Spacer\\n- Divider\\n\x3c!--truncate--\x3e\\n## \u51c6\u5907\\n\\n\u5148\u521b\u5efa\u4e00\u4e2a\u53eb\u505a`TheStacks`\u7684SwiftUI\u5de5\u7a0b\u3002\\n\\n## \u5199\u4ee3\u7801\\n\\n\u4fee\u6539ContentView\u91cc\u7684body\u4e3a\u4ee5\u4e0b\u4ee3\u7801, \u7136\u540eresume Preview\uff1a\\n\\n```swift\\nVStack {\\n            Text(\\"VStack Item 1\\")\\n            Text(\\"VStack Item 2\\")\\n            Text(\\"VStack Item 3\\")\\n        }.background(Color.blue)\\n```\\n\\n![008i3skNly1gx9ys9dvjmj30do0qwmxn](https://tva1.sinaimg.cn/large/008i3skNly1gx9ytz8862j302s05h3yb.jpg)\\n\\n\u7136\u540e\u6211\u4eec\u5728\u6dfb\u52a0\u4e00\u4e9bDivider\u548cSpacer\u3002\\n\\n```swift\\nVStack {\\n            Text(\\"VStack Item 1\\")\\n            Text(\\"VStack Item 2\\")\\n            Spacer()\\n            Divider().background(Color.white)\\n            Text(\\"VStack Item 3\\")            \\n        }.background(Color.blue)\\n```\\n\\n![image-20211211162833693](https://tva1.sinaimg.cn/large/008i3skNly1gx9z4p6o9kj304608it8l.jpg)\\n\\n\u6211\u4eec\u518d\u5728`item 3`\u4e4b\u540e\u52a0\u4e00\u4e2aHStack\u548cZStack\u3002\\n\\n```swift\\nVStack {\\n            Text(\\"VStack Item 1\\")\\n            Text(\\"VStack Item 2\\")\\n            Spacer()\\n            Divider().background(Color.white)\\n            Text(\\"VStack Item 3\\")\\n            HStack {\\n                Text(\\"Item 1\\")\\n                Divider().background(Color.black)\\n                Text(\\"HStack Item 2\\")\\n                Divider().background(Color.black)\\n                Spacer()\\n                Text(\\"HStack Item 3\\")\\n            }.background(Color.red)\\n            ZStack {\\n                Text(\\"ZStack Item 1\\").padding().background(Color.green).opacity(0.8)\\n                Text(\\"ZStack Item 2\\").padding().background(Color.green).offset(x: 80, y: -400)\\n            }\\n        }.background(Color.blue)\\n```\\n\\n![\u622a\u5c4f2021-12-11 \u4e0b\u53484.33.17](https://tva1.sinaimg.cn/large/008i3skNly1gx9za4cl4zj305k0b8mx9.jpg)\\n\\n## \u8fd9\u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff1f\\n\\n\u4e00\u4e2a\u65b0\u7684SwiftUI\u5de5\u7a0b\u9ed8\u8ba4\u662f\u4ee5\u4e00\u4e2a\u5c45\u4e2d\u7684Text\u5f00\u59cb\u7684\u3002\\n\\n`body`\u8fd4\u56de\u4e00\u4e2a`View`\u3002\\n\\n\u5982\u679c\u8981\u6dfb\u52a0\u7ad6\u76f4\u6392\u5217\u7684\u5176\u4ed6View\uff0c\u6211\u4eec\u7528VStack\u66ff\u6362\u6389\u9ed8\u8ba4\u7684Text\uff0c\u7136\u540e\u6dfb\u52a0\u5185\u5bb9\u3002\\n\\nSwiftUI\u7684Stack\u4f7f\u7528\u5982\u4e0b\u6b65\u9aa4\u6765\u51b3\u5b9a\u5982\u4f55\u663e\u793a\u5b83\u7684\u5185\u5bb9(\u8be6\u7ec6\u53ef\u53c2\u8003WWDC2019:\u5229\u7528SwiftUI\u6784\u5efa\u81ea\u5b9a\u4e49\u89c6\u56fe)\uff1a\\n\\n1. Figure out its internal spacing and subtract that from the size proposed by its parent view.(\u786e\u5b9a\u5b50\u89c6\u56fe\u7684\u5927\u5c0f\uff0c\u4ece\u7236\u89c6\u56fe\u63d0\u4f9b\u7684\u5927\u5c0f\u4e2d\u51cf\u53bb\u5b50\u89c6\u56fe)\\n2. Divide the remaining space into equal parts.(\u5c06\u5269\u4f59\u7a7a\u95f4\u6309\u5269\u4f59\u5b50\u89c6\u56fe\u6570\u91cf\u7b49\u5206)\\n3. Process the size of its least flexible view.(\u5904\u7406 least flexibl\u7684\u89c6\u56fe\uff0c\u786e\u5b9a\u5176\u5927\u5c0f)\\n4. Divide the remaining unclaimed space by the unallocated space, and then repeat *Step 2*.\uff08\u7528\u5269\u4f59\u7a7a\u95f4\u51cf\u53bb\u5176\u5927\u5c0f\uff0c\u518d\u91cd\u590d\u6b65\u9aa42\uff09\\n5. The stack then aligns its content and chooses its own size to exactly enclose its children.( stack\u5bf9\u5176\u4ed6\u7684\u5185\u5bb9\uff0c\u786e\u5b9a\u5176\u81ea\u8eab\u5927\u5c0f\uff0c\u5176\u5927\u5c0f\u662f\u521a\u597d\u5305\u88f9\u5b50\u89c6\u56fe)\\n\\n\u6dfb\u52a0**Spacer**\u53ef\u4ee5\u5f3a\u5236View\u4f7f\u7528\u6700\u5927\u7684\u7a7a\u95f4\u3002\u8fd9\u662f\u56e0\u4e3a**Spacer()**\u662f\u6700flexible\u7684\u89c6\u56fe\uff0c\u5b83\u5728\u663e\u793a\u6240\u6709\u5176\u4ed6\u89c6\u56fe\u4e4b\u540e\u586b\u5145\u5269\u4f59\u7a7a\u95f4\u3002\\n\\n**Divider**\u7528\u6765\u753b\u4e00\u4e2a\u5360\u6ee1parent\u5bbd\u5ea6\u7684\u6c34\u5e73\u7ebf\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u52a0\u4e86**Divider**\u540e\uff0c\u84dd\u8272\u80cc\u666f\u4f1a\u6491\u6ee1\u5c4f\u5e55\u5bbd\u5ea6\u3002\u9ed8\u8ba4**Divider**\u6ca1\u6709\u989c\u8272\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7`.background(Color)`modifier\u6765\u8bbe\u7f6e\u3002\\n\\nmodifier\u662f\u4e00\u7cfb\u5217\u53ef\u4ee5\u5e94\u7528\u5230View\u4e0a\u7684\u65b9\u6cd5\uff0c\u6362\u53e5\u8bdd\u8bf4\uff1a\u4ed6\u5c06\u67d0\u4e9b\u6539\u52a8\u8bbe\u7f6e\u5230View\u4e0a\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u7684View\u3002\\n\\n\u5e38\u7528\u7684**.background(Color. black)**, **.padding()**, and **.offsets(\u2026)**\u90fd\u662fmodifier\u3002\\n\\n**HStack**\u548c**VStack**\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u4ed6\u662f\u6c34\u5e73\u4ece\u5de6\u5230\u53f3\u663e\u793a\u4ed6\u7684\u5185\u5bb9\u3002\u6dfb\u52a0**Spacer**\u5230**HStack**\u4e2d\uff0c\u4f1a\u8ba9\u5b83\u586b\u6ee1\u6c34\u5e73\u7a7a\u767d\u533a\u57df\uff0c**Divider**\u4e5f\u662f\u7ad6\u76f4\u5411\u4e0b\u7684\u3002\\n\\n**ZStack**\u548c**HStack** \u3001 **VStack** \u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u662f\u91cd\u53e0\u4ed6\u7684content\u5728\u5df2\u6709\u7684item\u4e0a\u3002\\n\\n## There\'s more\u2026\\n\\n\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528**.frame** modifier\u6765\u8c03\u6574component\u7684width\u548cheight\u3002\\n\\n```swift\\n.frame(\\n  maxWidth: .infinity,\\n\\tmaxHeight: .infinity,\\n\\talignment: .topLeading\\n)\\n```\\n\\n## SwiftUI \u4e2d\u5e03\u5c40\u7684\u5de5\u4f5c\u539f\u7406\\n\\n\u8be6\u7ec6\u53ef\u53c2\u8003WWDC2019:\u5229\u7528SwiftUI\u6784\u5efa\u81ea\u5b9a\u4e49\u89c6\u56fe\\n\\n### Hello world\u5e03\u5c40\\n\\n\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e2aHello world\u7684\u4f8b\u5b50\u3002\\n\\n![image-20211216171253892](https://tva1.sinaimg.cn/large/008i3skNgy1gxfshsh127j30zc0jqjsj.jpg)\\n\\n\u8fd9\u91cc\u67093\u4e2aView\uff1a\\n\\n- Text: \u5927\u5c0f\u7531\u6587\u672c\u51b3\u5b9a\\n- ContentView\uff1a\u5927\u5c0f\u7531children\u51b3\u5b9a\uff0c\u6240\u4ee5\u4e0a\u56fe\u4e2dContentView\u7684\u5927\u5c0f\u521a\u597d\u5305\u88f9Text\\n- RootView\uff1a\u5c4f\u5e55\u51cf\u53bbsafeArea\u7684\u533a\u57df\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7`.edgesIgnoringSafeArea(.all)`modifier\u6765\u4fee\u6539\u8fd9\u4e2a\u884c\u4e3a\uff0c\u8fd9\u6837\u5c31\u662f\u6574\u4e2a\u5c4f\u5e55\u3002\\n\\n![image-20211216171729871](https://tva1.sinaimg.cn/large/008i3skNgy1gxfsmiww1yj30z40juabb.jpg)\\n\\n\u6211\u4eec\u628a\u4efb\u4f55\u5e26\u6709`var body: some View`\u7684\u89c6\u56fe\u6210\u4e3a`\u4e2d\u6027\u89c6\u56fe(Layout Neutral)`\uff0c\u4ed6\u7684\u8fb9\u754c\u662f\u7531\u4ed6\u7684`body`\u51b3\u5b9a\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u4e0a\u9762\u624d\u8bf4ContentView\u7684\u5927\u5c0f\u548cText\u662f\u4e00\u81f4\u7684\u3002\\n\\n\u6211\u4eec\u518d\u6765\u770b\u770b\u5e03\u5c40\u8fc7\u7a0b\uff1a\\n\\n- RootView\uff1a\u563f\uff0c\u6211\u6709\u6574\u4e2a\u5b89\u5168\u533a\u57df\u90a3\u4e48\u5927\uff0c\u4f60\u9700\u8981\u591a\u5927\u7684\u7a7a\u95f4\uff1f\\n- ContentView\uff1a\u597d\u7684\uff0c\u4f46\u662f\u6211\u662f\u4e2d\u6027\u89c6\u56fe\uff0c\u6211\u5f97\u95ee\u4e0b\u6211\u7684body\u3002Text\u4f60\u597d\uff0c\u6211\u6709\u6574\u4e2a\u5b89\u5168\u533a\u57df\u90a3\u4e48\u5927\uff0c\u4f60\u9700\u8981\u591a\u5c11\u7a7a\u95f4\uff1f\\n- Text\uff1a\u597d\u7684\uff0c\u6211\u7684\u6587\u672c\u662fHelloworld\uff0c\u6211\u53ea\u9700\u8981100 * 20\u90a3\u4e48\u5927\u3002\\n- ContentView\uff1a\u597d\u7684\uff0c\u6211\u662f\u4e2d\u6027\u89c6\u56fe\uff0c\u4f60\u591a\u5927\u6211\u5c31\u591a\u5927\uff0cRootView\uff0c\u6211\u53ea\u9700\u8981100 * 20\u90a3\u4e48\u5927\u3002\\n- RootView\uff1a\u597d\u7684\uff0c\u6211\u8fd8\u6709\u5f88\u591a\u5269\u4f59\u7a7a\u95f4\uff0c\u6211\u9ed8\u8ba4\u4f1a\u628a\u4f60\u653e\u5230\u6211\u7684center\u90a3\u91cc\u3002\\n\\n![image-20211216174533016](https://tva1.sinaimg.cn/large/008i3skNgy1gxftfq527nj30z80jyjsz.jpg)\\n\\n\u603b\u7ed3\u4e0b\u5e03\u5c40\u8fc7\u7a0b\uff1a\\n\\n1. Parent\u4e3achildren\u63d0\u4f9b\u4e00\u4e2asize\\n2. Children\u786e\u5b9a\u81ea\u5df1\u7684\u5927\u5c0f\\n3. Parent\u5c06children\u653e\u5230\u81ea\u5df1\u7684\u5750\u6807\u7cfb\u4e2d\\n4. \u5c4f\u5e55\u50cf\u7d20\u662f\u6574\u6570\uff0c\u4f46\u5927\u5c0f\u662f\u5c0f\u6570\uff0c\u5904\u7406\u5c0f\u6570\u5927\u5c0f\uff0c\u4f1around\u5230\u6700\u8fd1\u7684\u6574\u6570\\n\\n### \u66f4\u590d\u6742\u7684\u4f8b\u5b50\\n\\n![image-20211216175258340](https://tva1.sinaimg.cn/large/008i3skNgy1gxftngd4c6j30ze0jmdh9.jpg)\\n\\n- RootView\uff1a\u563f\uff0c\u6211\u6709\u6574\u4e2a\u5b89\u5168\u533a\u57df\u90a3\u4e48\u5927\uff0c\u4f60\u9700\u8981\u591a\u5927\u7684\u7a7a\u95f4\uff1f\\n- Toast\uff1a\u597d\u7684\uff0c\u4f46\u662f\u6211\u662f\u4e2d\u6027\u89c6\u56fe\uff0c\u6211\u5f97\u95ee\u4e0b\u6211\u7684body\u3002Background\u4f60\u597d\uff0c\u6211\u6709\u6574\u4e2a\u5b89\u5168\u533a\u57df\u90a3\u4e48\u5927\uff0c\u4f60\u9700\u8981\u591a\u5c11\u7a7a\u95f4\uff1f\\n- Background: \u597d\u7684\uff0c\u4f46\u662f\u6211\u4e5f\u662f\u4e2d\u6027\u89c6\u56fe\u3002Padding\u4f60\u597d\uff0c\u6211\u6709\u6574\u4e2a\u5b89\u5168\u533a\u57df\u90a3\u4e48\u5927\uff0c\u4f60\u9700\u8981\u591a\u5c11\u7a7a\u95f4\uff1f\\n- Padding\uff1a\u597d\u7684\u3002Text\u4f60\u597d\uff0c\u6211\u6709\u6574\u4e2a\u5b89\u5168\u533a\u57df\u51cf\u53bb10 padding\u90a3\u4e48\u591a\u7a7a\u95f4\uff0c\u4f60\u9700\u8981\u591a\u5c11\u7a7a\u95f4\uff1f\\n- Text\uff1a\u6211\u9700\u8981100* 100 \u3002\\n- Padding: \u597d\u7684, Background\uff0c\u6211\u53ea\u9700\u8981110* 110\\n- Background: \u597d\u7684\uff0c\u6211\u8fd8\u6709\u5b50\u89c6\u56feColor\uff0c\u6211\u5f97\u95ee\u4e0b\u4ed6\uff0cColor\u4f60\u597d\uff0c\u6211\u6709110 * 110, \u90a3\u4e48\u5927\uff0c\u4f60\u9700\u8981\u591a\u5c11\u3002\\n- Color\uff1a\u6211\u4e5f\u9700\u8981110 * 110\\n- Background\uff1a\u597d\u7684\uff0cToast\uff0c\u6211\u53ea\u9700\u8981110 *110\\n- Toast: \u597d\u7684,RootView\uff0c\u6211\u4e5f\u53ea\u9700\u8981110* 110\\n- RootView: \u597d\u7684\uff0c\u6211\u8fd8\u6709\u5f88\u591a\u5269\u4f59\u7a7a\u95f4\uff0c\u6211\u9ed8\u8ba4\u4f1a\u628a\u4f60\u653e\u5230\u6211\u7684center\u90a3\u91cc\u3002\\n\\n### \u518d\u6765\u4e00\u4e2a\u7b80\u5355\u4f46\u91cd\u8981\u7684\u4f8b\u5b50\\n\\n![image-20211216181143533](https://tva1.sinaimg.cn/large/008i3skNgy1gxfu70mnauj30yo0jkaau.jpg)\\n\\nSwiftUI\u4e2d\u9664\u975e\u4f60\u6307\u5b9a\u56fe\u7247\u662f\u53ef\u7f29\u653e\u7684\uff0c\u5426\u5219\u56fe\u7247\u7684size\u5c31\u662f\u56fe\u7247\u672c\u8eab\u7684\u5927\u5c0f\u3002\\n\\n\u73b0\u5728\u6211\u60f3\u8ba9\u56fe\u7247\u662f30x30\uff0c\u6211\u4eec\u52a0\u4e2aframe modifier\u3002\\n\\n![image-20211216181304205](https://tva1.sinaimg.cn/large/008i3skNgy1gxfu8csg25j30yq0j8myk.jpg)\\n\\n\u4f60\u4f1a\u5728\u56fe\u7247\u5468\u56f4\u53d1\u73b0\u4e00\u4e2a30x30\u7684\u6846\uff0c\u8fd9\u548c\u6211\u4eec\u521a\u521a\u8bf4\u7684\u56fe\u7247\u5927\u5c0f\u4e0d\u53ef\u6539\u77db\u76fe\u4e86\u4e48\uff1f\\n\\nframe\u5e76\u4e0d\u662f\u7ea6\u675f\uff0c\u800c\u662fmodifier\uff0cmodifier\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u65b0\u7684view\u3002\u6240\u4ee5\u4f60\u52a0\u4e86frame modifier\u540e\uff0c30x30\u5b9e\u9645\u4e0a\u662f\u65b0\u7684view\u3002Image\u8fd8\u662f20x20\u3002\\n\\n### \u518d\u770b\u770bStack\u7684\u5e03\u5c40\u539f\u7406\\n\\n![image-20211216182102883](https://tva1.sinaimg.cn/large/008i3skNgy1gxfugngw30j30yw0jadhj.jpg)\\n\\n\u6211\u4eec\u9996\u5148\u5f97\u6ce8\u610f\u5230\uff0cSwiftUI\u5e76\u4e0d\u662f\u76f4\u63a5\u5427Stack\u5806\u780c\u5728\u4e00\u8d77\uff0c\u800c\u662f\u5728\u4ed6\u4eec\u4e4b\u95f4\u7559\u6709adaptive space\u3002\u8fd9\u662fSwiftUI\u5c06apple \u4eba\u6027\u5316\u8bbe\u8ba1\u6307\u5357\u7684\u4e00\u4e9b\u89c4\u5219\u9ed8\u8ba4\u5e94\u7528\u5230\u4e86SwiftUI\u7684\u7ed3\u679c\uff0c\u4ed6\u4eec\u5e0c\u671b\u4f60\u80fd\u901a\u8fc7\u6700\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u4e5f\u80fd\u4ea7\u751f\u6f02\u4eae\u7684\u7ed3\u679c\u3002\u5982\u679c\u4f60\u4e0d\u5e0c\u671b\u6709\u8fd9\u4e9bspace\uff0c\u53ef\u4ee5\u5728Stack\u521d\u59cb\u5316\u7684\u53c2\u6570\u4e2d\u6307\u5b9aspacing\u4e3a0\u3002\\n\\n![image-20211216182304331](https://tva1.sinaimg.cn/large/008i3skNgy1gxfuirdcufj30yo0ig0u2.jpg)\\n\\n```swift\\nVStack(spacing: 0) {\\n            Text(\\"hello world111\\").background(Color.red)\\n            Image(\\"question-circle\\").background(Color.green)\\n        }\\n```\\n\\n\u73b0\u5728\u6211\u4eec\u6765\u5206\u6790\u4e0bStack\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\u6211\u4eec\u770b\u4e2a\u4f8b\u5b50\u3002\\n\\n![image-20211216182819005](https://tva1.sinaimg.cn/large/008i3skNgy1gxfuo84px1j30yu0ja0u9.jpg)\\n\\n1. \u9996\u5148Parent\u544a\u8bc9HStack\u5efa\u8bae\u7684size\\n2. HStack\u5148\u51cf\u53bbspacing(\u5982\u679c\u6ca1\u6307\u5b9a\uff0c\u662f\u6709\u9ed8\u8ba4space\u7684\uff0c\u4e0a\u9762\u8bf4\u8fc7)\uff0c\u5f97\u5230\u5269\u4f59\u7a7a\u95f4![image-20211216183141238](https://tva1.sinaimg.cn/large/008i3skNgy1gxfurqbo6vj30gq06g3yi.jpg)\\n3. \u56e0\u4e3aHStack\u67093\u4e2achildren\uff0c\u6240\u4ee5\u5c06\u5269\u4f59\u7a7a\u95f43\u7b49\u5206![image-20211216183248259](https://tva1.sinaimg.cn/large/008i3skNgy1gxfuswb3oxj30eu06eweh.jpg)\\n4. \u627e\u51faleast flexible\u7684\u5b50\u89c6\u56fe\uff0c\u5176\u4e2d\u56fe\u7247\u662fleast flexible\u7684\uff0c\u56e0\u4e3a\u4ed6\u7684size\u662f\u56fa\u5b9a\u7684\u3002\u6240\u4ee5\u5269\u4f59\u7a7a\u95f4\u51cf\u53bb\u56fe\u7247size![image-20211216183548332](https://tva1.sinaimg.cn/large/008i3skNgy1gxfuw0e4s0j30f605sdfu.jpg)\\n5. \u91cd\u590d\u4e0a\u9762\u8fc7\u7a0b\u3002\u76ee\u524d\u67092\u4e2achildren\u3002\u6240\u4ee52\u7b49\u5206![image-20211216183644570](https://tva1.sinaimg.cn/large/008i3skNgy1gxfuwzhgh5j30ek0680ss.jpg)\\n6. \u4e24\u4e2a\u4f18\u5148\u7ea7\u4e00\u6837\uff0c\u56e0\u6b64\u5904\u7406\u7b2c\u4e00\u4e2a\uff0c\u5148\u628a\u4e00\u534a\u7684size\u5206\u914d\u7ed9`Delicious`\u3002\u4f46`Delicious`\u8bf4\uff0c\u592a\u591a\u4e86\uff0c\u6211\u8981\u4e0d\u4e86\u8fd9\u4e48\u591a\uff0c\u6211\u53ea\u8981\u8fd9\u4e48\u591asize\u3002![image-20211216184145585](https://tva1.sinaimg.cn/large/008i3skNgy1gxfv27t0v9j30de058dfv.jpg)\\n7. \u518d\u91cd\u590d\u4e0a\u9762\u7684\u8fc7\u7a0b\uff0c\u5f97\u5230\u6700\u65b0\u7684\u5269\u4f59\u7a7a\u95f4![image-20211216184248523](https://tva1.sinaimg.cn/large/008i3skNgy1gxfv3agfbhj30gm05q3yk.jpg)\\n8. \u628a\u5269\u4e0b\u7684\u6240\u6709\u7a7a\u95f4\u5206\u914d\u7ed9`Avocado Toast`\u3002`Avocado Toast`\u8bf4\uff0c\u592a\u591a\u4e86\uff0c\u6211\u7528\u4e0d\u5b8c\u8fd9\u4e48\u591a\u7a7a\u95f4\u3002\u4e8e\u662f`Avocado Toast`\u521a\u597d\u80fd\u663e\u793a\u5b8c\uff0c\u6574\u4e2aHStack\u7684size\u4f1a\u6bd4Parent\u63d0\u4f9b\u7684\u5c0f\u4e00\u4e9b\u3002\\n9. \u6c34\u5e73\u65b9\u5411\u7684size\u786e\u5b9a\u4e86\uff0c\u7136\u540e\u786e\u5b9a\u7ad6\u76f4\u65b9\u5411\u7684\u3002\u7ad6\u76f4\u65b9\u5411\u6309\u7167HStack\u7684`alignment`\u53c2\u6570\u5bf9\u5176\uff0c\u7136\u540esize\u521a\u597d\u80fd\u5305\u88f9\u6574\u4e2aHstack\u3002\\n10. \u81f3\u6b64\u6574\u4e2aHstack\u7684\u5927\u5c0f\u5c31\u5b8c\u5168\u786e\u5b9a\u4e86\u3002\\n\\n\u518d\u6765\u770b\u770b\uff0c\u5982\u679c\u7b2c8\u6b65\u4e2d\u5269\u4f59\u7a7a\u95f4\u4e0d\u591f`Avocado Toast`\u663e\u793a\u4e86\uff0c\u90a3\u4e48`Avocado Toast`\u4f1a\u88ab\u622a\u65ad\\n\\n![image-20211216185124090](https://tva1.sinaimg.cn/large/008i3skNgy1gxfvc8au0yj30fa05eq32.jpg)\\n\\n\u4f46\u662f\u5982\u679c\u6211\u4eec\u60f3\u5c3d\u53ef\u80fd\u4e0d\u622a\u65ad`Avocado Toast`,\u4f18\u5148\u622a\u65ad`Delicios`\uff0c\u8981\u600e\u4e48\u505a\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u4f18\u5148\u7ea7\u3002\\n\\n![image-20211216185442941](https://tva1.sinaimg.cn/large/008i3skNgy1gxfvfor138j30g0094q36.jpg)\\n\\n\u5728\u6709\u4f18\u5148\u7ea7\u7684\u60c5\u51b5\u4e0b\uff0cSwiftUI\u4f1a\u5148\u7ed9\u6240\u6709\u4f4e\u4f18\u5148\u7ea7\u7684\u89c6\u56fe\u9884\u7559\u6700\u5c0fsize\uff0c\u7136\u540e\u628a\u5269\u4f59\u7a7a\u95f4\u5206\u914d\u7ed9\u9ad8\u4f18\u5148\u7ea7\u89c6\u56fe\uff1a\\n\\n![image-20211216185632384](https://tva1.sinaimg.cn/large/008i3skNgy1gxfvhkjb9qj30fg07w0sw.jpg)\\n\\n### Alignment\\n\\n#### alignmentGuide\\n\\n\u8fd8\u8bb0\u5f97\u6211\u4eec\u7b2c9\u6b65\u4e2d\u8bf4\u5230`alignment`\u4e48\uff1f\u8fd9\u91cc\u518d\u591a\u8bf4\u4e00\u70b9\u5176\u4e2d\u7684\u57fa\u7ebf\u5bf9\u5176`lastTextBaseline`\u3002\u6709\u65f6\u5019\u6211\u4eec\u53ef\u80fd\u5bf9\u9ed8\u8ba4\u57fa\u7ebf\u5bf9\u5176\u4e0d\u6ee1\u610f\uff0c \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7`alignmentGuide`\u81ea\u5b9a\u4e49\u5bf9\u5176\u4f4d\u7f6e:\\n\\n![image-20211216190539364](https://tva1.sinaimg.cn/large/008i3skNgy1gxfvr2ju9hj30xo0hejtx.jpg)\\n\\n`.alignmentGuide(.lastTextBaseline) { d in d[.bottom] * 0.975 }`\u7684\u610f\u601d\u662f\u5bf9\u4e8e`lastTextBaseline`\u8fd9\u79cd\u5bf9\u5176\u65b9\u5f0f\uff0c\u4ed6\u7684\u5bf9\u5176\u4f4d\u7f6e\u662f\u5728`.bottom`\u76840.927\u5904\\n\\n#### \u81ea\u5b9a\u4e49\u5bf9\u5176\u65b9\u5f0f\\n\\n![image-20211216191443420](https://tva1.sinaimg.cn/large/008i3skNgy1gxfw0hw2bxj30mg05gt8x.jpg)\\n\\n\u8003\u8651\u4e0b\u6211\u4eec\u8981\u5c06\u661f\u661f\uff0c\u548c`Avocado Toast`\u5bf9\u5176\u3002\u5565\uff1f\u4ed6\u4eec\u4e0d\u662f\u5728\u4e24\u4e2a\u4e0d\u540c\u7684VStack\u4e2d\u4e48\uff1f\u6ca1\u5173\u7cfb\u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5bf9\u5176\u65b9\u5f0f\uff0c\u8ba9\u4ed6\u4eec\u5bf9\u5176\u3002\\n\\n\u9996\u5148\uff0c\u81ea\u5b9a\u4e49\u4e00\u79cd\u5bf9\u5176\u65b9\u5f0f`midStartAndTitle`\uff1a\\n\\n![image-20211216191732259](https://tva1.sinaimg.cn/large/008i3skNgy1gxfw3fdbzoj30re0ekwfx.jpg)\\n\\n\u4f7f\u7528\u65b0\u7684\u5bf9\u5176\u65b9\u5f0f\\n\\n![image-20211216192559807](https://tva1.sinaimg.cn/large/008i3skNgy1gxfwc8fjwmj30xu0iy40z.jpg)"},{"id":"/2021/11/03/\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain","metadata":{"permalink":"/2021/11/03/\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-03-\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain/index.md","source":"@site/blog/2021-11-03-\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain/index.md","title":"\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain","description":"headerimg","date":"2021-11-03T00:00:00.000Z","formattedDate":"2021\u5e7411\u67083\u65e5","tags":[{"label":"keychain","permalink":"/tags/keychain"}],"readingTime":0.76,"truncated":true,"authors":[],"frontMatter":{"title":"\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain","tags":["keychain"]},"prevItem":{"title":"SwiftUI\u4e13\u8f91001-layout\u76f8\u5173\u63a7\u4ef6","permalink":"/2021/11/04/SwiftUI\u4e13\u8f91-001-layout\u76f8\u5173\u63a7\u4ef6"},"nextItem":{"title":"\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension?","permalink":"/2021/11/02/\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension"}},"content":"![headerimg](./B6086038-32F7-48AE-AC07-DBAE5C0F21D7.png)\\n\\n\u4e00\u4e2a\u7b80\u5355\u7684`StringKeyChain`\u5c01\u88c5\uff0c\u5b58\u50a8/\u83b7\u53d6\u5b57\u7b26\u4e32\u5230keychain\u4e2d\u3002\u901a\u5e38\u7528\u4e8e\u751f\u6210\u8bbe\u5907\u7684\u552f\u4e00id\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n```swift\\nclass StringKeyChain {\\n    static func save(value: String, key: String) {\\n        let data = value.data(using: .utf8)!\\n        let query: [String: Any] = [kSecClass as String: kSecClassGenericPassword,\\n                                    kSecAttrAccount as String: key,\\n                                    kSecValueData as String: data]\\n        SecItemDelete(query as CFDictionary)\\n        let status = SecItemAdd(query as CFDictionary, nil)\\n        if status != errSecSuccess {\\n            print(\\"keychain save error\\")\\n        }\\n    }\\n\\n    static func getValue(key: String) -> String? {\\n        let query: [String: Any] = [kSecClass as String: kSecClassGenericPassword,\\n                                    kSecAttrAccount as String: key,\\n//                                    kSecAttrService as String: key,\\n//                                    kSecAttrAccessible as String: kSecAttrAccessibleAfterFirstUnlock,\\n                                    kSecMatchLimit as String: kSecMatchLimitOne,\\n                                    kSecReturnData as String: kCFBooleanTrue!]\\n\\n        var retrivedData: AnyObject?\\n\\n        _ = SecItemCopyMatching(query as CFDictionary, &retrivedData)\\n\\n        guard let data = retrivedData as? Data else { return nil }\\n        return String(data: data, encoding: .utf8)\\n    }\\n}\\n\\n\\n```"},{"id":"/2021/11/02/\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension","metadata":{"permalink":"/2021/11/02/\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-02-\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension/index.md","source":"@site/blog/2021-11-02-\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension/index.md","title":"\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension?","description":"HEADer","date":"2021-11-02T00:00:00.000Z","formattedDate":"2021\u5e7411\u67082\u65e5","tags":[{"label":"Xcode","permalink":"/tags/xcode"}],"readingTime":5.59,"truncated":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension?","tags":["Xcode"]},"prevItem":{"title":"\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain","permalink":"/2021/11/03/\u4e00\u4e2a\u7b80\u5355\u7684StringKeyChain"},"nextItem":{"title":"\u5982\u4f55\u67e5\u770biOS\u3001iPadOS\u7cfb\u7edf\u7248\u672c\u5360\u6bd4\uff1f","permalink":"/2021/11/01/\u5982\u4f55\u67e5\u770bios\u548cipados\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u5360\u6bd4"}},"content":"![HEADer](./Header.png)\\nXcode\u63d0\u4f9b\u4e86XcodeKit\uff0c\u6765\u5141\u8bb8\u6211\u4eec\u7f16\u5199Xcode\u7684\u6269\u5c55\u3002\u4f46\u662f\u8fd9\u4e2aExtension\u529f\u80fd\u6709\u9650\uff0c\u53ea\u80fd\u5904\u7406\u5f53\u524d\u6253\u5f00\u7684\u6587\u4ef6\u7684\u6e90\u7801\u3002\\n\u6211\u4eec\u53ef\u4ee5\u7528\u6765\uff1a\u683c\u5f0f\u5316\u3001\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u7b49\u3002\\n\u5e38\u7528\u7684Extension\u6709XCFormat\uff0c\u53ef\u4ee5\u683c\u5f0f\u5316Swift\u548cOC\u4ee3\u7801\uff0c\u53ef\u4ee5\u5728AppStore\u4e2d\u4e0b\u8f7d\u3002\\n\u6574\u4f53\u5f00\u53d1\u63d2\u4ef6\u7684\u529f\u80fd\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\uff0c\u6211\u4eec\u4ece\u5934\u6f14\u793a\u4e00\u4e2a\u79fb\u9664\u4e00\u884c\u5f00\u5934\u7684\u6570\u5b57\u7684\u63d2\u4ef6\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u521b\u5efaXcode Extension\u5de5\u7a0b\\n\\n### \u521b\u5efa\u4e00\u4e2amacOS\u5de5\u7a0b\\n\\n![image-20211129180100344](https://tva1.sinaimg.cn/large/008i3skNgy1gww6clhtzij313a0do0u1.jpg)\\n\\n\u8fd9\u4e2amacOS\u5de5\u7a0b\uff0c\u5bf9\u5e94\u4eceApp Store\u4e0b\u8f7d\u5b8cExtension\u540e\uff0c\u5728\u684c\u9762\u4e0a\u751f\u6210\u7684\u90a3\u4e2aApp\u3002\u4f60\u53ef\u4ee5\u5728\u8fd9\u4e2aApp\u4e2d\u505aExtension\u8bbe\u7f6e\u76f8\u5173\u7684\u754c\u9762\u3002\\n\\n### \u65b0\u5efa\u4e00\u4e2aXcode Source Editor Extention Target\\n\\n![\u622a\u5c4f2021-11-29 \u4e0b\u53486.09.11](https://tva1.sinaimg.cn/large/008i3skNgy1gww6l504ldj313y0cydh7.jpg)\\n\\n### \u8fd0\u884cExtension Target\\n\\n\u70b9\u51fb\u8fd0\u884cExtension Target\uff0c\u9009\u62e9Xcode\uff0c\u6b64\u65f6\u4f1a\u6253\u5f00\u4e00\u4e2a\u7070\u8272\u7684Xcode\u3002\\n\\n\u6253\u5f00\u6211\u4eec\u7684\u63d2\u4ef6\u7684macOS\u5de5\u7a0b\u3002\\n\\n\u9009\u62e9`Editor`\u83dc\u5355\uff0c\u5e95\u90e8\u5c31\u51fa\u73b0\u4e86\u6211\u4eec\u7684\u81ea\u5b9a\u4e49\u83dc\u5355\u3002\\n\\n![image-20211129182015367](https://tva1.sinaimg.cn/large/008i3skNgy1gww6wlndiej30tq05ct95.jpg)\\n\\n\u5982\u679c\u83dc\u5355\u6ca1\u6709\u51fa\u73b0\uff0c\u90a3\u4e48\u8bf7\u4fee\u6539\u4e00\u4e0bExtension Target\u4e2dXcodeKit\u7684\u94fe\u63a5\u65b9\u5f0f\uff0c\u9009\u62e9`Embed & Sign`\u3002\\n\\n![image-20211129182127182](https://tva1.sinaimg.cn/large/008i3skNgy1gww6xtzyhhj319u0k2gnk.jpg)\\n\\n## Xcode Source Editor Extention\\n\\n\u9ed8\u8ba4\u7684`Xcode Source Editor Extention`\u4f1a\u4e3a\u4f60\u751f\u6210\u4e24\u4e2a\u6587\u4ef6\uff1a\\n\\n- `SourceEditorExtension`:  \u8fd9\u4e2a\u6587\u4ef6\u5b9a\u4e49\u4f60\u5c0f\u83dc\u5355\u4e2d\u7684\u5185\u5bb9\u548cextension\u542f\u52a8\u65f6\u7684\u56de\u8c03\u3002\\n- `SourceEditorCommand`: \u662f\u5c0f\u83dc\u5355\u4e2d\u7684\u547d\u4ee4\u5bf9\u5e94\u7684\u5b9e\u73b0\u7c7b\u3002\\n\\n### \u5c0f\u83dc\u5355\u7684\u5b9a\u4e49\\n\\n\u5c0f\u83dc\u5355\u7684\u5b9a\u4e49\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u901a\u8fc7`SourceEditorExtension`\u7684\u4ee3\u7801\u5b9a\u4e49\u3002\u4e00\u79cd\u662f\u901a\u8fc7`Info.plist`\u5b9a\u4e49\u3002\u4ee3\u7801\u5b9a\u4e49\u7684\u4f18\u5148\u7ea7\u66f4\u9ad8\uff0c\u4f1a\u8986\u76d6Info.plist\u4e2d\u7684\u5b9a\u4e49\u3002\\n\\n#### \u5728Info.plist\u4e2d\u5b9a\u4e49\\n\\n![image-20211129183151859](https://tva1.sinaimg.cn/large/008i3skNgy1gww78nx1j2j318i0ceq5g.jpg)\\n\\n\u6bcf\u4e2a\u547d\u4ee4\u5c31\u662f\u5c0f\u83dc\u5355\u4e2d\u7684\u4e00\u4e2a\u547d\u4ee4\u5bf9\u5e94\u3002\\n\\n- XCSourceEditorCommandClassName\uff1a \u8fd9\u4e2a\u547d\u4ee4\u5bf9\u5e94\u7684\u5b9e\u73b0\u7c7b\u3002\u683c\u5f0f\u662fmoduleName + \u5b9e\u73b0\u7c7b\u7684\u7c7b\u540d\uff1a `$(PRODUCT_MODULE_NAME).YourImplClassName`\u3002\\n- XCSourceEditorCommandIdentifier\uff1a\u4f60\u7684\u8fd9\u4e2a\u547d\u4ee4\u7684\u4e00\u4e2a\u552f\u4e00id\u3002\u683c\u5f0f\u662fbundleId +\u4e00\u4e2a\u5b57\u7b26\u4e32\uff1a `$(PRODUCT_BUNDLE_IDENTIFIER).SourceEditorCommand`\\n- XCSourceEditorCommandName\uff1a\u83dc\u5355\u4e2d\u51fa\u73b0\u7684\u547d\u4ee4\u7684\u540d\u5b57\\n\\n#### \u5728SourceEditorExtension\u4e2d\u5b9a\u4e49\u5c0f\u83dc\u5355\\n\\n```swift\\nclass SourceEditorExtension: NSObject, XCSourceEditorExtension {\\n    \\n    /*\\n    func extensionDidFinishLaunching() {\\n        // If your extension needs to do any work at launch, implement this optional method.\\n    }\\n    */\\n    \\n    \\n    var commandDefinitions: [[XCSourceEditorCommandDefinitionKey: Any]] {\\n        // If your extension needs to return a collection of command definitions that differs from those in its Info.plist, implement this optional property getter.\\n        let command: [XCSourceEditorCommandDefinitionKey: Any] = [\\n            //\u683c\u5f0fmoduleName.\u547d\u4ee4\u5b9e\u73b0\u7c7b\u7684\u7c7b\u540d\\n            .classNameKey: \\"GxEditorToolsExtension.SourceEditorCommand\\",\\n            //\u683c\u5f0fbundleId.\u81ea\u5b9a\u4e49\u5b57\u7b26\u4e32\\n            .identifierKey: \\"com.haixue.GxXcodeEditorTools.GxEditorToolsExtension.removeLinePrefixNum\\",\\n            //\u81ea\u5b9a\u4e49\u540d\u79f0\\n            .nameKey: \\"\u6211\u7684\u5c0f\u83dc\u5355\\"\\n        ]\\n        return [command]\\n    }\\n    \\n}\\n\\n```\\n\\n\\n\\n![image-20211129184031347](https://tva1.sinaimg.cn/large/008i3skNgy1gww7hohzb6j30ok05gaag.jpg)\\n\\n\\n\\n### \u547d\u4ee4\u7684\u5b9e\u73b0\\n\\n\u5b9e\u73b0\u7c7b\u90fd\u9075\u5faa`XCSourceEditorCommand`\u534f\u8bae\u3002\\n\\n\u5f53\u6211\u4eec\u70b9\u51fb\u5c0f\u83dc\u5355\uff0c\u4f1a\u901a\u8fc7command\u7684`XCSourceEditorCommandClassName`\u627e\u5230\u5bf9\u5e94\u7684\u5b9e\u73b0\u7c7b\u3002\u8c03\u7528\u5b9e\u73b0\u7c7b\u7684`func perform(...)`\u65b9\u6cd5\u3002\\n\\n\u6211\u4eec\u770b\u5230\u65b0\u5efa\u9879\u76ee\u9ed8\u8ba4\u4e3a\u6211\u4eec\u751f\u6210\u4e86\u4e00\u4e2acommand\u6a21\u677fSourceEditorCommand\u3002\\n\\n```swift\\nclass SourceEditorCommand: NSObject, XCSourceEditorCommand {\\n    \\n    func perform(with invocation: XCSourceEditorCommandInvocation, completionHandler: @escaping (Error?) -> Void ) -> Void {\\n        // Implement your command here, invoking the completion handler when done. Pass it nil on success, and an NSError on failure.\\n        \\n        completionHandler(nil)\\n    }\\n    \\n}\\n```\\n\\n### \u5b9e\u73b0\u6211\u4eec\u81ea\u5df1\u7684\u547d\u4ee4\\n\\n```swift\\nimport Foundation\\nimport XcodeKit\\n\\nclass RemoveLinePrefixNumCommand: NSObject, XCSourceEditorCommand {\\n    \\n    func perform(with invocation: XCSourceEditorCommandInvocation, completionHandler: @escaping (Error?) -> Void ) -> Void {\\n        // Implement your command here, invoking the completion handler when done. Pass it nil on success, and an NSError on failure.\\n        let lines = invocation.buffer.lines\\n        let result = lines.map { \\"\\\\($0)\\" }.map{ self.removePrefixNum(str: $0) }\\n        invocation.buffer.lines.removeAllObjects()\\n        invocation.buffer.lines.addObjects(from: result)        \\n        completionHandler(nil)\\n    }\\n    \\n    func removePrefixNum(str: String) -> String {\\n        var chars: [Character] = []\\n        //\u7a7a\u683c\u548c\u6570\u5b57\\n        let sets: Set<Character> = [\\" \\", \\"0\\", \\"1\\", \\"2\\", \\"3\\", \\"4\\", \\"5\\", \\"6\\", \\"7\\", \\"8\\", \\"9\\"]\\n        var shouldCheck = true\\n        for c in str {\\n            if shouldCheck {\\n                if sets.contains(c) {\\n                    chars.append(\\" \\")\\n                } else {\\n                    chars.append(c)\\n                    shouldCheck = false\\n                }\\n            } else{\\n                chars.append(c)\\n            }\\n        }\\n        return String(chars)\\n    }\\n}\\n\\n```\\n\\n```objective-c\\n//\u53ef\u4ee5\u770b\u5230invocation\u6709\u7528\u7684\u4e5f\u53ea\u6709\u4e00\u4e2aBuffer\u5bf9\u8c61\\n@interface XCSourceEditorCommandInvocation : NSObject\\n/** The identifier of the command the user invoked. */\\n@property (readonly, copy) NSString *commandIdentifier;\\n/** The buffer of source text on which the command can operate. */\\n@property (readonly, strong) XCSourceTextBuffer *buffer;\\n@property (copy) void (^cancellationHandler)(void);\\n@end\\n```\\n\\n```objective-c\\n///buffer\uff0c\u53c8\u53ea\u80fd\u64cd\u4f5ctab\u3001lines\u3001selections\u3002\\n@interface XCSourceTextBuffer : NSObject\\n\\n@property (readonly, copy) NSString *contentUTI;\\n@property (readonly) NSInteger tabWidth;\\n@property (readonly) NSInteger indentationWidth;\\n@property (readonly) BOOL usesTabsForIndentation;\\n\\n@property (readonly, strong) NSMutableArray <NSString *> *lines;\\n@property (readonly, strong) NSMutableArray <XCSourceTextRange *> *selections;\\n@property (copy) NSString *completeBuffer;\\n@end\\n```\\n\\nxcodeKit\u53ea\u80fd\u64cd\u4f5c\u6587\u672c\uff0c\u50cf\u8bed\u6cd5\u89e3\u6790\u7b49\u90fd\u5f97\u501f\u52a9\u522b\u7684\u5de5\u5177\u6765\u5b9e\u73b0\u3002\\n\\n### \u8c03\u8bd5\\n\\n\u5728\u5de5\u7a0b\u4e2d\u6253\u4e0a\u65ad\u70b9\uff0c\u70b9\u51fb\u8fd0\u884c\u3002\\n\\n\u5728\u7070\u8272xcode\u4e2d\u6253\u5f00\u6211\u4eec\u5de5\u7a0b\uff0c\u70b9\u51fb\u5c0f\u83dc\u5355\u3002\u5c31\u4f1a\u8fdb\u5165\u6211\u4eec\u65ad\u70b9\u3002\\n\\n### \u96c6\u6210\u5230Xcode\u7684Editor\u83dc\u5355\\n\\n\u8fdb\u5165**\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e**--**\u6269\u5c55**\uff0c\u9009\u4e2d\u6211\u4eec\u7684\u63d2\u4ef6\u94a9\u4e0a\u5373\u53ef\\n\\n![image-20211129234423601](https://tva1.sinaimg.cn/large/008i3skNgy1gwwg9umm74j30xw0oc0uo.jpg)\\n\\n### \u5236\u4f5c\u5b89\u88c5\u5305\\n\\n`archive` \uff0c\u7136\u540e\u9009\u62e9copy app\uff0c\u5f97\u5230\u4e00\u4e2a.app\\n\\n![image-20211129235140936](https://tva1.sinaimg.cn/large/008i3skNly1gwwghg4w4tj311q0lydgo.jpg)\\n\\n![image-20211129235317200](https://tva1.sinaimg.cn/large/008i3skNly1gwwgj43el5j30t20jsac5.jpg)\\n\\n\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5c06.app\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u63d0\u5347\u6587\u4ef6\u4e00\u8d77\u653e\u5165\uff0c\u91cd\u547d\u540d\u63d0\u5347\u6587\u4ef6\u4e3aApplication\u3002\\n\\n![image-20211129235452152](https://tva1.sinaimg.cn/large/008i3skNly1gwwgkqyjeaj30f405s3yh.jpg)\\n\\n\u6253\u5f00\u78c1\u76d8\u5de5\u5177\\n\\n![image-20211129235529816](https://tva1.sinaimg.cn/large/008i3skNly1gwwglezhl6j30li0ti75q.jpg)\\n\\n![image-20211129235549564](https://tva1.sinaimg.cn/large/008i3skNly1gwwglrcau8j30v4084ab6.jpg)\\n\\n\u9009\u62e9\u521a\u521a\u7684\u6587\u4ef6\u5939\uff0c\u5c31\u5236\u4f5c\u6210\u4e86dmg\u3002"},{"id":"/2021/11/01/\u5982\u4f55\u67e5\u770bios\u548cipados\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u5360\u6bd4","metadata":{"permalink":"/2021/11/01/\u5982\u4f55\u67e5\u770bios\u548cipados\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u5360\u6bd4","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-11-01-\u5982\u4f55\u67e5\u770bios\u548cipados\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u5360\u6bd4/index.md","source":"@site/blog/2021-11-01-\u5982\u4f55\u67e5\u770bios\u548cipados\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u5360\u6bd4/index.md","title":"\u5982\u4f55\u67e5\u770biOS\u3001iPadOS\u7cfb\u7edf\u7248\u672c\u5360\u6bd4\uff1f","description":"header","date":"2021-11-01T00:00:00.000Z","formattedDate":"2021\u5e7411\u67081\u65e5","tags":[{"label":"\u6742\u8c08","permalink":"/tags/\u6742\u8c08"}],"readingTime":2.125,"truncated":true,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u67e5\u770biOS\u3001iPadOS\u7cfb\u7edf\u7248\u672c\u5360\u6bd4\uff1f","tags":["\u6742\u8c08"]},"prevItem":{"title":"\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension?","permalink":"/2021/11/02/\u5982\u4f55\u7528XcodeKit\u7f16\u5199\u4e00\u4e2aXcodeExtension"},"nextItem":{"title":"Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86?","permalink":"/2021/10/31/Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86"}},"content":"![header](./Header.png)\\n\u6bcf\u5f53\u5f00\u59cb\u65b0\u9879\u76ee\u7684\u65f6\u5019\uff0c\u6211\u4eec\u90fd\u5f97\u51b3\u5b9a\u5e94\u8be5\u628a\u6700\u4f4e\u7cfb\u7edf\u7248\u672c\u8bbe\u7f6e\u4e3a\u591a\u5c11\uff0c\u6b64\u65f6\uff0c\u6211\u4eec\u90fd\u5e0c\u671b\u80fd\u6709\u4e2a\u53c2\u8003\uff0c\u5e02\u573a\u4e0a\u7684\u7cfb\u7edf\u7248\u672c\u7684\u5360\u6bd4\u7a76\u7adf\u662f\u591a\u5c11\uff1f\\n\u82f9\u679c\u5b98\u7f51\u6709\u4e00\u4e2a\u6700\u8fd13\u4e2a\u7cfb\u7edf\u7248\u672c\u7684\u5360\u6bd4\u7edf\u8ba1\uff0c\u6211\u4eec\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5b98\u7f51\u5360\u6bd4\u7edf\u8ba1\\n\\n[\u5b98\u7f51\u7edf\u8ba1\u9875\u9762](https://developer.apple.com/support/app-store/)\\n\\n![iOS_and_iPadOS_usage](./iOS_and_iPadOS_usage.png)\\n\\n\u53ef\u4ee5\u770b\u5230\u7edf\u8ba1\u65f6\u95f4\u662f2021\u5e746\u67083\u65e5\uff0c\\n\\niphone\\n\\n- \u8fd1\u56db\u5e74\u7684\u8bbe\u5907\u4e2d\u5df2\u670998%\u5230iOS13\u4ee5\u4e0a\u3002\\n\\n- \u6240\u6709\u8bbe\u5907\u4e2d93%\u5df2\u7ecf\u5230iOS13\u4ee5\u4e0a\u3002\\n\\niPad\\n\\n- \u8fd1\u56db\u5e74\u7684\u8bbe\u5907\u4e2d\u5df2\u670999%\u5230iOS13\u4ee5\u4e0a\u3002\\n- \u6240\u6709\u8bbe\u5907\u4e2d88%\u5df2\u7ecf\u5230iOS13\u4ee5\u4e0a\u3002\\n\\n\\n\\n## \u5e38\u7528App\u7684\u6700\u4f4e\u7248\u672c\\n\\n\u6211\u4eec\u518d\u53bbappstore\u4e2d\u770b\u4e0b\u514d\u8d39App\u6392\u884c\u699c\u8bbe\u7f6e\u7684\u6700\u4f4e\u7248\u672c\u662f\u591a\u5c11\u3002\\n\\n| App\u540d\u79f0      | \u517c\u5bb9\u6027 |\\n| ------------ | ------ |\\n| \u56fd\u5bb6\u53cd\u8bc8\u4e2d\u5fc3 | iOS10  |\\n| \u5fae\u4fe1         | iOS12  |\\n| \u6296\u97f3         | iOS10  |\\n| QQ           | iOS9   |\\n| \u652f\u4ed8\u5b9d       | iOS9   |\\n| \u62fc\u591a\u591a       | iOS9   |\\n| \u6dd8\u5b9d         | iOS9   |\\n| \u767e\u5ea6         | iOS10  |\\n| \u7f8e\u56e2         | iOS10  |\\n| \u526a\u6620         | iOS11  |\\n| \u9ad8\u5fb7\u5730\u56fe     | iOS10  |\\n| \u5c0f\u7ea2\u4e66       | iOS10  |\\n| \u5f97\u7269         | iOS10  |\\n| \u5feb\u624b\u6781\u901f\u7248   | iOS9   |\\n| \u5feb\u624b         | iOS10  |\\n| \u6296\u97f3\u6781\u901f\u7248   | iOS10  |\\n| \u817e\u8baf\u89c6\u9891     | iOS10  |\\n| \u54b8\u9c7c         | iOS9   |\\n| \u4eac\u4e1c         | iOS9   |\\n| \u9489\u9489         | iOS10  |\\n| \u9177\u72d7\u97f3\u4e50     | iOS9   |\\n| \u4f18\u9177         | iOS10  |\\n| QQ\u97f3\u4e50       | iOS9   |\\n| \u7f51\u6613\u4e91\u97f3\u4e50   | iOS11  |\\n| \u54d4\u54e9\u54d4\u54e9     | iOS9   |\\n| \u7231\u5947\u827a       | iOS10  |\\n| Soul   | iOS11  |\\n| \u77e5\u4e4e   | iOS11  |\\n| \u4eca\u65e5\u5934\u6761      | iOS10  |\\n| \u864e\u7259\u76f4\u64ad      | iOS10  |\\n| \u63a2\u63a2   | iOS11  |\\n| \u3002\u3002\u3002   |   |\\n\\n\u53ef\u4ee5\u770b\u5230\u4e3b\u6d41\u662fiOS10\u3002iOS11\u4e5f\u5448\u73b0\u51fa\u589e\u591a\u7684\u8d8b\u52bf\u3002\u5fae\u4fe1\u7adf\u7136\u76f4\u63a5\u662fiOS12\u3002"},{"id":"/2021/10/31/Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86","metadata":{"permalink":"/2021/10/31/Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-31-Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86/index.md","source":"@site/blog/2021-10-31-Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86/index.md","title":"Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86?","description":"Header","date":"2021-10-31T00:00:00.000Z","formattedDate":"2021\u5e7410\u670831\u65e5","tags":[{"label":"\u6742\u8c08","permalink":"/tags/\u6742\u8c08"}],"readingTime":0.935,"truncated":true,"authors":[],"frontMatter":{"title":"Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86?","tags":["\u6742\u8c08"]},"prevItem":{"title":"\u5982\u4f55\u67e5\u770biOS\u3001iPadOS\u7cfb\u7edf\u7248\u672c\u5360\u6bd4\uff1f","permalink":"/2021/11/01/\u5982\u4f55\u67e5\u770bios\u548cipados\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u5360\u6bd4"},"nextItem":{"title":"appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303\u8bbe\u7f6e","permalink":"/2021/10/30/appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303"}},"content":"![Header](./Header.png)\\n\u521b\u5efa\u65b0\u7684SwiftUI\u9879\u76ee\uff0c\u53d1\u73b0Info.plist\u4e0d\u89c1\u4e86\uff1f\\n\\n\u54e6~~~\uff0c\u539f\u6765\u662fXcode13\u5f15\u8d77\u7684\u3002\\n\x3c!--truncate--\x3e\\n\u67e5\u770b[Xcode13 Release Note](https://developer.apple.com/documentation/xcode-release-notes/xcode-13-release-notes)\uff0c\u53ef\u4ee5\u770b\u5230\\n\\n> Projects created from several templates no longer require configuration files such as entitlements and `Info.plist` files. Configure common fields in the target\u2019s Info tab, and build settings in the project editor. These files are added to the project when additional fields are used. (68254857)\\n\\n\u539f\u6765\u65b0\u7684\u6a21\u677f\u4e0d\u5728\u521b\u5efaInfo.plist\u4e86\uff0cInfo.plist\u7684\u529f\u80fd\u8f6c\u79fb\u5230`Target->Info`\u4e0b\u4e86\u3002\\n\\n![image-20211124115621173](https://tva1.sinaimg.cn/large/008i3skNgy1gwq3pltcx9j311o0oyjub.jpg)\\n\\n\\n\\n\u5728Info\u4e2d\u4fee\u6539\u76f8\u5173\u8bbe\u7f6e\u3002\u5982\u679c\u4f60\u6dfb\u52a0\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49Key\uff0c\u90a3\u4e48\u7cfb\u7edf\u4f1a\u5e2e\u4f60\u521b\u5efa\u4e00\u4e2aInfo.plist\u6765\u5305\u542b\u4f60\u7684\u81ea\u5b9a\u4e49key-value\u3002\\n\\n\u4f60\u4e5f\u53ef\u4ee5\u81ea\u5df1\u76f4\u63a5\u65b0\u5efa\u3002\\n\\n![image-20211124115550252](https://tva1.sinaimg.cn/large/008i3skNgy1gwq3p3sf3lj319g05agm4.jpg)\\n\\n\u975eSwiftUI\u9879\u76ee\u4e2d\u8fd8\u662f\u5b58\u5728Info.plist\uff0c\u4f46\u662f\u5927\u90e8\u5206\u5185\u5bb9\u8fd8\u662f\u90fd\u79fb\u52a8\u5230\u4e86`Target->Info`\u4e2d\u3002Info.plist\u53ea\u4fdd\u7559\u4e86\u90e8\u5206Key-Value\u3002\\n\\n![image-20211124115901894](https://tva1.sinaimg.cn/large/008i3skNgy1gwq3sea29cj316g0dcwg7.jpg)"},{"id":"/2021/10/30/appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303","metadata":{"permalink":"/2021/10/30/appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-30-appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303/index.md","source":"@site/blog/2021-10-30-appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303/index.md","title":"appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303\u8bbe\u7f6e","description":"headerImg","date":"2021-10-30T00:00:00.000Z","formattedDate":"2021\u5e7410\u670830\u65e5","tags":[{"label":"\u6742\u8c08","permalink":"/tags/\u6742\u8c08"}],"readingTime":6.93,"truncated":true,"authors":[],"frontMatter":{"title":"appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303\u8bbe\u7f6e","tags":["\u6742\u8c08"]},"prevItem":{"title":"Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86?","permalink":"/2021/10/31/Xcode13\u7684Info.plist\u4e0d\u89c1\u4e86"},"nextItem":{"title":"\u63a8\u6d41\u5206\u8fa8\u7387\u7801\u7387\u8bbe\u7f6e","permalink":"/2021/10/29/\u63a8\u6d41\u7801\u7387\u8bbe\u7f6e"}},"content":"![headerImg](./Header.png)\\n\\n\u4e0a\u67b6AppStore\u65f6\u9700\u8981\u4f20\u5404\u79cd\u673a\u578b\u7684\u9884\u89c8\u56fe\u7247\u3002\u8fd9\u91cc\u8bb0\u5f55\u4e00\u4e0b\u5b98\u65b9\u6587\u6863\uff0c\u65b9\u4fbfUI\u95ee\u4f60\u5c3a\u5bf8\u65f6\u7ed9\u51fa\u51c6\u786e\u7684\u5c3a\u5bf8\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5b98\u65b9\u94fe\u63a5\\n\\nhttps://help.apple.com/app-store-connect/#/devd274dd925\\n\\n## \u81f3\u5c11\u63d0\u4f9b\u7684\u5c3a\u5bf8\\n\\n\u81f3\u5c11\u9700\u8981\u63d0\u4f9b6.5\u30015.5\u300112.9\u82f1\u5bf8\u7684\u622a\u56fe\u3002\\n\\n5.8\u7684\u53ef\u4ee5\u590d\u75286.5\u7684\u3002\\n\\n3.5\u30014\u30014.7\u7684\u53ef\u4ee5\u590d\u75285.5\u7684\\n\\nipad\u590d\u752812.9\u7684\\n\\n## \u622a\u5c4f\u89c4\u8303\\n\\n| \u8bbe\u5907\u5c3a\u5bf8\u6216\u5e73\u53f0                                               | \u622a\u5c4f\u5c3a\u5bf8                                                     | \u8981\u6c42                                                         | \u622a\u5c4f\u6e90                                                       |\\n| :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |\\n| 6.5 \u82f1\u5bf8\uff1aiPhone 13 Pro Max\u3001iPhone 12 Pro Max\u3001iPhone 11 Pro Max\uff0ciPhone 11\u3001iPhone XS Max\u3001iPhone XR | 1284 x 2778 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092778 x 1284 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff091242 x 2688 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092688 x 1242 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09 | \u82e5 App \u5728 iPhone \u4e0a\u8fd0\u884c\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002                    | \u4e0a\u4f20 6.5 \u82f1\u5bf8\u622a\u5c4f                                            |\\n| 5.8 \u82f1\u5bf8\uff1aiPhone 13 Pro\u3001iPhone 13\u3001iPhone 13 mini\u3001iPhone 12 Pro\u3001iPhone 12\u3001iPhone 12 mini\u3001iPhone 11 Pro\u3001iPhone XS\u3001iPhone X | 1170 x 2532 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092532 x 1170 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff091125 x 2436 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092436 x 1125 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff091080 x 2340 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092340 x 1080 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09 | \u82e5 App \u5728 iPhone \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b 6.5 \u82f1\u5bf8\u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u7f29\u5c0f\u7248 6.5 \u82f1\u5bf8\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 5.8 \u82f1\u5bf8\u622a\u5c4f             |\\n| 5.5 \u82f1\u5bf8\uff1aiPhone 8 Plus\u3001iPhone 7 Plus\u3001iPhone 6s Plus       | 1242 x 2208 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092208 x 1242 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09             | \u82e5 App \u5728 iPhone \u4e0a\u8fd0\u884c\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002                    | \u4e0a\u4f20 5.5 \u82f1\u5bf8\u622a\u5c4f                                            |\\n| 4.7 \u82f1\u5bf8\uff1aiPhone SE\uff08\u7b2c 2 \u4ee3\uff09\u3001iPhone 8\u3001iPhone 7\u3001iPhone 6s\u3001iPhone 6 | 750 x 1334 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff091334 x 750 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09               | \u82e5 App \u5728 iPhone \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b 5.5 \u82f1\u5bf8\u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u7f29\u5c0f\u7248 5.5 \u82f1\u5bf8\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 4.7 \u82f1\u5bf8\u622a\u5c4f             |\\n| 4 \u82f1\u5bf8\uff1aiPhone SE\uff08\u7b2c 1 \u4ee3\uff09                                 | 640 x 1096 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff09640 x 1136 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff091136 x 600 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff091136 x 640 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff09 | \u82e5 App \u5728 iPhone \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b 5.5 \u82f1\u5bf8\u6216 4.7 \u82f1\u5bf8\u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u7f29\u5c0f\u7248 5.5 \u82f1\u5bf8\u6216 4.7 \u82f1\u5bf8\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 4 \u82f1\u5bf8\u622a\u5c4f    |\\n| 3.5 \u82f1\u5bf8\uff1aiPhone 4s                                          | 640 x 920 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff09640 x 960 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff09960 x 600 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff09960 x 640 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff09 | \u82e5 App \u5728 iPhone \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b 5.5 \u82f1\u5bf8 iPhone \u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u7f29\u5c0f\u7248 5.5 \u82f1\u5bf8\u30014.7 \u82f1\u5bf8\u6216 4 \u82f1\u5bf8\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 3.5 \u82f1\u5bf8\u622a\u5c4f |\\n| 12.9 \u82f1\u5bf8\uff1aiPad Pro\uff08\u7b2c 4 \u4ee3\u3001\u7b2c 3 \u4ee3\uff09                      | 2048 x 2732 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092732 x 2048 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09             | \u82e5 App \u5728 iPad \u4e0a\u8fd0\u884c\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002                      | \u4e0a\u4f20\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 3 \u4ee3\uff09\u7684\u622a\u5c4f               |\\n| 12.9 \u82f1\u5bf8\uff1aiPad Pro\uff08\u7b2c 2 \u4ee3\uff09                               | 2048 x 2732 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092732 x 2048 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09             | \u82e5 App \u5728 iPad \u4e0a\u8fd0\u884c\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002                      | \u4e0a\u4f20\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 2 \u4ee3\uff09\u7684\u622a\u5c4f               |\\n| 11 \u82f1\u5bf8\uff1aiPad Pro\u3001iPad Air\uff08\u7b2c 4 \u4ee3\uff09\u3001iPad mini\uff08\u7b2c 6 \u4ee3\uff09 | 1488 x 2266 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092266 x 1488 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff091668 x 2388 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092388 x 1668 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff091640 x 2360 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092360 x 1640 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09 | \u82e5 App \u5728 iPad \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 2 \u4ee3\uff09\u7684\u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 3 \u4ee3\uff09\u7684\u7f29\u5c0f\u7248\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 11 \u82f1\u5bf8\u622a\u5c4f |\\n| 10.5 \u82f1\u5bf8\uff1aiPad\uff08\u7b2c 9 \u4ee3\u3001\u7b2c 8 \u4ee3\u3001\u7b2c 7 \u4ee3\uff09\u3001iPad Pro\u3001iPad Air | 1668 x 2224 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff092224 x 1668 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff09             | \u82e5 App \u5728 iPad \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 2 \u4ee3\uff09\u7684\u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 2 \u4ee3\uff09\u7684\u7f29\u5c0f\u7248\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 10.5 \u82f1\u5bf8\u622a\u5c4f |\\n| 9.7 \u82f1\u5bf8\uff1aiPad\u3001iPad mini                                    | 1536 x 2008 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff091536 x 2048 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff092048 x 1496 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff092048 x 1536 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff09768 x 1004 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff09768 x 1024 \u50cf\u7d20\uff08\u7ad6\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff091024 x 748 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u4e0d\u542b\u72b6\u6001\u680f\uff091024 x 768 \u50cf\u7d20\uff08\u6a2a\u5c4f\uff0c\u542b\u72b6\u6001\u680f\uff09 | \u82e5 App \u5728 iPad \u4e0a\u8fd0\u884c\uff0c\u4e14\u672a\u63d0\u4f9b\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 2 \u4ee3\uff09\u6216 10.5 \u82f1\u5bf8\u7684\u622a\u5c4f\uff0c\u5219\u6b64\u9879\u4e3a\u5fc5\u9700\u9879\u3002 | \u9ed8\u8ba4\uff1a\u9002\u7528\u4e8e 12.9 \u82f1\u5bf8 iPad Pro\uff08\u7b2c 2 \u4ee3\uff09\u7684\u7f29\u5c0f\u7248\u622a\u5c4f\u6216\u7f29\u5c0f\u7248 10.5 \u82f1\u5bf8\u622a\u5c4f\u53ef\u9009\uff1a\u4e0a\u4f20 9.7 \u82f1\u5bf8\u622a\u5c4f |\\n| Mac                                                          | \u5bbd\u9ad8\u6bd4\u987b\u4e3a 16:10\uff0c\u4ee5\u4e0b\u5c3a\u5bf8\u5747\u53ef\uff1a 1280 x 800 \u50cf\u7d201440 x 900 \u50cf\u7d202560 x 1600 \u50cf\u7d202880 x 1800 \u50cf\u7d20 | \u5bf9\u4e8e Mac App \u4e3a\u5fc5\u9700\u9879\u3002                                      | \u4ee5\u4efb\u4e00\u6240\u5217\u5c3a\u5bf8\u4e0a\u4f20\u7684 Mac \u7684\u622a\u5c4f                              |\\n| Apple TV                                                     | 1920 x 1080 \u50cf\u7d203840 x 2160 \u50cf\u7d20                             | \u5bf9\u4e8e Apple TV App \u4e3a\u5fc5\u9700\u9879\u3002                                 | \u4ee5\u4efb\u4e00\u6240\u5217\u5c3a\u5bf8\u4e0a\u4f20\u7684 Apple TV \u622a\u5c4f                           |\\n| Apple Watch\uff1aSeries 7\u3001Series 6\u3001Series 5\u3001Series 4\u3001Series 3\u3001SE | 396 x 484 \u50cf\u7d20\uff08Series 7\uff09368 x 448 \u50cf\u7d20\uff08Series 6\u3001Series 5\u3001Series 4\u3001SE\uff09312 x 390 \u50cf\u7d20\uff08Series 3\uff09 | \u5bf9\u4e8e Apple Watch App \u4e3a\u5fc5\u9700\u9879\u3002                              | \u4ee5\u4efb\u4e00\u6240\u5217\u5c3a\u5bf8\u4e0a\u4f20\u7684 Apple Watch \u622a\u5c4f                        |\\n\\n## App \u5185\u6d3b\u52a8\u5a92\u4f53\u7d20\u6750\u89c4\u8303\\n\\n| \u5a92\u4f53\u7c7b\u578b         | \u652f\u6301\u7684\u6269\u5c55\u540d      | \u5bbd\u9ad8\u6bd4 | \u6700\u5c0f\u5c3a\u5bf8\uff0f\u5206\u8fa8\u7387                  | \u6700\u5927\u5c3a\u5bf8\uff0f\u5206\u8fa8\u7387                  |\\n| :--------------- | :---------------- | :----- | :-------------------------------- | :-------------------------------- |\\n| \u6d3b\u52a8\u5361\u7247\u56fe\u50cf     | .jpg\u3001.jpeg\u3001.png | 16 : 9 | 1920 x 1080 \u50cf\u7d20                  | 3840 x 2160 \u50cf\u7d20                  |\\n| \u6d3b\u52a8\u5361\u7247\u89c6\u9891     | .mov\u3001.m4v\u3001.mp4  | 16 : 9 | 1920 x 1080 \u50cf\u7d20 30 fps \u6216 60 fps | 3840 x 2160 \u50cf\u7d20 30 fps \u6216 60 fps |\\n| \u6d3b\u52a8\u8be6\u60c5\u9875\u9762\u56fe\u50cf | .jpg\u3001.jpeg\u3001.png | 9 : 16 | 1080 x 1920 \u50cf\u7d20                  | 2160 x 3840 \u50cf\u7d20                  |\\n| \u6d3b\u52a8\u8be6\u60c5\u9875\u9762\u89c6\u9891 | .mov\u3001.m4v\u3001.mp4  | 9 : 16 | 1080 x 1920 \u50cf\u7d20 30 fps \u6216 60 fps | 2160 x 3840 \u50cf\u7d20 30 fps \u6216 60 fps |"},{"id":"/2021/10/29/\u63a8\u6d41\u7801\u7387\u8bbe\u7f6e","metadata":{"permalink":"/2021/10/29/\u63a8\u6d41\u7801\u7387\u8bbe\u7f6e","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-29-\u63a8\u6d41\u7801\u7387\u8bbe\u7f6e/index.md","source":"@site/blog/2021-10-29-\u63a8\u6d41\u7801\u7387\u8bbe\u7f6e/index.md","title":"\u63a8\u6d41\u5206\u8fa8\u7387\u7801\u7387\u8bbe\u7f6e","description":"Header","date":"2021-10-29T00:00:00.000Z","formattedDate":"2021\u5e7410\u670829\u65e5","tags":[{"label":"\u6742\u8c08","permalink":"/tags/\u6742\u8c08"}],"readingTime":0.71,"truncated":true,"authors":[],"frontMatter":{"title":"\u63a8\u6d41\u5206\u8fa8\u7387\u7801\u7387\u8bbe\u7f6e","tags":["\u6742\u8c08"]},"prevItem":{"title":"appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303\u8bbe\u7f6e","permalink":"/2021/10/30/appstore\u622a\u56fe\u5c3a\u5bf8\u89c4\u8303"},"nextItem":{"title":"pod repo push\u4f7f\u7528\u603b\u7ed3","permalink":"/2021/10/28/pod-repo-push\u4f7f\u7528\u603b\u7ed3"}},"content":"![Header](./Header.png)\\n\\n\u505a\u76f4\u64ad\u59cb\u7ec8\u79bb\u4e0d\u5f00\u5206\u8fa8\u7387\u548c\u7801\u7387\u7684\u8bbe\u7f6e\u3002\\n\\n\u8fd9\u91cc\u8bb0\u5f55\u4e0b\u817e\u8baf\u97f3\u89c6\u9891sdk\u4e2d\u5bf9\u63a8\u6d41\u53c2\u6570\u7684\u8bbe\u7f6e\u5efa\u8bae\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n### \u5206\u8fa8\u7387\u7801\u7387\u5bf9\u5e94\u8868\\n\\n| \u5206\u8fa8\u7387    | \u7801\u7387\u8303\u56f4            |\\n| --------- | ------------------- |\\n| 160 * 160 | 100Kbps ~ 150Kbps   |\\n| 270*270   | 200Kbps ~ 300Kbps   |\\n| 480*480   | 350Kbps ~ 525Kbps   |\\n| 320*240   | 250Kbps ~ 375Kbps   |\\n| 480*360   | 400Kbps ~ 600Kbps   |\\n| 640*480   | 600Kbps ~ 900Kbps   |\\n| 320*180   | 250Kbps ~ 400Kbps   |\\n| 480*270   | 350Kbps ~ 550Kbps   |\\n| 640*360   | 500Kbps ~ 900Kbps   |\\n| 960*540   | 800Kbps ~ 1500Kbps  |\\n| 1280*720  | 1000Kbps ~ 1800Kbps |\\n| 1920*1080 | 2500Kbps ~ 3000Kbps |"},{"id":"/2021/10/28/pod-repo-push\u4f7f\u7528\u603b\u7ed3","metadata":{"permalink":"/2021/10/28/pod-repo-push\u4f7f\u7528\u603b\u7ed3","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-28-pod-repo-push\u4f7f\u7528\u603b\u7ed3/index.md","source":"@site/blog/2021-10-28-pod-repo-push\u4f7f\u7528\u603b\u7ed3/index.md","title":"pod repo push\u4f7f\u7528\u603b\u7ed3","description":"90088193-C7B8-4466-9DB9-DE681F7BF357","date":"2021-10-28T00:00:00.000Z","formattedDate":"2021\u5e7410\u670828\u65e5","tags":[{"label":"pod","permalink":"/tags/pod"},{"label":"cocoapods","permalink":"/tags/cocoapods"}],"readingTime":2.505,"truncated":true,"authors":[],"frontMatter":{"tags":["pod","cocoapods"],"title":"pod repo push\u4f7f\u7528\u603b\u7ed3"},"prevItem":{"title":"\u63a8\u6d41\u5206\u8fa8\u7387\u7801\u7387\u8bbe\u7f6e","permalink":"/2021/10/29/\u63a8\u6d41\u7801\u7387\u8bbe\u7f6e"},"nextItem":{"title":"Flex-Layout","permalink":"/2021/10/27/Flex-Layout"}},"content":"![90088193-C7B8-4466-9DB9-DE681F7BF357](./90088193-C7B8-4466-9DB9-DE681F7BF357.png)\\n\\n\u6211\u4eec\u5728\u4fee\u6539\u5b8clib\u5e93\u540e\u7684\u6700\u540e\u4e00\u6b65\u5c31\u662f\u4f7f\u7528`pod repo push`\uff0c\u5c06\u65b0\u7684\u7248\u672c\u63a8\u5230\u4ed3\u5e93\u91cc\u3002\\n\\n\u53ef\u662f\u6709\u65f6\u5019\u4f1a\u9047\u5230\u5404\u79cd\u5947\u602a\u7684\u95ee\u9898\uff0c\u5bfc\u81f4\u4e00\u76f4push\u4e0d\u6210\u529f\uff0c\u8fd9\u91cc\u603b\u7ed3\u4e0b\u4f7f\u7528\u65b9\u5f0f\u3002\\n\x3c!--truncate--\x3e\\n### \u4f7f\u7528\u65b9\u5f0f\\n\\n```shell\\npod repo push <\u4ed3\u5e93> xxx.podspec\\n```\\n\\n### \u4f7f\u7528pod lib lint\u68c0\u67e5\\n\\n\u5728push\u524d\uff0c\u6211\u4eec\u6700\u597d\u4f7f\u7528`pod lib lint`\u68c0\u67e5\u4e00\u4e0b\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u63d0\u524d\u66b4\u9732\u51fapush\u65f6\u4f1a\u9047\u5230\u7684\u95ee\u9898\u3002\\n\\n#### --allow-warnings\\n\\n\u6700\u5e38\u7528\u7684\u9009\u9879\uff0c\u5ffd\u7565\u8b66\u544a\\n\\n#### --fail-fast\\n\\n\u5efa\u8bae\u52a0\u4e0a\uff0c\u9047\u5230error\u53ef\u4ee5\u7acb\u9a6c\u7ed3\u675f\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u5728\u5f88\u957f\u5f88\u957f\u7684log\u91cc\u627e\u5230\u5e95\u662f\u4ec0\u4e48error\u3002\\n\\n#### --no-subspecs\\n\\n\u5982\u679c\u6709\u5f88\u591asubspec\uff0c\u53ef\u4ee5\u52a0\u4e0a\u8fd9\u4e2a\uff0c\u80fd\u5feb\u70b9\u3002\\n\\n#### --skip-import-validation\\n\\n\u8df3\u8fc7import\u6821\u9a8c\u3002\u901a\u5e38\u6211\u4eec\u9047\u5230\u4e0b\u9762\u7684\u9519\u8bef\u65f6\uff0c\u53ef\u4ee5\u8df3\u8fc7\u5bf9\u80fd\u5426import\u7684\u6821\u9a8c\\n\\n```shell\\n - NOTE  | [iOS] xcodebuild:  ld: warning: ignoring file xxx/xx/x.a, missing required architecture x86_64 in file xxx/xx/\\n - NOTE  | [iOS] xcodebuild:  ld: warning: ignoring file xxx/xx/x.a, missing required architecture i386 in file xxx/xx/\\n```\\n\\n#### --sources\\n\\n\u6307\u5b9asource\uff0c\u5982\u679cerror\u662f\u67d0\u4e2alib\u627e\u4e0d\u5230\uff0c\u90a3\u4e48\u5c31\u901a\u8fc7\u8fd9\u4e2a\u6307\u5b9a\u8fd9\u4e2alib\u7684source, \u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\uff0c\u7528\u9017\u53f7\u9694\u5f00\u3002\\n\\n```shell\\n--sources=\\"http://my-private/xxx/CocoapodsRepos.git,https://github.com/CocoaPods/Specs.git\\"\\n```\\n\\n### \u4f7f\u7528pod repo push\\n\\n\u4e00\u822c\u80fd\u901a\u8fc7pod lib lint\u7684\uff0c\u57fa\u672c\u4e0apush\u90fd\u6ca1\u5565\u95ee\u9898\u3002\u4e0d\u5efa\u8bae\u4e0dlint\u76f4\u63a5push\uff0c\u56e0\u4e3apush\u4ea7\u751f\u7684Log\u4f1a\u5f88\u957f\u5f88\u957f\uff0c\u5982\u679c\u9047\u5230error\u5c06\u5f88\u96be\u53d1\u73b0\u95ee\u9898\u3002\u4e00\u822c\u5e38\u7528\u7684option\uff1a\\n\\n#### --allow-warnings\\n\\n\u6700\u5e38\u7528\u7684\u9009\u9879\uff0c\u5ffd\u7565\u8b66\u544a\\n\\n#### --sources\\n\\n\u6307\u5b9asource\uff0c\u5982\u679cerror\u662f\u67d0\u4e2alib\u627e\u4e0d\u5230\uff0c\u90a3\u4e48\u5c31\u901a\u8fc7\u8fd9\u4e2a\u6307\u5b9a\u8fd9\u4e2alib\u7684source, \u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\uff0c\u7528\u9017\u53f7\u9694\u5f00\u3002\\n\\n#### --skip-import-validation\\n\\n\u8df3\u8fc7import\u6821\u9a8c\\n\\n### \u5176\u4ed6\\n\\n\u6709\u65f6\u5019\u8fd8\u4f1a\u9047\u5230\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684\u95ee\u9898\u3002\u6bd4\u5982\uff1a\u80fd\u7f16\u8bd1\u8fc7\uff0c\u4f46\u662flint/push\u65f6\u90fd\u62a5compile Error\uff0c\u6700\u540e\u53d1\u73b0\u662fRealReachability\u7684header\u4e2d\u4f1a\u5c11\u4e00\u4e9b\u5b8f\u5b9a\u4e49\uff0c\u4ee3\u7801\u4e2d\u53c8\u5f15\u7528\u4e86\u8fd9\u4e9b\u5b8f\uff0c\u6700\u7ec8\u5168\u90e8\u66ff\u6362\u6389\u5c31\u80fd\u6b63\u5e38push\u3002\\n\\n\u603b\u4e4b\uff0c\u5148lint\uff0c\u7528`--fail-fast`\u5c3d\u5feb\u627e\u5230\u9519\u8bef\u63d0\u793a\uff0c\u5b8c\u6210\u4fee\u6539\u3002"},{"id":"/2021/10/27/Flex-Layout","metadata":{"permalink":"/2021/10/27/Flex-Layout","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-27-Flex-Layout/index.md","source":"@site/blog/2021-10-27-Flex-Layout/index.md","title":"Flex-Layout","description":"193EADF1-38F8-4FAF-9335-A05209EC236A","date":"2021-10-27T00:00:00.000Z","formattedDate":"2021\u5e7410\u670827\u65e5","tags":[{"label":"flex","permalink":"/tags/flex"},{"label":"css","permalink":"/tags/css"}],"readingTime":10.62,"truncated":true,"authors":[],"frontMatter":{"tags":["flex","css"]},"prevItem":{"title":"pod repo push\u4f7f\u7528\u603b\u7ed3","permalink":"/2021/10/28/pod-repo-push\u4f7f\u7528\u603b\u7ed3"},"nextItem":{"title":"\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d","permalink":"/2021/10/26/\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d"}},"content":"![193EADF1-38F8-4FAF-9335-A05209EC236A](./193EADF1-38F8-4FAF-9335-A05209EC236A.png)\\n\\n## flex\u5e03\u5c40\\n\\nflex\u5e03\u5c40\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1aflex container(\u5f39\u6027\u5bb9\u5668)\u548cflex item(\u5f39\u6027\u5143\u7d20)\u7ec4\u6210\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Flex container\\n\\n\u4f60\u53ef\u4ee5\u901a\u8fc7`display:flex` \u6216\u8005 `display:inline-flex`\uff0c\u6765\u5c06\u4e00\u4e2a\u5143\u7d20\u53d8\u6210\u5f39\u6027\u5bb9\u5668\u3002`display:flex`\u58f0\u660e\u7684\u662f\u5757\u7ea7\u6846\uff0c `display:inline-flex`\u58f0\u660e\u7684\u662f\u884c\u5185\u5757\u7ea7\u6846\u3002\\n\\n\u5f53\u4f60\u58f0\u660e\u4e00\u4e2a\u5143\u7d20\u662fflex container\u65f6\uff0c\u4ed6\u7684\u6bcf\u4e2a\u76f4\u63a5\u5b50\u5143\u7d20\u90fd\u53d8\u6210\u4e86\u4e00\u4e2aflex item\u3002\\n\\n### \u6392\u7248\u539f\u5219\\n\\n\u5c06item\u6309\u7167justifycontent\u7684\u8bbe\u7f6e\u4f9d\u6b21**\u6cbf\u7740\u4e3b\u8f74**\u6392\u5217,\u9ed8\u8ba4\u4e0d\u6362\u884c\u3002\\n\\n\u5982\u679c\u6362\u884c\u7684\u8bdd\uff0c\u90a3\u4e48**\u6cbf\u7740\u4ea4\u53c9\u8f74**\u65b9\u5411\u6392\u5217\u4e0b\u4e00\u884c\u3002\\n\\n### flex container\u7684\u8f74\\n\\n\u5f39\u6027\u5bb9\u5668\u67092\u4e2a\u8f74\uff1a\u4e3b\u8f74 \u548c \u4ea4\u53c9\u8f74\u3002\\n\\n`flex-direction`\u5b9a\u4e49\u4e86\u4e3b\u8f74\u7684\u65b9\u5411\uff0c\u4ed6\u7684\u53d6\u503c\u5982\u4e0b\uff1a\\n\\n```css\\nrow: \u6c34\u5e73\u4e66\u5199\u65b9\u5411\\nrow-reverse: \u4e0erow\u76f8\u53cd\\ncoulm: \u5782\u76f4\u4e8e\u4e3b\u8f74\u7684\u4e66\u5199\u65b9\u5411\\ncoulm-reverse:\u4e0ecoulm\u76f8\u53cd\\n```\\n\\n\u90a3\u4e48\u4ea4\u53c9\u8f74\u5462\uff1f\u4ea4\u53c9\u8f74\u59cb\u7ec8\u548c\u4e3b\u8f74\u5782\u76f4\uff0c\u65b9\u5411\u662f\u8fd9\u4e2a\u65b9\u5411\u7684\u4e66\u5199\u65b9\u5411\u3002\\n\\n\u8fd9\u91cc\u90fd\u662f\u7528\u7684\u4e66\u5199\u65b9\u5411\uff0c\u800c\u4e0d\u662f\u6c34\u5e73\u5411\u53f3\u8fd9\u7c7b\u8bcd\u6c47\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u4e0d\u540c\u7684\u4e66\u5199\u65b9\u5411row\u7684\u65b9\u5411\u4e5f\u4e0d\u540c\uff0c\u6bd4\u5982\uff1a\u5bf9\u4e8e\u4ece\u53f3\u5230\u5de6\u4e66\u5199\u65b9\u5411\u7684\uff0c\u4ed6\u7684row\u662f\uff0c\u4ece\u53f3\u5230\u5de6\u3002\\n\\n\u77e5\u9053\u4e86\u4e3b\u8f74\u548c\u4ea4\u53c9\u8f74\u65b9\u5411\u540e\uff0c\u5f39\u6027\u5143\u7d20\u5c06\u6cbf\u7740\u4e3b\u8f74\u65b9\u5411\u5e03\u5c40\uff0c\u5982\u679c\u5141\u8bb8\u6362\u884c\uff0c\u90a3\u4e48\u65b0\u7684\u4e00\u884c\u6cbf\u7740\u4ea4\u53c9\u8f74\u65b9\u5411\u6392\u5217\u3002\\n\\n### \u6362\u884cflex-wrap\\n\\n\u5982\u679c\u5f39\u6027\u5143\u7d20\u5728\u4e3b\u8f74\u65b9\u5411\u4e0a\u6392\u5217\u4e0d\u4e0b\u3002\u9ed8\u8ba4\u662f\u4e0d\u4f1a\u6362\u884c\u7684\uff0c\u5982\u679c\u8bbe\u7f6e\u4e86shrink\uff0c\u90a3\u5c31\u7f29\u5c0f\u5c3a\u5bf8\uff0c\u5426\u5219\u5c06\u4ece\u8fb9\u6846\u6ea2\u51fa\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528flex-wrap\u63a7\u5236\u6362\u884c\u3002\u4ed6\u7684\u503c\u5982\u4e0b\uff1a\\n\\n```\\nnowrap: \u4e0d\u6362\u884c\\nwrap: \u6cbf\u7740\u4ea4\u53c9\u8f74\u65b9\u5411\u6362\u884c\\nwrap-reverse: \u6cbf\u7740\u4ea4\u53c9\u8f74\u7684\u53cd\u65b9\u5411\u6362\u884c\\n```\\n\\n### flex-direction\u548cflex-wrap\u7684\u7b80\u5199\\n\\n`flex-flow`\u662fflex-direction\u548cflex-wrap\u7684\u7b80\u5199\\n\\n### \u63a7\u5236\u7a7a\u767d\u7684\u4f4d\u7f6e\\n\\n\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u77e5\u9053flex item\u4f1a\u6cbf\u7740\u4e3b\u8f74\u65b9\u5411\u8fdb\u884c\u6392\u5217\uff0c\u5982\u679c\u6709\u591a\u884c\uff0c\u90a3\u4e48\u884c\u6cbf\u7740\u4ea4\u53c9\u8f74\u65b9\u5411\u6392\u5217\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u5982\u679c\u4e00\u884c\u6ca1\u5360\u6ee1\uff0c\u7559\u6709\u7a7a\u767d\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7a7a\u767d\u59cb\u7ec8\u51fa\u73b0\u5728\u4e3b\u8f74+\u4ea4\u53c9\u8f74\u7684\u65b9\u5411\u90a3\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u63a7\u5236\u8fd9\u4e2a\u884c\u4e3a\uff0c\u4e0b\u9762\u662f\u76f8\u5173\u5c5e\u6027\uff1a\\n\\n```css\\njustify-content \uff1a\u63a7\u5236\u4e00\u884c\u4e2d\uff0citem\u5728\u4e3b\u8f74\u65b9\u5411\u4e0a\u7684\u5e03\u5c40\u65b9\u5f0f(\u6211\u4e2a\u4eba\u66f4\u559c\u6b22\u7406\u89e3\u4e3a\u7a7a\u767d\u7684\u5904\u7406\u65b9\u5f0f)\\nflex-start: item\u6cbf\u7740\u4e3b\u8f74\u4f9d\u6b21\u5e03\u5c40\uff0c\uff08\u7a7a\u767d\u5168\u5728\u672b\u5c3e\uff09\\nflex-end:item\u6cbf\u7740\u4e3b\u8f74\u53cd\u65b9\u5411\u4f9d\u6b21\u5e03\u5c40\uff0c\uff08\u7a7a\u767d\u5168\u5728\u5f00\u5934\uff09\\ncenter: \u628a\u6240\u6709item\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u5c45\u4e2d\u5e03\u5c40\u3002 (\u7a7a\u767d\u4e24\u4fa7\u7b49\u5206)\\nspace-between: \u628a\u6bcf\u884c\u7b2c\u4e00\u4e2a\u5143\u7d20\u653e\u5728\u4e3b\u8f74\u8d77\u8fb9\uff0c \u6700\u540e\u4e00\u4e2a\u5143\u7d20\u653e\u5728\u4e3b\u8f74\u7ec8\u8fb9\u3002\u7136\u540e\u4f59\u4e0b\u7684item\u7684\u4e24\u4fa7\u653e\u7f6e\u7b49\u91cf\u7a7a\u767d, \u5982\u679c\u6ca1\u6709\u591a\u4f59\u7a7a\u767d\uff0c\u90a3\u4e48\u4f1a\u628a\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u6491\u5230\u5916\u9762\u53bb\u3002\\nspace-around: item\u4e24\u4fa7\u6709\u7b49\u91cf\u7684\u4e0d\u6298\u53e0\u7684\u7a7a\u767d\u3002\\nspace-evenly: \u628a\u5269\u4f59\u7a7a\u767d\u7b49\u5206\uff0c\u548citem\u4f9d\u6b21\u6392\u5217\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u7b2c\u4e00\u4e2a\u5143\u7d20\u5230\u4e3b\u8f74\u8d77\u8fb9\u548c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5230\u4e3b\u8f74\u7ec8\u8fb9\u7684\u8ddd\u79bb\u662f\u4e00\u6837\u7684\u3002\\n```\\n\\n\\n\\n![\u56fe\u50cf](https://tva1.sinaimg.cn/large/008i3skNgy1gr2tjs3h9ij31400sf4ci.jpg)\\n\\n\u5982\u679c\u6ca1\u6709\u591a\u4f59\u7a7a\u767d\uff0c\u9875\u4e0d\u5141\u8bb8\u6362\u884c\uff0c\u90a3\u4e48\u5c06\u6ea2\u51fa\uff0cjustify-content\u5bf9\u6ea2\u51fa\u4e5f\u6709\u5f71\u54cd\\n\\n![\u56fe\u50cf](https://tva1.sinaimg.cn/large/008i3skNgy1gr2tp24qdrj313x0ot134.jpg)\\n\\n### \u4e00\u884c\u4e2d\u5982\u4f55\u5bf9\u9f50\u5143\u7d20\\n\\n\u4e0a\u9762justify-content\u7684\u4f8b\u5b50\u6709\u70b9\u7279\u6b8a\uff0c\u56e0\u4e3a\u4ed6\u4eec\u7684item\u7684\u9ad8\u5ea6\u90fd\u662f\u76f8\u7b49\u7684\uff0c\u4ee5\u81f3\u4e8e\u6211\u4eec\u5ffd\u7565\u4e86\uff0c\u5982\u679citem\u4e5f\u6709\u4e0d\u540c\u9ad8\u5ea6\u65f6\u7684\u60c5\u51b5\u3002\\n\\n\u5982\u679citem\u6709\u4e0d\u540c\u7684\u9ad8\u5ea6\uff0c\u90a3\u4e48item\u5728\u4ea4\u53c9\u8f74\u65b9\u5411\u4e0a\u5e94\u8be5\u5982\u4f55\u5e03\u5c40\u561e\uff1f\\n\\n\u4ed6\u53d7\u4e0b\u9762\u7684\u5c5e\u6027\u63a7\u5236\uff1a\\n\\n```css\\nalign-items : \u5b9a\u4e49\u4e00\u884c\u4e2d\uff0citem\u5728\u4ea4\u53c9\u8f74\u4e0a\u7684\u5e03\u5c40\u65b9\u5f0f\\nflex-start: \u6cbf\u7740\u4ea4\u53c9\u8f74\u8d77\u8fb9\u5bf9\u5176\\nflex-end: \u6cbf\u7740\u4ea4\u53c9\u8f74\u7ec8\u8fb9\u5bf9\u5176\\ncenter: \u5728\u4e00\u884c\u4e2d\u5782\u76f4\u5c45\u4e2d\u5bf9\u5176\\nstretch: \u5168\u90e8\u62c9\u4f38\u586b\u6ee1\u4ea4\u53c9\u8f74\u65b9\u5411\\nbaseline: \u5404\u4e2aitem\u57fa\u7ebf\u5bf9\u5176\\n```\\n\\n![\u56fe\u50cf](https://tva1.sinaimg.cn/large/008i3skNgy1gr2u1epaxhj30dz12gq8x.jpg)\\n\\n### \u4ea4\u53c9\u8f74\u5bf9\u9f50\u65b9\u5f0f\u8986\u76d6\\n\\n\u521a\u521a\u8bb2\u4e86align-items\u662fitem\u5728\u4e00\u884c\u4e2d\u4ea4\u53c9\u8f74\u4e0a\u7684\u5e03\u5c40\u65b9\u5f0f\u3002\u4f46\u6709\u65f6\u6211\u4eec\u53ef\u80fd\u5b58\u5728\u7279\u5f02\u5316\u9700\u6c42\uff0c\u6bd4\u5982\u5947\u6570\u4f4d\u7f6e\u4e0a\u7684item\u662fflex-start, \u5076\u6570\u4f4d\u7f6e\u4e0a\u662fflex-end\u3002\\n\\n`align-self`\u4fbf\u662f\u7528\u4e8e\u8986\u76d6align-items\u5c5e\u6027\u7684\u503c\uff0c\u548calign-items\u4e0d\u540c\u7684\u662f\uff0calign-self\u662f\u58f0\u660e\u5728flex item\u4e0a\u7684\uff0c\u8986\u76d6\u4e86flex container\u4e0a\u7684align-items\u5c5e\u6027\u3002\\n\\n\u7531\u4e8e\u662f\u8986\u76d6align-items\uff0c\u6240\u4ee5\u4ed6\u7684\u53d6\u503c\u548calign-items\u662f\u4e00\u6837\u7684\uff0c\u4f5c\u7528\u4e5f\u662f\u4e00\u6837\u7684\u3002\\n\\n\\n\\n### \u591a\u4e2a\u884c\u7684\u5e03\u5c40\u65b9\u5f0f\\n\\n\u5982\u679c\u5141\u8bb8\u6362\u884c\uff0c\u90a3\u4e48\u4e45\u53ef\u80fd\u51fa\u73b0\u591a\u4e2a\u884c\u7684\u60c5\u51b5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u591a\u4e2a\u884c\u662f\u6cbf\u7740\u4ea4\u53c9\u8f74\u65b9\u5411\u4f9d\u6b21\u6392\u5217\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u884c\u4e3a\u3002\\n\\n`align-content`\u5c5e\u6027\u6307\u5b9a\u4e86\u4ea4\u53c9\u8f74\u65b9\u5411\u4e0a\u7684\u989d\u5916\u7a7a\u95f4\u5982\u4f55\u5206\u914d\u5230\u5404\u4e2a\u884c\u4e4b\u95f4\u3002\\n\\n\u4ed6\u7684\u53d6\u503c\u548cjustify-content\u7c7b\u4f3c\uff0c\u591a\u4e86\u4e2astretch\u3002\\n\\n```css\\nalign-content: \\nflex-start : \u6cbf\u7740\u4ea4\u53c9\u8f74\u8d77\u8fb9\u4f9d\u6b21\u6392\u5217\u884c,(\u7a7a\u767d\u5728\u672b\u5c3e)\\nflex-end : \u6cbf\u7740\u4ea4\u53c9\u8f74\u7ec8\u8fb9\u5f00\u59cb\u4f9d\u6b21\u6392\u5217\u884c\uff0c(\u7a7a\u767d\u5728\u5f00\u5934)\\ncenter: \u628a\u5404\u4e2a\u884c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u5c45\u4e2d\u6392\u5217\\nspace-between: \u7b2c\u4e00\u884c\u653e\u5728\u4ea4\u53c9\u8f74\u8d77\u8fb9\uff0c\u6700\u540e\u4e00\u884c\u653e\u5728\u4ea4\u53c9\u8f74\u7ec8\u8fb9\uff0c\u5269\u4f59\u7a7a\u95f4\u7b49\u5206\u548citem\u4f9d\u6b21\u6392\u5217\\nspace-around: item\u4e24\u8fb9\u6709\u7b49\u91cf\u7684\u4e0d\u6298\u53e0\u7684\u7a7a\u767d\\nspace-evenly: item\u4e24\u8fb9\u6709\u7b49\u91cf\u7a7a\u767d\\nstretch: \u7b49\u5206\u7a7a\u767d\uff0c\u6bcf\u4e00\u884c\u62c9\u4f38\u7b49\u91cf\u7a7a\u767d\u7a7a\u95f4\u3002\\n```\\n\\n\\n\\n![\u56fe\u50cf](https://tva1.sinaimg.cn/large/008i3skNgy1gr2ujy594dj30u00zp1kx.jpg)\\n\\n\\n\\n## Flex item\\n\\n\u521a\u521a\u6211\u4eec\u8bf4\u7684\u9664\u4e86align-self\uff0c\u5176\u4ed6\u90fd\u662f\u5e94\u7528\u5728container\u4e0a\u7684\u5c5e\u6027\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u518d\u770b\u770b\u5e94\u7528\u5728item\u4e0a\u7684\u5c5e\u6027\u3002\\n\\n\u9664\u4e86align-self\uff0c\u8fd8\u6709flex, flex-grow, flex-shrink, flex-basis, order\u3002\\n\\n\u5176\u4e2dflex\u662fflex-grow flex-shrink flex-basis\u7684\u7f29\u5199\u3002\\n\\n\u6211\u4eec\u53ef\u80fd\u9047\u5230\u51fa\u73b0\u7684\u7ed3\u679c\u548c\u60f3\u8c61\u7684\u4e0d\u4e00\u6837\u7684\u60c5\u51b5\uff0c\u8fd9\u4e2a\u5927\u591a\u6570\u67092\u4e2a\u539f\u56e0\uff1a\\n\\n1. \u5bf9\u5c5e\u6027\u542b\u4e49\u7684\u8bef\u89e3\\n2. \u5ffd\u7565\u5404\u4e2a\u60c5\u51b5\u4e0b\u7684\u9ed8\u8ba4\u503c\\n\\n\u5f39\u6027\u5143\u7d20\u8fd8\u6709\uff1a\u5916\u8fb9\u8ddd\u4e0d\u6298\u53e0\u7684\u7279\u6027\u3002float\u548cclear\u5bf9\u5f39\u6027\u5143\u7d20\u4e0d\u8d77\u4f5c\u7528\u3002\\n\\nVertical-align\u5bf9\u5f39\u6027\u5143\u7d20\u6ca1\u6709\u4f5c\u7528\uff0cvertical-align\u662f\u6587\u672c\u5c5e\u6027\u4e2d\u7684\u4e00\u5458\uff0c\u7528\u4e8e\u63a7\u5236\u6587\u672c\u5728\u6587\u672c\u884c\u6846\u4e2d\u7684\u5782\u76f4\u65b9\u5411\u4e0a\u7684\u5bf9\u5176\u65b9\u5f0f\u3002\u6240\u4ee5\u4f60item\u6307\u5b9a\u4e86vertical-align:bottom\uff0c\u90a3\u4e48\u53ea\u662fitem\u4e2d\u7684\u6587\u672c\u5728\u6587\u672c\u884c\u6846\u4e2d\u5e95\u90e8\u5bf9\u9f50\uff0c\u800c\u4e0d\u662f\u628aitem\u63a8\u5411container\u7684\u5e95\u90e8\u3002\\n\\n\u7edd\u5bf9\u5b9a\u4f4d\u5bf9item\u4e5f\u6709\u5f71\u54cd\u3002\u5982\u679c\u67d0\u4e2aitem\u4f7f\u7528\u4e86\u7edd\u5bf9\u5b9a\u4f4d\uff0c\u90a3\u4e48\u8fd9\u4e2aitem\u5c06\u4ece\u6587\u6863\u6d41\u79fb\u9664\uff0c\u4e0d\u4f1a\u53c2\u4e0e\u5f39\u6027\u5e03\u5c40\u3002\u867d\u7136\u4ed6\u4ece\u6587\u6863\u6d41\u4e2d\u79fb\u9664\u4e86\uff0c\u4f46\u662fjustify-content\u548calign-self\u8fd8\u662f\u4f1a\u5f71\u54cd\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\u3002\u6bd4\u5982\uff1aalign-self:center\uff0c\u90a3\u4e48\u7edd\u5bf9\u5b9a\u4f4ditem\u4f1a\u5728\u5f39\u6027\u5bb9\u5668\u4e2d\u4ea4\u53c9\u8f74\u65b9\u5411\u5c45\u4e2d\u3002\\n\\n### Flex-basis\\n\\n\u542b\u4e49\uff1a\u6839\u636e\u589e\u957f\u56e0\u5b50\u6216\u8005\u7f29\u51cf\u56e0\u5b50\u5206\u914d\u591a\u4f59\u6216\u8005\u7f3a\u5c11\u7a7a\u95f4\u4e4b\u524d\uff0c\u5f39\u6027\u5143\u7d20\u7684\u5927\u5c0f\u3002\\n\\n\u4e0d\u9f13\u52b1\uff1a\u5355\u72ec\u4f7f\u7528\uff0c\u5efa\u8bae\u7528flex\u7b80\u5199\\n\\n```css\\nflex-basis:\\nauto: width ==> min-width => content\\n<length>: \u6307\u5b9a\u957f\u5ea6,\u6bd4\u5982200px\\n<percentage>: \u767e\u5206\u6bd4\uff0c\u76f8\u5bf9\u4e8e\u5f39\u6027container\\n```\\n\\n\u6ce8\u610f\uff1aflex-basis\u7684\u9ed8\u8ba4\u503c\u662fauto\uff0c\u4f46\u662f\u5982\u679c\u4f60\u6307\u5b9a\u4e86flex\u5c5e\u6027\uff0c\u7701\u7565\u4e86flex-basis\uff0c\u90a3\u4e48flex-basis\u662f0%\u3002\\n\\n### Flex-grow\\n\\n\u542b\u4e49\uff1a\u6709\u591a\u4f59\u7a7a\u95f4\u65f6\u662f\u5426\u5141\u8bb8\u589e\u5927\uff0c\u4ee5\u53ca\u5982\u4f55\u5206\u914d\u5269\u4f59\u7a7a\u95f4\u3002\\n\\n\u4e0d\u9f13\u52b1\uff1a\u5355\u72ec\u4f7f\u7528\uff0c\u5efa\u8bae\u7528flex\u7b80\u5199\\n\\n\u8d1f\u6570\u65e0\u6548\u3002\\n\\n\u4e0b\u9762\u770b\u770bcontainer\u5bbd750\uff0c\u67093\u4e2a100px\u7684item\uff1a\\n\\n![\u56fe\u50cf](https://tva1.sinaimg.cn/large/008i3skNgy1gr2w7s8g6fj30w20u01bu.jpg)\\n\\n\u5982\u679c\u6211\u4eec\u6362\u6210flex:1, flex:1, flex:3\u5462\uff1f\u6211\u4eec\u770b\u5230\u53c8\u662f\u5206\u914d\u7684\u5168\u90e8\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f\u5269\u4f59\u7a7a\u95f4\u3002\u4e3a\u4ec0\u4e48\u5462\uff1f\u8fd9\u5c31\u548c\u9ed8\u8ba4\u503c\u6709\u5173\u4e86\u3002\\n\\n\u5982\u679c\u6211\u4eec\u5355\u72ec\u8bbeflex-grow\uff0c\u6ca1\u6709\u8bbe\u7f6eflex\uff0c\u548cflex-basis\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019flex-basis\u662fauto\u3002\u4e5f\u5c31\u662f\u5728\u5206\u914d\u5269\u4f59\u7a7a\u95f4\u524d\uff0citem\u5360\u7528width\u7684\u7a7a\u95f4\uff0c\u6240\u4ee5\u5f97\u5230\u5269\u4f59\u7a7a\u95f4\u662f450px\u3002\\n\\n\u5982\u679c\u6307\u5b9a\u4e86flex:1\uff0c \u4f46\u662f\u7701\u7565\u4e86flex-basis\uff0c\u90a3\u4e48flex-basis\u662f0\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u5206\u914d\u5269\u4f59\u7a7a\u95f4\u524d\uff0citem\u4e0d\u5360\u7a7a\u95f4\uff0c3\u4e2aitem\u90fd\u4e0d\u5360\u7a7a\u95f4\uff0c\u90a3\u4e48\u5269\u4f59\u7a7a\u95f4\u5c31\u662f\u6574\u4e2a\u7a7a\u95f4\u7684\u5927\u5c0f\uff0c\u6240\u4ee5\u770b\u5230\u7684\u662f\u6309\u6bd4\u4f8b\u5206\u914d\u3002\\n\\n### Flex-shrink\\n\\n\u7ffb\u8bd1\uff1a\u7a7a\u95f4\u4e0d\u591f\u653e\u7f6e\u6240\u6709\u5f39\u6027\u5143\u7d20\uff0c\u800c\u4e14\u5f39\u6027\u5bb9\u5668\u4e0d\u80fd\u589e\u52a0\u5c3a\u5bf8\u4e5f\u4e0d\u5141\u8bb8\u6362\u884c\u65f6\uff0c\u5982\u4f55\u5206\u914d\u201c\u7f3a\u5c11\u7a7a\u95f4\u201d\u3002\\n\\n\u4e0d\u9f13\u52b1\uff1a\u5355\u72ec\u4f7f\u7528\uff0c\u5efa\u8bae\u7528flex\u7b80\u5199\\n\\n\u90a3\u4e48\u5982\u4f55\u5206\u914d\u5462\uff1f\u9996\u5148\u5f97\u8ba1\u7b97\u51fa\u7f29\u51cf\u6bd4\u4f8b\uff0c\u7f29\u51cf\u6bd4\u4f8b\u4e0d\u4ec5\u548cshrink\u6709\u5173\uff0c\u8fd8\u548citem\u5bbd\u5ea6\u6709\u5173\u3002\\n\\n![\u56fe\u50cf](https://tva1.sinaimg.cn/large/008i3skNgy1gr2x0tya2wj30zv07c408.jpg)\\n\\n\u6700\u7ec8item\u7684\u5bbd\u5ea6\u4e3a\\n\\n120/(150 * 1 + 250 * 1+ 200 *1) * 1 \\n\\nWidth = itemWidth * shrink * \u7f29\u5c0f\u6bd4\u4f8b\u3002\\n\\n### flex\\n\\n\u4e4b\u524d\u8bf4\u4e86flex\u662fflex-grow flex-shrink flex-basis\u7684\u7b80\u5199\uff0c\u63a8\u8350\u4f7f\u7528\u8fd9\u4e2a\u3002\\n\\n\u552f\u4e00\u9700\u8981\u6ce8\u610f\u7684\u662f\u4ed6\u7684\u9ed8\u8ba4\u503c\u3002\u7701\u7565flex-basis\u7684\u8bdd\u662f0 \u800c\u4e0d\u662fauto\u3002\\n\\n### order\\n\\n\u5b9a\u4e49item\u7684\u987a\u5e8f\u3002"},{"id":"/2021/10/26/\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d","metadata":{"permalink":"/2021/10/26/\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-26-\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d/index.md","source":"@site/blog/2021-10-26-\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d/index.md","title":"\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d","description":"68CF50FD-8CA2-4A5B-9D3A-F1786775BDFD","date":"2021-10-26T00:00:00.000Z","formattedDate":"2021\u5e7410\u670826\u65e5","tags":[{"label":"github","permalink":"/tags/github"}],"readingTime":1.315,"truncated":true,"authors":[],"frontMatter":{"tags":["github"]},"prevItem":{"title":"Flex-Layout","permalink":"/2021/10/27/Flex-Layout"},"nextItem":{"title":"\u535a\u5ba2\u5f00\u5f20\u5566","permalink":"/2021/10/25/\u535a\u5ba2\u5f00\u5f20\u5566"}},"content":"![68CF50FD-8CA2-4A5B-9D3A-F1786775BDFD](./68CF50FD-8CA2-4A5B-9D3A-F1786775BDFD.png)\\n\\n\u5f53\u6211\u4eec\u628ablog\u6258\u7ba1\u5728github page\u4e0a\u540e\uff0c\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a`<userName>.github.io`\u7684\u57df\u540d\u3002\u4e0d\u8fc7\u6709\u70b9\u4e11\uff0c\u6ca1\u5173\u7cfb\u6211\u4eec\u8fd8\u53ef\u4ee5\u7528\u81ea\u5df1\u7684\u57df\u540d\u3002\\n\x3c!--truncate--\x3e\\n### \u7b2c\u4e00\u6b65\uff1a\u8d2d\u4e70\u57df\u540d\\n\\n\u6211\u662f\u5728\u963f\u91cc\u4e91\u4e0a\u4e70\u7684\u4e00\u4e2a\u57df\u540d\uff0c\u8d2d\u4e70\u5b8c\u6210\u540e\uff0c\u8fdb\u5165`\u89e3\u6790\u8bbe\u7f6e`\uff0c \u7136\u540e\u6dfb\u52a0\u8bb0\u5f55\u3002\\n\\n![23A6A5C1-68E6-4B1C-B56F-C962C574E897](./23A6A5C1-68E6-4B1C-B56F-C962C574E897.png)\\n\\n##### \u6dfb\u52a0\u4e00\u4e2aCNAME\u8bb0\u5f55\\n\\n\u8bb0\u5f55\u7c7b\u578b\uff1aCNAME\\n\\n\u4e3b\u673a\u8bb0\u5f55\uff1awww\\n\\n\u8bb0\u5f55\u503c:  xxx.github.io\\n\\n##### \u6dfb\u52a0\u591a\u4e2aA\u8bb0\u5f55\\n\\n\u53c2\u8003[\u5b98\u65b9\u6587\u6863](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain), \u6dfb\u52a0\u591a\u4e2aA \u548c AAAA\\n\\n\u8bb0\u5f55\u7c7b\u578b\uff1aA\\n\\n\u4e3b\u673a\u8bb0\u5f55\uff1a\u4e0d\u586b\\n\\n\u8bb0\u5f55\u503c:  185.199.108.153\\n\\n### \u7b2c\u4e8c\u6b65\uff1a\u4fee\u6539\u4ed3\u5e93setting\\n\\n![226E7E5E-6EE6-457B-85F9-CD1823B554ED](./226E7E5E-6EE6-457B-85F9-CD1823B554ED.png)\\n\\nCustom domain\u5904\u586b\u5199\u4f60\u81ea\u5df1\u7684\u57df\u540d\uff0c\u7136\u540e\u7b49\u4e00\u4f1agithub\u89e3\u6790\uff0c\u6210\u529f\u540e\u52fe\u9009`Enforce https`\u3002\\n\\n\u73b0\u5728\u5c31\u53ef\u4ee5\u8bbf\u95ee\u65b0\u7684\u3002\\n\\n### \u7b2c\u4e09\u6b65\uff1a\u5176\u4ed6\u4fee\u6539\\n\\n\u5982\u679c\u4f60\u4f7f\u7528\u50cf`docusaurus`\u8fd9\u6837\u7684\u6846\u67b6\uff0c\u90a3\u4e48\u8fd8\u5f97\u4fee\u6539config\u6587\u4ef6\u4e2d\u7684url\u548cbaseUrl\u3002\\n\\n```json\\n{\\n  url: \'https://gouxin.fun\',\\n  baseUrl: \'/\',\\n}\\n```\\n\\n\u7136\u540e\u4f60\u8fd8\u4f1a\u53d1\u73b0\uff0c\u6bcf\u6b21deploy\u540ecustom domain\u90fd\u4f1a\u88ab\u91cd\u7f6e\u3002\u6211\u4eec\u8fd8\u9700\u8981\u5728static\u76ee\u5f55\u4e0b\u52a0\u4e0aCNAME\u6587\u4ef6\uff0c\u53c2\u8003https://docusaurus.io/zh-CN/docs/deployment#docusaurusconfigjs-settings"},{"id":"/2021/10/25/\u535a\u5ba2\u5f00\u5f20\u5566","metadata":{"permalink":"/2021/10/25/\u535a\u5ba2\u5f00\u5f20\u5566","editUrl":"https://github.com/xing-ou/GxBlog/blog/2021-10-25-\u535a\u5ba2\u5f00\u5f20\u5566/index.md","source":"@site/blog/2021-10-25-\u535a\u5ba2\u5f00\u5f20\u5566/index.md","title":"\u535a\u5ba2\u5f00\u5f20\u5566","description":"6DE1C549-029E-49E9-A79B-669B782FD675","date":"2021-10-25T00:00:00.000Z","formattedDate":"2021\u5e7410\u670825\u65e5","tags":[{"label":"\u6742\u8c08","permalink":"/tags/\u6742\u8c08"}],"readingTime":0.285,"truncated":false,"authors":[],"frontMatter":{"tags":["\u6742\u8c08"]},"prevItem":{"title":"\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d","permalink":"/2021/10/26/\u5982\u4f55\u4e3agithubPage\u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d"}},"content":"![6DE1C549-029E-49E9-A79B-669B782FD675](./6DE1C549-029E-49E9-A79B-669B782FD675.png)\\n\\n \u4e4b\u524d\u7684blog\u5728\u8001\u7535\u8111\u4e0a\uff0c\u73b0\u5728\u5df2\u7ecf\u627e\u4e0d\u5230\u4e86\uff0c\u6709\u6bb5\u65f6\u95f4\u6ca1\u6709\u5199\u535a\u5ba2\u4e86\u3002\u73b0\u5728\u7528[docusaurus](https://docusaurus.io/)\u91cd\u65b0\u642d\u5efa\u81ea\u5df1\u7684\u535a\u5ba2\u3002\u76f8\u6bd4\u4e8ehexo\uff0cdocusaurus\u4f7f\u7528React\u66f4\u7075\u6d3b\u3002\\n\\n\u52a0\u6cb9\uff01\u52a0\u6cb9\uff01\u52a0\u6cb9"}]}')}}]);