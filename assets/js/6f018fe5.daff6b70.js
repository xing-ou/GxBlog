"use strict";(self.webpackChunkgx_blog=self.webpackChunkgx_blog||[]).push([[7288],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return p}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),p=a,g=d["".concat(l,".").concat(p)]||d[p]||m[p]||r;return n?i.createElement(g,o(o({ref:t},u),{},{components:n})):i.createElement(g,o({ref:t},u))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8383:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return d}});var i=n(3117),a=n(102),r=(n(7294),n(3905)),o=["components"],s={title:"6\u3001\u9884\u89c8mock\u6570\u636e",tags:["swiftUI"]},l=void 0,c={unversionedId:"swiftUI-cookbook/\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/\u9884\u89c8mock\u6570\u636e",id:"swiftUI-cookbook/\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/\u9884\u89c8mock\u6570\u636e",title:"6\u3001\u9884\u89c8mock\u6570\u636e",description:"\u901a\u5e38\u6211\u4eec\u83b7\u53d6\u6570\u636e\u662f\u901a\u8fc7 API \u8c03\u7528\u3002\u4f46\u8fd9\u53ef\u80fd\u5f88\u8017\u65f6\uff0c\u5e76\u5f88\u5feb\u6210\u4e3a\u74f6\u9888\u3002\u66f4\u5feb\u7684\u9009\u62e9\u662f\u4ec5\u5728\u6784\u5efa\u65f6\u63d0\u4f9b\u4e00\u4e9bmock\u6570\u636e\u3002",source:"@site/docs/swiftUI-cookbook/04-\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/06-\u9884\u89c8mock\u6570\u636e.md",sourceDirName:"swiftUI-cookbook/04-\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8",slug:"/swiftUI-cookbook/\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/\u9884\u89c8mock\u6570\u636e",permalink:"/docs/swiftUI-cookbook/\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/\u9884\u89c8mock\u6570\u636e",editUrl:"https://github.com/xing-ou/GxBlog/docs/swiftUI-cookbook/04-\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/06-\u9884\u89c8mock\u6570\u636e.md",tags:[{label:"swiftUI",permalink:"/docs/tags/swift-ui"}],version:"current",sidebarPosition:6,frontMatter:{title:"6\u3001\u9884\u89c8mock\u6570\u636e",tags:["swiftUI"]},sidebar:"swiftUI-cookbook",previous:{title:"5\u3001\u9884\u89c8UIKit",permalink:"/docs/swiftUI-cookbook/\u7b2c\u56db\u7ae0-SwiftUI\u7684\u9884\u89c8/\u9884\u89c8UIKit"},next:{title:"1\u3001\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections",permalink:"/docs/swiftUI-cookbook/\u7b2c\u4e94\u7ae0-\u4f7f\u7528\u5bb9\u5668\u7ec4\u4ef6/\u5728Form\u4e2d\u663e\u793a\u9690\u85cfsections"}},u=[{value:"Getting ready",id:"getting-ready",children:[],level:2},{value:"How to do it",id:"how-to-do-it",children:[],level:2},{value:"How it works",id:"how-it-works",children:[],level:2}],m={toc:u};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u901a\u5e38\u6211\u4eec\u83b7\u53d6\u6570\u636e\u662f\u901a\u8fc7 API \u8c03\u7528\u3002\u4f46\u8fd9\u53ef\u80fd\u5f88\u8017\u65f6\uff0c\u5e76\u5f88\u5feb\u6210\u4e3a\u74f6\u9888\u3002\u66f4\u5feb\u7684\u9009\u62e9\u662f\u4ec5\u5728\u6784\u5efa\u65f6\u63d0\u4f9b\u4e00\u4e9bmock\u6570\u636e\u3002"),(0,r.kt)("p",null,"\u672c\u7ae0\u6211\u4eec\u5c06\u5728",(0,r.kt)("strong",{parentName:"p"},"Preview Content"),"\u6587\u4ef6\u5939\u4e0b\u5b58\u50a8\u4e00\u4e9bjson\uff0c\u6765\u6a21\u62dfApi\u8c03\u7528\u3002"),(0,r.kt)("h2",{id:"getting-ready"},"Getting ready"),(0,r.kt)("p",null,"\u9996\u5148\u65b0\u5efa\u4e00\u4e2aSwiftUI\u9879\u76ee",(0,r.kt)("strong",{parentName:"p"},"UsingMockDataForPreviews")),(0,r.kt)("h2",{id:"how-to-do-it"},"How to do it"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9996\u5148\u51c6\u5907\u4e00\u4e2ajson\u6587\u4ef6: insetsData.json")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'[\n  {\n      "id": 1,\n    "imageName": "honeybee",\n    "name": "Honey bee",\n    "habitat": "Tropical climates",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  },\n  {\n      "id": 2,\n    "imageName": "greenbrownfly",\n    "name": "Green Fly",\n    "habitat": "warm and moist climates",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  },\n  {\n      "id": 3,\n    "imageName": "greenbug",\n    "name": "Green bug",\n    "habitat": "orchards and gardens",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  },\n  {\n      "id": 4,\n    "imageName": "blackbeatle",\n    "name": "Black Beatle",\n    "habitat": "Tropical climates",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  },\n  {\n      "id": 5,\n    "imageName": "brownspider",\n    "name": "Brown Spider",\n    "habitat": "warm and moist climates",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  },\n  {\n      "id": 6,\n    "imageName": "bluedragonfly",\n    "name": "Blue Dragonfly",\n    "habitat": "around lakes and streams",\n    "description": "Lorem ipsum dolor sit amet, consecte"\n  },\n  {\n      "id": 7,\n    "imageName": "brownblackbutterfly",\n    "name": "Brown Black Butterfly",\n    "habitat": "deciduous forests",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  },\n  {\n      "id": 8,\n    "imageName": "grasshopper",\n    "name": "Grasshopper",\n    "habitat": "dry open habitat with lots of grass",\n    "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Id volutpat lacus laoreet non curabitur gravida arcu ac. Felis imperdiet proin fermentum leo vel. Et netus et malesuada fames. Amet nisl suscipit adipiscing bibendum est ultricies integer."\n  }\n]\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e00\u4e2amodel\u548cjson\u5bf9\u5e94")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'struct Insect : Decodable, Identifiable{\n    var id: Int\n    var imageName: String\n    var name:String\n    var habitat:String\n    var description:String\n}\n\nlet testInsect = Insect(id: 1, imageName: "grasshopper", name: "grass", habitat: "rocks", description: "none")\n\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5728",(0,r.kt)("strong",{parentName:"li"},"ContentView.swift"),"\u4e2d\u589e\u52a0UI\u4ee3\u7801,\u663e\u793a\u6570\u636e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'struct ContentView: View {\n    var insects:[Insect] = []\n    var body: some View {\n        NavigationView {\n            List {\n                ForEach(insects) { insect in\n                    HStack {\n                        Image(insect.imageName)\n                            .resizable()\n                            .aspectRatio(contentMode: .fit)\n                            .clipShape(Rectangle())\n                            .frame(width: 100, height: 80)\n                        VStack(alignment: .leading) {\n                            Text(insect.name).font(.title)\n                            Text(insect.habitat)\n                        }.padding(.vertical)\n                    }\n                }\n\n            }.navigationBarTitle("Insects")\n        }\n    }\n}\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"\u5728\u9884\u89c8\u4e2d\u4f20\u5165mock\u6570\u636e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift"},'struct ContentView_Previews: PreviewProvider {\n    static var previews: some View {\n        ContentView(insects: Self.testInsects)\n    }\n    \n    static var testInsects : [Insect]{\n        guard let url = Bundle.main.url(forResource:"insetsData", withExtension: "json"),\n            let data = try? Data(contentsOf: url) else{\n                return[]\n        }\n        let decoder  = JSONDecoder()\n        let array = try?decoder.decode([Insect].self, from: data)\n        return array ??  [testInsect]\n    }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://tva1.sinaimg.cn/large/008i3skNgy1gxx6iafb9cj30dk0qc0tt.jpg",alt:"image-20211231181222575"})),(0,r.kt)("h2",{id:"how-it-works"},"How it works"),(0,r.kt)("p",null,"\u5728preview\u4e2d\uff0c\u6211\u4eec\u8bfb\u53d6json\u6587\u4ef6\uff0c\u7136\u540e\u8f6c\u6210modle\u6570\u7ec4\uff0c\u5f97\u5230mock\u6570\u636e\u3002"),(0,r.kt)("p",null,"\u7136\u540e\u5c06Mock\u6570\u636e\u4f20\u7ed9View\u663e\u793a\u3002"))}d.isMDXComponent=!0}}]);